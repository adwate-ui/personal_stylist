module.exports=[92e3,a=>{"use strict";let b=(0,a.i(70106).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],92e3)},96221,a=>{"use strict";let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},5031,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(23292),f=a.i(70106);let g=(0,f.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var h=a.i(8406),i=a.i(96221),j=a.i(92e3);let k=(0,f.default)("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),l=(0,f.default)("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]),m=(0,f.default)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);var n=a.i(71165);let o=()=>(0,b.jsx)(b.Fragment,{children:[...Array(8)].map((a,c)=>(0,b.jsxs)("div",{className:"card relative animate-pulse",children:[(0,b.jsx)("div",{className:"aspect-[3/4] bg-gray-800/50 rounded-t-xl"}),(0,b.jsx)("div",{className:"p-4 space-y-3",children:(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("div",{className:"h-6 w-24 bg-gray-800/50 rounded"}),(0,b.jsx)("div",{className:"h-5 w-12 bg-gray-800/50 rounded"})]})})]},c))}),p={Shirts:["shirt","blouse","top","polo"],Suits:["suit","blazer","sport coat"],Trousers:["trouser","pant","slacks","chino"],Jeans:["jean","denim"],Jackets:["jacket","coat","outerwear","parka","bomber"],Coats:["coat","overcoat","trench"],Shoes:["shoe","sneaker","boot","loafer","oxford","heel","flat","sandal"],Accessories:["accessory","pocket square","scarf","hat","cap","glove"],Ties:["tie","bow tie","necktie"],Belts:["belt"],Watches:["watch","timepiece"],Socks:["sock","hosiery"],Dresses:["dress","gown"],Skirts:["skirt"],Activewear:["activewear","sportswear","athletic","gym","workout"]};function q(){let[a,f]=(0,c.useState)([]),[q,r]=(0,c.useState)(!0),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)(1),[w,x]=(0,c.useState)(!1),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)("grid"),[C,D]=(0,c.useState)(!0),[E,F]=(0,c.useState)("4x4"),G=async(a=1,b=!1)=>{b?z(!0):(r(!0),t(null));try{let{data:{user:c}}=await n.supabase.auth.getUser();if(!c){if(b)return void x(!1);f([]),r(!1);return}let d=(a-1)*20,g=d+20-1,{data:h,error:i,count:j}=await n.supabase.from("wardrobe_items").select("*",{count:"exact"}).eq("user_id",c.id).order("created_at",{ascending:!1}).range(d,g);if(i)throw Error(i.message);let k=h||[];b?f(a=>[...a,...k]):(f(k),k.length>0&&e.toast.success("Wardrobe updated")),x((j||0)>g+1),v(a)}catch(a){console.error(a),b?e.toast.error("Failed to load more items",{description:a.message}):t(a.message||"Failed to load wardrobe items")}finally{r(!1),z(!1)}};(0,c.useEffect)(()=>{G()},[]);let H=a.reduce((a,b)=>{let c=C?((a,b)=>{let c=`${a||""} ${b||""}`.toLowerCase();for(let a of["Watches","Socks","Ties","Belts","Suits","Jeans","Trousers","Shirts","Dresses","Skirts","Coats","Jackets","Shoes","Accessories","Activewear"]){let b=p[a];if(b&&b.some(a=>c.includes(a)))return a}return"Other"})(b.category,b.sub_category):"All Items";return a[c]||(a[c]=[]),a[c].push(b),a},{}),I=Object.keys(H).sort();return(0,b.jsxs)("div",{className:"min-h-screen p-8 pb-20",children:[(0,b.jsxs)("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-4xl font-bold mb-2 font-serif",children:"My Wardrobe"}),(0,b.jsx)("p",{className:"text-gray-400",children:"Digitize and organize your style."})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"flex bg-white/5 rounded-lg p-1 border border-white/10",children:(0,b.jsxs)("button",{onClick:()=>D(!C),className:`p-2 rounded-md transition-all flex items-center gap-2 text-sm ${C?"bg-primary text-black shadow-lg":"text-gray-400 hover:text-white"}`,title:"Group by Category",children:[(0,b.jsx)(m,{size:18}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Groups"})]})}),(0,b.jsxs)("div",{className:"flex bg-white/5 rounded-lg p-1 border border-white/10",children:[(0,b.jsx)("button",{onClick:()=>B("grid"),className:`p-2 rounded-md transition-all ${"grid"===A?"bg-white/10 text-white":"text-gray-400 hover:text-white"}`,children:(0,b.jsx)(k,{size:18})}),(0,b.jsx)("button",{onClick:()=>B("list"),className:`p-2 rounded-md transition-all ${"list"===A?"bg-white/10 text-white":"text-gray-400 hover:text-white"}`,children:(0,b.jsx)(l,{size:18})})]}),"grid"===A&&(0,b.jsxs)("div",{className:"flex bg-white/5 rounded-lg p-1 border border-white/10",children:[(0,b.jsx)("button",{onClick:()=>F("4x4"),className:`px-3 py-2 rounded-md transition-all text-xs font-medium ${"4x4"===E?"bg-white/10 text-white":"text-gray-400 hover:text-white"}`,children:"4×4"}),(0,b.jsx)("button",{onClick:()=>F("5x5"),className:`px-3 py-2 rounded-md transition-all text-xs font-medium ${"5x5"===E?"bg-white/10 text-white":"text-gray-400 hover:text-white"}`,children:"5×5"}),(0,b.jsx)("button",{onClick:()=>F("6x6"),className:`px-3 py-2 rounded-md transition-all text-xs font-medium ${"6x6"===E?"bg-white/10 text-white":"text-gray-400 hover:text-white"}`,children:"6×6"})]}),(0,b.jsxs)(d.default,{href:"/add-item",className:"btn btn-primary",children:[(0,b.jsx)(g,{size:20,className:"mr-2"})," ",(0,b.jsx)("span",{className:"hidden sm:inline",children:"Add Item"})]})]})]}),s?(0,b.jsxs)("div",{className:"glass p-8 rounded-xl text-center max-w-md mx-auto mt-20 border border-red-500/30",children:[(0,b.jsx)(j.AlertCircle,{className:"mx-auto mb-4 text-red-400",size:48}),(0,b.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Unavailable"}),(0,b.jsx)("p",{className:"text-gray-400 mb-6",children:s}),(0,b.jsx)("button",{onClick:()=>G(),className:"btn bg-red-500/20 hover:bg-red-500/30 text-red-200 border-none",children:"Try Again"})]}):(0,b.jsxs)(b.Fragment,{children:[0!==a.length||q?(0,b.jsxs)("div",{className:"space-y-12",children:[I.map(a=>(0,b.jsxs)("div",{className:"animate-fade-in",children:[C&&(0,b.jsxs)("h2",{className:"text-2xl font-serif font-bold mb-6 border-b border-white/10 pb-2 flex items-center gap-2",children:[a," ",(0,b.jsx)("span",{className:"text-xs font-sans font-normal text-gray-500 bg-white/5 px-2 py-1 rounded-full",children:H[a].length})]}),(0,b.jsx)("div",{className:"grid"===A?`grid-gallery-${E}`:"space-y-4",children:H[a].map(a=>"grid"===A?(0,b.jsxs)("div",{className:"card group relative",children:[(0,b.jsx)("div",{className:"aspect-[3/4] overflow-hidden bg-gray-800",children:(0,b.jsx)("img",{src:a.image_url||"/placeholder-garment.jpg",alt:a.name||a.sub_category,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"})}),(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,b.jsx)("h3",{className:"font-bold text-lg capitalize truncate pr-2",children:a.name||a.sub_category||a.category}),a.style_score&&(0,b.jsxs)("span",{className:"bg-white/10 text-xs px-2 py-1 rounded whitespace-nowrap",children:[a.style_score,"/10"]})]}),(0,b.jsx)("p",{className:"text-xs text-gray-400 mb-3 line-clamp-2",children:a.description||a.ai_analysis?.description||"No description available"}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[a.brand&&(0,b.jsx)("span",{className:"text-xs border border-white/20 px-2 py-1 rounded-full capitalize bg-white/5",children:a.brand}),a.season&&(0,b.jsx)("span",{className:"text-xs border border-white/20 px-2 py-1 rounded-full capitalize",children:a.season})]})]}),(0,b.jsxs)("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center p-6 text-center backdrop-blur-sm pointer-events-none",children:[(0,b.jsx)(h.Sparkles,{size:24,className:"text-[#d4af37] mb-2"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:a.ai_analysis?.styling_tips?.[0]||a.critique||"View details for styling tips"})]})]},a.id):(0,b.jsxs)("div",{className:"card p-4 flex gap-6 items-center hover:bg-white/5 transition-colors group",children:[(0,b.jsx)("div",{className:"w-24 h-32 shrink-0 bg-gray-800 rounded-lg overflow-hidden",children:(0,b.jsx)("img",{src:a.image_url||"/placeholder-garment.jpg",alt:a.name,className:"w-full h-full object-cover"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,b.jsx)("h3",{className:"font-bold text-xl capitalize truncate",children:a.name||a.sub_category||a.category}),a.style_score&&(0,b.jsxs)("span",{className:`text-sm font-bold px-3 py-1 rounded-full ${a.style_score>80?"bg-green-500/20 text-green-400":"bg-white/10"}`,children:[a.style_score,"/10"]})]}),(0,b.jsx)("p",{className:"text-sm text-gray-400 mb-3 line-clamp-1",children:a.description||a.ai_analysis?.description}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[a.brand&&(0,b.jsx)("span",{className:"badge badge-outline",children:a.brand}),a.category&&(0,b.jsx)("span",{className:"badge badge-outline",children:a.category}),a.color&&(0,b.jsx)("span",{className:"badge badge-outline",children:a.color})]})]})]},a.id))})]},a)),q&&(0,b.jsx)(o,{})]}):(0,b.jsxs)("div",{className:"text-center py-20 opacity-30",children:[(0,b.jsx)(h.Sparkles,{size:64,className:"mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-xl",children:"Your wardrobe is empty. Start adding items!"})]}),w&&!q&&(0,b.jsx)("div",{className:"flex justify-center mt-12",children:(0,b.jsx)("button",{onClick:()=>{G(u+1,!0)},disabled:y,className:"btn btn-secondary min-w-[150px]",children:y?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.Loader2,{className:"animate-spin mr-2",size:18}),"Loading..."]}):"Load More"})})]})]})}a.s(["default",()=>q],5031)}];

//# sourceMappingURL=_876aeb7d._.js.map