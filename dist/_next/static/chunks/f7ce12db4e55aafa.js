(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,53795,e=>{"use strict";var s=e.i(43476),t=e.i(71645),i=e.i(18566),r=e.i(7984);function n(){let e=(0,i.useRouter)(),n=(0,i.useSearchParams)();return(0,t.useEffect)(()=>{let s=n.get("code"),t=n.get("next")||"/onboarding";s?r.supabase.auth.exchangeCodeForSession(s).then(async({data:s,error:i})=>{if(!i&&s.session){let{data:i}=await r.supabase.from("profiles").select("id, style_dna").eq("id",s.session.user.id).single();i&&i.style_dna?e.push("/wardrobe"):e.push(t)}else console.error("Auth error:",i),e.push("/auth/login?error=auth_failed")}):e.push("/auth/login")},[e,n]),(0,s.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h2",{className:"text-xl font-serif mb-4",children:"Verifying..."}),(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto"})]})})}function a(){return(0,s.jsx)(t.Suspense,{fallback:(0,s.jsx)("div",{children:"Loading..."}),children:(0,s.jsx)(n,{})})}e.s(["default",()=>a])}]);