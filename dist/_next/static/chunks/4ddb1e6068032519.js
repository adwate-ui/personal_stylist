(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63209,e=>{"use strict";let s=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>s],63209)},31278,e=>{"use strict";let s=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>s],31278)},78416,e=>{"use strict";function s(e){let s=e.toLowerCase();return s.includes("shirt")||s.includes("top")||s.includes("blouse")?"ðŸ‘”":s.includes("pant")||s.includes("jean")||s.includes("trouser")?"ðŸ‘–":s.includes("dress")||s.includes("gown")?"ðŸ‘—":s.includes("shoe")||s.includes("sneaker")||s.includes("boot")?"ðŸ‘Ÿ":s.includes("jacket")||s.includes("coat")||s.includes("blazer")?"ðŸ§¥":s.includes("bag")||s.includes("purse")||s.includes("clutch")?"ðŸ‘œ":s.includes("watch")||s.includes("accessory")?"âŒš":s.includes("hat")||s.includes("cap")?"ðŸ§¢":s.includes("scarf")?"ðŸ§£":s.includes("glasses")||s.includes("sunglasses")?"ðŸ•¶ï¸":"ðŸ‘•"}async function t(e,s,t){try{let r=[e,s,t,"official site"].filter(Boolean).join(" ");try{let t=await fetch("https://link-scraper.adwate.workers.dev/search-product",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:r,limit:5})});if(t.ok){let a=await t.json(),i=[];for(let t of(a.results&&Array.isArray(a.results)?i=a.results:a.items&&Array.isArray(a.items)?i=a.items:a.url&&(i=[a]),console.log(`[Product Search] Found ${i.length} candidates for "${r}"`),i))if(t.url&&t.url.startsWith("http")&&!t.url.includes("google.com/search"))try{console.log(`[Product Search] Checking image for: ${t.url}`);let r=await fetch(`https://authentiqc-worker.adwate.workers.dev/fetch-metadata?url=${encodeURIComponent(t.url)}`);if(r.ok){let a=await r.json(),i=a.image||(a.images&&a.images.length>0?a.images[0]:null);if(i)return console.log(`[Product Search] âœ… Valid image found: ${i}`),{url:t.url,imageUrl:i,title:t.title||a.title||s,price:t.price||a.price,brand:t.brand||e}}}catch(e){console.warn(`[Product Search] Failed to check image for ${t.url}`,e)}if(i.length>0&&i[0].url)return console.log(`[Product Search] âš ï¸ No images found, returning first result.`),{url:i[0].url,imageUrl:i[0].imageUrl,title:i[0].title,price:i[0].price,brand:i[0].brand}}}catch(e){console.warn("Worker search failed, using fallback",e)}return{url:`https://www.google.com/search?q=${encodeURIComponent(r)}&tbm=shop`,imageUrl:void 0}}catch(e){return console.error("Error fetching product data:",e),{url:"#"}}}e.s(["getFirstSearchResultUrl",()=>t,"getProductImagePlaceholder",()=>s])},37727,e=>{"use strict";let s=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>s],37727)},6936,e=>{"use strict";var s=e.i(43476),t=e.i(71645),r=e.i(18566),a=e.i(46696),i=e.i(83086),l=e.i(31278),c=e.i(63209),n=e.i(75254);let o=(0,n.default)("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),d=(0,n.default)("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]);var m=e.i(37727);let u=(0,n.default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var h=e.i(7984),x=e.i(33426),p=e.i(78416);let g={India:{symbol:"â‚¹",code:"INR"},"United States":{symbol:"$",code:"USD"},"United Kingdom":{symbol:"Â£",code:"GBP"},Europe:{symbol:"â‚¬",code:"EUR"},UAE:{symbol:"AED",code:"AED"},Singapore:{symbol:"S$",code:"SGD"},Australia:{symbol:"A$",code:"AUD"},Canada:{symbol:"C$",code:"CAD"},Japan:{symbol:"Â¥",code:"JPY"},China:{symbol:"Â¥",code:"CNY"}},b=()=>(0,s.jsx)(s.Fragment,{children:[...Array(8)].map((e,t)=>(0,s.jsxs)("div",{className:"card relative animate-pulse",children:[(0,s.jsx)("div",{className:"aspect-[3/4] bg-gray-800/50 rounded-t-xl"}),(0,s.jsx)("div",{className:"p-4 space-y-3",children:(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("div",{className:"h-6 w-24 bg-gray-800/50 rounded"}),(0,s.jsx)("div",{className:"h-5 w-12 bg-gray-800/50 rounded"})]})})]},t))}),y={Shirts:["shirt","blouse","top","polo"],Suits:["suit","blazer","sport coat"],Trousers:["trouser","pant","slacks","chino"],Jeans:["jean","denim"],Jackets:["jacket","coat","outerwear","parka","bomber"],Coats:["coat","overcoat","trench"],Shoes:["shoe","sneaker","boot","loafer","oxford","heel","flat","sandal"],Bags:["bag","handbag","tote","clutch","purse","backpack","wallet","luggage"],Accessories:["accessory","pocket square","scarf","hat","cap","glove","sunglasses","jewelry","necklace","ring","bracelet"],Ties:["tie","bow tie","necktie"],Belts:["belt"],Watches:["watch","timepiece"],Socks:["sock","hosiery"],Dresses:["dress","gown"],Skirts:["skirt"],Activewear:["activewear","sportswear","athletic","gym","workout"]},f=(e,s)=>{let t=`${e||""} ${s||""} `.toLowerCase();for(let e of["Watches","Socks","Ties","Belts","Suits","Jeans","Trousers","Shirts","Dresses","Skirts","Coats","Jackets","Shoes","Bags","Accessories","Activewear"]){let s=y[e];if(s&&s.some(e=>t.includes(e)))return e}let r=e||s||"Uncategorized";return r.charAt(0).toUpperCase()+r.slice(1)};function j(){let e,n,[y,j]=(0,t.useState)([]),[w,v]=(0,t.useState)(!0),[N,k]=(0,t.useState)(null),[S,_]=(0,t.useState)("grid"),[A,C]=(0,t.useState)("4x4"),[z,T]=(0,t.useState)(!1),[$,P]=(0,t.useState)(null),[J,U]=(0,t.useState)(!1),[D,F]=(0,t.useState)(!1),[R,M]=(0,t.useState)([]),{profile:B}=(0,x.useProfile)();(0,r.useRouter)(),(0,t.useEffect)(()=>{let e=localStorage.getItem("wardrobe_view_mode"),s=localStorage.getItem("wardrobe_grid_size");("grid"===e||"list"===e)&&_(e),s&&["4x4","6x6","8x8","10x10","12x12"].includes(s)&&C(s)},[]);let L=e=>{_(e),localStorage.setItem("wardrobe_view_mode",e)},q=async()=>{v(!0),k(null);try{let{data:{user:e}}=await h.supabase.auth.getUser();if(!e){j([]),v(!1);return}let{data:s,error:t}=await h.supabase.from("wardrobe_items").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(1e3);if(t)throw Error(t.message);j(s||[])}catch(e){console.error(e),k(e.message||"Failed to load wardrobe items")}finally{v(!1)}};(0,t.useEffect)(()=>{q()},[]);let E=async e=>{if(confirm("Are you sure you want to delete this item?")){U(!0);try{let{error:s}=await h.supabase.from("wardrobe_items").delete().eq("id",e);if(s)throw s;j(s=>s.filter(s=>s.id!==e)),P(null),a.toast.success("Item deleted")}catch(e){console.error(e),a.toast.error("Failed to delete item",{description:e.message})}finally{U(!1)}}},I=async()=>{if(confirm("Recalculate scores for all items? This will update all product ratings based on your current Style DNA and wardrobe.")){F(!0);try{let e=await fetch("/api/wardrobe/recalculate-scores",{method:"POST"});if(!e.ok){let s=await e.json();throw Error(s.error||"Failed to recalculate scores")}let s=await e.json();a.toast.success(`Recalculated ${s.count} items`,{description:"All product scores have been updated"}),await q()}catch(e){console.error(e),a.toast.error("Failed to recalculate scores",{description:e.message})}finally{F(!1)}}},W=y.reduce((e,s)=>{let t=f(s.category,s.sub_category);return e[t]||(e[t]=[]),e[t].push(s),e},{}),G=Object.keys(W).sort();return(0,s.jsxs)("div",{className:"min-h-screen p-8 pb-20 relative",children:[$&&(0,s.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in",onClick:()=>P(null),children:(0,s.jsxs)("div",{className:"bg-[#121212] border border-white/10 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto flex flex-col md:flex-row shadow-2xl relative",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),P(null)},className:"absolute top-4 right-4 p-2 bg-black/50 hover:bg-white/10 rounded-full text-gray-400 hover:text-white transition-colors z-10",children:(0,s.jsx)(m.X,{size:24})}),(0,s.jsx)("div",{className:"w-full md:w-1/2 bg-[#050505] relative min-h-[300px] md:min-h-full",children:(0,s.jsx)("img",{src:$.image_url||"/placeholder-garment.jpg",alt:$.name,className:"w-full h-full object-contain"})}),(0,s.jsxs)("div",{className:"w-full md:w-1/2 p-8 space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[$.brand&&(0,s.jsx)("span",{className:"px-3 py-1 bg-white/5 border border-white/10 rounded-full text-xs font-medium tracking-wider text-gray-400 uppercase",children:$.brand}),(0,s.jsx)("span",{className:"px-3 py-1 bg-white/5 border border-white/10 rounded-full text-xs font-medium tracking-wider text-gray-400 uppercase",children:$.category})]}),(0,s.jsx)("h2",{className:"text-3xl font-serif font-bold text-white mb-2",children:$.name}),$.style_score&&(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,s.jsx)("div",{className:"flex bg-white/5 rounded-lg p-1",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,s.jsx)(i.Sparkles,{size:14,className:t<Math.round(($.style_score||0)/2)?"text-[#d4af37]":"text-gray-700"},t))}),(0,s.jsxs)("span",{className:"text-[#d4af37] font-bold",children:[$.style_score,"/10 Match"]})]}),(0,s.jsxs)("div",{className:"space-y-3 pb-4 border-b border-white/10",children:[($.price||$.ai_analysis?.price||$.ai_analysis?.price_estimate)&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-gray-400 text-sm",children:"Price:"}),(0,s.jsx)("div",{className:"text-xl font-bold text-primary",children:$.price?B?.location?function(e,s){let t=function(e){if(!e)return{symbol:"$",code:"USD"};if(g[e])return g[e];for(let[s,t]of Object.entries(g))if(e.includes(s))return t;return{symbol:"$",code:"USD"}}(s);if("string"==typeof e)if(e.includes("$")||e.includes("â‚¹")||e.includes("Â£")||e.includes("â‚¬")){let s=parseFloat(e.replace(/[^0-9.]/g,""));if(isNaN(s))return e;e=s}else{let s=parseFloat(e.replace(/[^0-9.]/g,""));if(isNaN(s))return e;e=s}return`${t.symbol}${e.toLocaleString()}`}($.price,B.location):`Rs. ${$.price}`:$.ai_analysis?.price||$.ai_analysis?.price_estimate})]}),($.link||$.brand||$.name)&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-gray-400 text-sm",children:"Product Link:"}),$.link?(0,s.jsxs)("a",{href:$.link,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:text-primary/80 text-sm underline underline-offset-2 flex items-center gap-1",children:["View Product ",(0,s.jsx)(u,{size:12})]}):(0,s.jsxs)("button",{onClick:async()=>{let e=$.color||$.ai_analysis?.primary_color,s=await (0,p.getFirstSearchResultUrl)($.brand||"",$.name||$.sub_category||"",e);window.open(s.url,"_blank")},className:"text-primary hover:text-primary/80 text-sm underline underline-offset-2 flex items-center gap-1",children:["Find Product ",(0,s.jsx)(u,{size:12})]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-bold text-white uppercase tracking-wider mb-2",children:"Analysis"}),(0,s.jsx)("p",{className:"text-gray-400 leading-relaxed text-sm",children:$.ai_analysis?.description||$.description||"No specific analysis available."})]}),$.ai_analysis?.styling_tips&&$.ai_analysis.styling_tips.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-bold text-white uppercase tracking-wider mb-2",children:"Styling Tips"}),(0,s.jsx)("ul",{className:"space-y-2",children:$.ai_analysis.styling_tips.map((e,t)=>(0,s.jsxs)("li",{className:"flex gap-3 text-sm text-gray-300",children:[(0,s.jsx)("span",{className:"text-primary mt-1",children:"â€¢"}),(0,s.jsx)("span",{children:e})]},t))})]}),0===(e=y.filter(e=>e.id!==$.id).map(e=>({item:e,score:((e,s)=>{let t=0,r=f(e.category,e.sub_category),a=f(s.category,s.sub_category),i=(e.sub_category||e.name||"").toLowerCase(),l=(s.sub_category||s.name||"").toLowerCase();i.includes("suit")||i.includes("blazer")||i.includes("dress")||i.includes("formal"),l.includes("suit")||l.includes("blazer")||l.includes("dress")||l.includes("formal");let c="Activewear"===r||i.includes("gym")||i.includes("sport")||i.includes("run")||i.includes("jogger"),n="Activewear"===a||l.includes("gym")||l.includes("sport")||l.includes("run")||l.includes("jogger"),o=i.includes("t-shirt")||i.includes("tee")||i.includes("tank")||i.includes("polo"),d=l.includes("t-shirt")||l.includes("tee")||l.includes("tank")||l.includes("polo");if("Ties"===r&&d||"Ties"===a&&o||"Suits"===r&&n||"Suits"===a&&c)return -1;("Suits"===r||"Suits"===a)&&(("Ties"===r||"Ties"===a)&&(t+=5),(i.includes("dress shirt")||l.includes("dress shirt"))&&(t+=5),("Shoes"===r||"Shoes"===a)&&(i.includes("oxford")||i.includes("loafer")||l.includes("oxford")||l.includes("loafer"))&&(t+=4)),("Jeans"===r||"Jeans"===a)&&((o||d)&&(t+=3),("Shoes"===r||"Shoes"===a)&&(i.includes("sneaker")||i.includes("boot")||l.includes("sneaker")||l.includes("boot"))&&(t+=3),(i.includes("leather jacket")||l.includes("leather jacket"))&&(t+=4)),(o||d)&&(("Jeans"===r||"Jeans"===a||i.includes("chino")||l.includes("chino")||i.includes("short")||l.includes("short"))&&(t+=3),("Activewear"===r||"Activewear"===a)&&(t+=2));let m={Shirts:["Trousers","Jeans","Suits","Ties","Belts","Jackets","Shorts","Skirts"],Suits:["Shirts","Ties","Belts","Shoes","Watches"],Trousers:["Shirts","Jackets","Belts","Shoes","Polos"],Jeans:["Shirts","Jackets","Shoes","Belts"],Jackets:["Shirts","Trousers","Jeans","Scarves","Dresses"],Shoes:["Trousers","Jeans","Suits","Shorts","Skirts","Dresses","Activewear"],Ties:["Shirts","Suits","Jackets"],Belts:["Trousers","Jeans","Suits","Shorts"],Accessories:["Shirts","Suits","Dresses","Jackets"],Activewear:["Shoes","Shirts"],Other:["Trousers","Jeans","Shirts"]},u=f(e.category,e.sub_category),h=f(s.category,s.sub_category);return m[u]?.includes(h)&&(t+=1),m[h]?.includes(u)&&(t+=1),t})($,e)})).filter(e=>e.score>0).sort((e,s)=>s.score-e.score).slice(0,4)).length?(0,s.jsx)("div",{className:"text-sm text-gray-500 italic pb-4",children:"No highly compatible items found. Add more wardrobe basics!"}):(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-sm font-bold text-white uppercase tracking-wider mb-3 flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-primary",children:"âœ¨"})," Pairs Well With"]}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-2",children:e.map(({item:e})=>(0,s.jsx)("div",{onClick:()=>P(e),className:"bg-white/5 border border-white/10 rounded-lg p-2 hover:bg-white/10 hover:border-primary/30 transition-all cursor-pointer",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-12 h-16 bg-gray-800 rounded overflow-hidden flex-shrink-0",children:(0,s.jsx)("img",{src:e.image_url||"/placeholder-garment.jpg",alt:e.name,className:"w-full h-full object-cover"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("div",{className:"text-xs font-medium text-white truncate",children:e.name||e.sub_category}),(0,s.jsx)("div",{className:"text-xs text-gray-400 truncate",children:e.brand||e.category})]})]})},e.id))})]})]}),$.ai_analysis?.style_reasoning&&(0,s.jsxs)("div",{className:"pb-4 border-b border-white/10",children:[(0,s.jsxs)("h3",{className:"text-sm font-bold text-white uppercase tracking-wider mb-2 flex items-center gap-2",children:[(0,s.jsx)(o,{size:16,className:"text-primary"})," Wardrobe Compatibility"]}),(0,s.jsx)("p",{className:"text-gray-400 text-sm leading-relaxed bg-white/5 p-3 rounded-lg border border-white/5",children:$.ai_analysis.style_reasoning})]}),($.generated_by_model||$.ai_analysis?.generated_by_model)&&(0,s.jsx)("div",{className:"pt-4 border-t border-white/10",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Analysis by:"}),(0,s.jsx)("span",{className:"text-primary font-medium",children:"gemini-3-pro-preview"===(n=$.generated_by_model||$.ai_analysis?.generated_by_model)?"Gemini 3 Pro":"gemini-2.5-pro"===n?"Gemini 2.5 Pro":"gemini-3-flash-preview"===n?"Gemini 3 Flash":"gemini-2.5-flash"===n?"Gemini 2.5 Flash":n})]}),(0,s.jsx)("button",{onClick:async()=>{a.toast.info("Regeneration feature coming soon!")},className:"text-xs px-3 py-1 bg-primary/10 hover:bg-primary/20 text-primary border border-primary/30 rounded-full transition-colors",children:"Regenerate â†»"})]})}),(0,s.jsxs)("div",{className:"pt-8 border-t border-white/10 flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:["Added ",new Date($.created_at).toLocaleDateString()]}),(0,s.jsx)("button",{onClick:()=>E($.id),disabled:J,className:"px-4 py-2 bg-red-500/10 hover:bg-red-500/20 text-red-400 hover:text-red-300 border border-red-500/20 rounded-lg text-sm font-medium transition-colors flex items-center gap-2",children:J?(0,s.jsx)(l.Loader2,{className:"animate-spin",size:16}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,s.jsx)("path",{d:"M3 6h18"}),(0,s.jsx)("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),(0,s.jsx)("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})," Delete Item"]})})]})]})]})}),(0,s.jsxs)("header",{className:"mb-12 flex justify-between items-center flex-wrap gap-4",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold",children:"Wardrobe"}),(0,s.jsxs)("div",{className:"flex items-center gap-3 flex-wrap relative",children:[(0,s.jsxs)("div",{className:"inline-flex bg-white/5 rounded-lg p-1 border border-white/10",children:[(0,s.jsxs)("button",{onClick:()=>{L("grid"),T(!z)},className:`px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 flex items-center gap-2 ${"grid"===S?"bg-primary text-black shadow-lg":"text-gray-400 hover:text-white"}`,children:[(0,s.jsx)(o,{size:16}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Grid"})]}),(0,s.jsxs)("button",{onClick:()=>{L("list"),T(!1)},className:`px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 flex items-center gap-2 ${"list"===S?"bg-primary text-black shadow-lg":"text-gray-400 hover:text-white"}`,children:[(0,s.jsx)(d,{size:16}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"List"})]})]}),"grid"===S&&z&&(0,s.jsx)("div",{className:"absolute top-full left-0 mt-2 bg-gray-900 rounded-lg p-2 border border-white/20 shadow-xl z-50",children:(0,s.jsxs)("div",{className:"flex flex-col gap-1 min-w-[120px]",children:[(0,s.jsx)("div",{className:"text-xs text-gray-400 px-2 py-1",children:"Grid Size"}),["4x4","6x6","8x8","10x10","12x12"].map(e=>(0,s.jsx)("button",{onClick:()=>{C(e),localStorage.setItem("wardrobe_grid_size",e),T(!1)},className:`px-3 py-2 rounded-md text-sm font-medium transition-all duration-200 text-left ${A===e?"bg-primary text-black":"text-gray-300 hover:bg-white/10"}`,children:e},e))]})}),(0,s.jsx)("button",{onClick:I,disabled:D||0===y.length,className:"px-4 py-2 bg-white/5 hover:bg-white/10 border border-white/10 rounded-lg text-sm font-medium transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",title:"Recalculate all product scores with current Style DNA",children:D?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Loader2,{className:"animate-spin",size:16}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Recalculating..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Sparkles,{size:16}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Recalculate Scores"})]})})]})]}),N?(0,s.jsxs)("div",{className:"glass p-8 rounded-xl text-center max-w-md mx-auto mt-20 border border-red-500/30",children:[(0,s.jsx)(c.AlertCircle,{className:"mx-auto mb-4 text-red-400",size:48}),(0,s.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Unavailable"}),(0,s.jsx)("p",{className:"text-gray-400 mb-6",children:N}),(0,s.jsx)("button",{onClick:()=>q(),className:"btn bg-red-500/20 hover:bg-red-500/30 text-red-200 border-none",children:"Try Again"})]}):(0,s.jsx)(s.Fragment,{children:0!==y.length||w?(0,s.jsxs)("div",{className:"space-y-12",children:[G.map(e=>(0,s.jsxs)("div",{className:"animate-fade-in",children:[(0,s.jsxs)("h2",{className:"text-2xl font-serif font-bold mb-6 border-b border-white/10 pb-2 flex items-center gap-2",children:[e," ",(0,s.jsx)("span",{className:"text-xs font-sans font-normal text-gray-500 bg-white/5 px-2 py-1 rounded-full",children:W[e].length})]}),(0,s.jsx)("div",{className:"grid"===S?`grid-gallery-${A}`:"space-y-4",children:W[e].map(e=>"grid"===S?(0,s.jsxs)("div",{className:"card group relative cursor-pointer active:scale-95 transition-transform",onClick:()=>P(e),children:[(0,s.jsx)("div",{className:"aspect-[3/4] overflow-hidden bg-gray-800",children:(0,s.jsx)("img",{src:e.image_url||"/placeholder-garment.jpg",alt:e.name||e.sub_category,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"})}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,s.jsx)("h3",{className:"font-bold text-lg capitalize truncate pr-2",children:e.name||e.sub_category||e.category}),e.style_score&&(0,s.jsxs)("span",{className:"bg-white/10 text-xs px-2 py-1 rounded whitespace-nowrap",children:[e.style_score,"/10"]})]}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mb-3 line-clamp-2",children:e.description||e.ai_analysis?.description||"No description available"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e.brand&&(0,s.jsx)("span",{className:"text-xs border border-white/20 px-2 py-1 rounded-full capitalize bg-white/5",children:e.brand}),e.season&&(0,s.jsx)("span",{className:"text-xs border border-white/20 px-2 py-1 rounded-full capitalize",children:e.season})]})]}),(0,s.jsxs)("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center p-6 text-center backdrop-blur-sm pointer-events-none",children:[(0,s.jsx)(i.Sparkles,{size:24,className:"text-[#d4af37] mb-2"}),(0,s.jsx)("p",{className:"text-sm font-medium",children:e.ai_analysis?.styling_tips?.[0]||e.critique||"View details for styling tips"})]})]},e.id):(0,s.jsxs)("div",{className:"card p-4 flex gap-6 items-center hover:bg-white/5 transition-colors group cursor-pointer",onClick:()=>P(e),children:[(0,s.jsx)("div",{className:"w-24 h-32 shrink-0 bg-gray-800 rounded-lg overflow-hidden",children:(0,s.jsx)("img",{src:e.image_url||"/placeholder-garment.jpg",alt:e.name,className:"w-full h-full object-cover"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,s.jsx)("h3",{className:"font-bold text-xl capitalize truncate",children:e.name||e.sub_category||e.category}),e.style_score&&(0,s.jsxs)("span",{className:`text - sm font - bold px - 3 py - 1 rounded - full ${e.style_score>80?"bg-green-500/20 text-green-400":"bg-white/10"} `,children:[e.style_score,"/10"]})]}),(0,s.jsx)("p",{className:"text-sm text-gray-400 mb-3 line-clamp-1",children:e.description||e.ai_analysis?.description}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e.brand&&(0,s.jsx)("span",{className:"badge badge-outline",children:e.brand}),e.category&&(0,s.jsx)("span",{className:"badge badge-outline",children:e.category}),e.color&&(0,s.jsx)("span",{className:"badge badge-outline",children:e.color})]})]})]},e.id))})]},e)),w&&(0,s.jsx)(b,{})]}):(0,s.jsxs)("div",{className:"text-center py-20 opacity-30",children:[(0,s.jsx)(i.Sparkles,{size:64,className:"mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-xl",children:"Your wardrobe is empty. Start adding items!"})]})})]})}e.s(["default",()=>j],6936)}]);