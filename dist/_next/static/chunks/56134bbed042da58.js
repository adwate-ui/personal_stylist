(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63209,e=>{"use strict";let s=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>s],63209)},50965,e=>{"use strict";let s=(0,e.i(75254).default)("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]]);e.s(["ShoppingBag",()=>s],50965)},6695,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(46696),i=e.i(87246),l=e.i(69074);let r=(0,e.i(75254).default)("thumbs-up",[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]]);var c=e.i(63209),n=e.i(50965),o=e.i(33426),d=e.i(66654),m=e.i(57688),h=e.i(18566);function x(){let{profile:e}=(0,o.useProfile)(),x=(0,h.useRouter)(),[p,u]=(0,t.useState)(null),[f,y]=(0,t.useState)(!1),[g,j]=(0,t.useState)(null),b=async s=>{if(!s.target.files)return;let t=s.target.files[0];j(URL.createObjectURL(t)),y(!0),u(null);let i=a.toast.loading("Analyzing...");try{let s=e.gemini_api_key||localStorage.getItem("gemini_api_key");if(!s)throw confirm("Gemini API Key missing. Go to Profile to set it?")&&x.push("/profile"),Error("API Key required");let l=await (0,d.rateImageWithGemini)(t,s);if(a.toast.dismiss(i),l.error)throw Error(l.message||l.error);u(l),a.toast.success("Analysis Complete!")}catch(e){console.error(e),a.toast.dismiss(i),a.toast.error("Analysis Failed",{description:e.message||"Please try again"})}finally{y(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen p-8 pb-20 flex flex-col items-center",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold mb-2",children:"Shopping Assistant"}),(0,s.jsx)("p",{className:"text-gray-400 mb-10",children:"Rate my fit & automated styling advice."}),(0,s.jsxs)("div",{className:"w-full max-w-4xl grid md:grid-cols-2 gap-10",children:[(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{className:"border-2 border-dashed border-white/20 rounded-2xl aspect-[4/5] flex flex-col items-center justify-center cursor-pointer hover:border-[#d4af37]/50 transition-colors bg-white/5 relative overflow-hidden",onClick:()=>document.getElementById("shop-upload")?.click(),children:[g?(0,s.jsx)("div",{className:"absolute inset-0 w-full h-full relative",children:(0,s.jsx)(m.default,{src:g,alt:"Preview",fill:!0,className:"object-cover"})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Upload,{size:48,className:"text-gray-500 mb-4"}),(0,s.jsx)("span",{className:"text-gray-400",children:"Upload screenshot or photo of item"})]}),(0,s.jsx)("input",{id:"shop-upload",type:"file",className:"hidden",accept:"image/*",onChange:b})]})}),(0,s.jsx)("div",{className:"space-y-6",children:f?(0,s.jsxs)("div",{className:"h-full flex flex-col items-center justify-center",children:[(0,s.jsx)(i.ShopAnalysisSkeleton,{}),(0,s.jsx)("p",{className:"text-[#d4af37] mt-4 animate-pulse",children:"Consulting with AI Stylist..."})]}):p?(0,s.jsxs)("div",{className:"animate-fade-in space-y-6",children:[(0,s.jsxs)("div",{className:"p-8 rounded-2xl glass border border-white/10 text-center",children:[(0,s.jsxs)("div",{className:"text-6xl font-black mb-2",style:{color:p.score>=7?"#4ade80":p.score>=4?"#fbbf24":"#ef4444"},children:[p.score,(0,s.jsx)("span",{className:"text-2xl text-gray-500",children:"/10"})]}),(0,s.jsx)("div",{className:"uppercase tracking-widest text-sm font-bold opacity-60",children:"Style Score"})]}),(0,s.jsxs)("div",{className:"p-6 rounded-2xl bg-white/5 border border-white/10",children:[(0,s.jsxs)("h3",{className:"font-bold text-lg mb-2 flex items-center",children:[(0,s.jsx)(c.AlertCircle,{size:20,className:"mr-2 text-[#d4af37]"})," Stylist Verdict"]}),(0,s.jsx)("p",{className:"leading-relaxed opacity-90",children:p.critique})]}),p.alternatives&&p.alternatives.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"font-bold text-lg mb-4 flex items-center",children:[(0,s.jsx)(r,{size:20,className:"mr-2 text-[#d4af37]"})," Better Alternatives"]}),(0,s.jsx)("div",{className:"grid gap-3",children:p.alternatives.map((e,t)=>(0,s.jsxs)("div",{className:"p-4 rounded-xl bg-white/5 flex items-center justify-between group cursor-pointer hover:bg-white/10",children:[(0,s.jsx)("span",{children:e}),(0,s.jsx)(n.ShoppingBag,{size:16,className:"opacity-0 group-hover:opacity-100 transition-opacity"})]},t))})]})]}):(0,s.jsx)("div",{className:"h-full flex items-center justify-center text-gray-600 opacity-50",children:(0,s.jsx)("p",{children:"Upload an item to see the magic."})})})]})]})}e.s(["default",()=>x],6695)}]);