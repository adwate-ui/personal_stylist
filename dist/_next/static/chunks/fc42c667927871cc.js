(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63209,e=>{"use strict";let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},31278,78416,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function r(e){let t=e.toLowerCase();return t.includes("shirt")||t.includes("top")||t.includes("blouse")?"ðŸ‘”":t.includes("pant")||t.includes("jean")||t.includes("trouser")?"ðŸ‘–":t.includes("dress")||t.includes("gown")?"ðŸ‘—":t.includes("shoe")||t.includes("sneaker")||t.includes("boot")?"ðŸ‘Ÿ":t.includes("jacket")||t.includes("coat")||t.includes("blazer")?"ðŸ§¥":t.includes("bag")||t.includes("purse")||t.includes("clutch")?"ðŸ‘œ":t.includes("watch")||t.includes("accessory")?"âŒš":t.includes("hat")||t.includes("cap")?"ðŸ§¢":t.includes("scarf")?"ðŸ§£":t.includes("glasses")||t.includes("sunglasses")?"ðŸ•¶ï¸":"ðŸ‘•"}async function s(e,t,r){try{let s=[e,t,r].filter(Boolean).join(" ");try{let e=await fetch("https://link-scraper.adwate.workers.dev/search-product",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:s})});if(e.ok){let t=await e.json();if(t.url&&t.url.startsWith("http"))return{url:t.url,imageUrl:t.imageUrl,title:t.title,price:t.price,brand:t.brand}}}catch(e){console.warn("Worker search failed, using fallback",e)}return{url:`https://www.google.com/search?q=${encodeURIComponent(s)}&tbm=shop`,imageUrl:void 0}}catch(e){return console.error("Error fetching product data:",e),{url:"#"}}}e.s(["Loader2",()=>t],31278),e.s(["getFirstSearchResultUrl",()=>s,"getProductImagePlaceholder",()=>r],78416)},25652,e=>{"use strict";let t=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>t],25652)},67423,(e,t,r)=>{"use strict";function s({widthInt:e,heightInt:t,blurWidth:r,blurHeight:s,blurDataURL:a,objectFit:i}){let n=r?40*r:e,o=s?40*s:t,l=n&&o?`viewBox='0 0 ${n} ${o}'`:"";return`%3Csvg xmlns='http://www.w3.org/2000/svg' ${l}%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='${l?"none":"contain"===i?"xMidYMid":"cover"===i?"xMidYMid slice":"none"}' style='filter: url(%23b);' href='${a}'/%3E%3C/svg%3E`}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getImageBlurSvg",{enumerable:!0,get:function(){return s}})},87690,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={VALID_LOADERS:function(){return i},imageConfigDefault:function(){return n}};for(var a in s)Object.defineProperty(r,a,{enumerable:!0,get:s[a]});let i=["default","imgix","cloudinary","akamai","custom"],n={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:[75],unoptimized:!1}},8927,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getImgProps",{enumerable:!0,get:function(){return l}}),e.r(33525);let s=e.r(67423),a=e.r(87690),i=["-moz-initial","fill","none","scale-down",void 0];function n(e){return void 0!==e.default}function o(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function l({src:e,sizes:t,unoptimized:r=!1,priority:l=!1,preload:c=!1,loading:d,className:u,quality:h,width:m,height:f,fill:p=!1,style:g,overrideSrc:y,onLoad:b,onLoadingComplete:w,placeholder:x="empty",blurDataURL:v,fetchPriority:_,decoding:E="async",layout:C,objectFit:j,objectPosition:N,lazyBoundary:O,lazyRoot:A,...I},S){var R;let k,T,P,{imgConf:M,showAltText:U,blurComplete:$,defaultLoader:F}=S,L=M||a.imageConfigDefault;if("allSizes"in L)k=L;else{let e=[...L.deviceSizes,...L.imageSizes].sort((e,t)=>e-t),t=L.deviceSizes.sort((e,t)=>e-t),r=L.qualities?.sort((e,t)=>e-t);k={...L,allSizes:e,deviceSizes:t,qualities:r}}if(void 0===F)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let D=I.loader||F;delete I.loader,delete I.srcSet;let G="__next_img_default"in D;if(G){if("custom"===k.loader)throw Object.defineProperty(Error(`Image with src "${e}" is missing "loader" prop.
Read more: https://nextjs.org/docs/messages/next-image-missing-loader`),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let e=D;D=t=>{let{config:r,...s}=t;return e(s)}}if(C){"fill"===C&&(p=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[C];e&&(g={...g,...e});let r={responsive:"100vw",fill:"100vw"}[C];r&&!t&&(t=r)}let z="",q=o(m),B=o(f);if((R=e)&&"object"==typeof R&&(n(R)||void 0!==R.src)){let t=n(e)?e.default:e;if(!t.src)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!t.height||!t.width)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(T=t.blurWidth,P=t.blurHeight,v=v||t.blurDataURL,z=t.src,!p)if(q||B){if(q&&!B){let e=q/t.width;B=Math.round(t.height*e)}else if(!q&&B){let e=B/t.height;q=Math.round(t.width*e)}}else q=t.width,B=t.height}let H=!l&&!c&&("lazy"===d||void 0===d);(!(e="string"==typeof e?e:z)||e.startsWith("data:")||e.startsWith("blob:"))&&(r=!0,H=!1),k.unoptimized&&(r=!0),G&&!k.dangerouslyAllowSVG&&e.split("?",1)[0].endsWith(".svg")&&(r=!0);let K=o(h),Y=Object.assign(p?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:j,objectPosition:N}:{},U?{}:{color:"transparent"},g),W=$||"empty"===x?null:"blur"===x?`url("data:image/svg+xml;charset=utf-8,${(0,s.getImageBlurSvg)({widthInt:q,heightInt:B,blurWidth:T,blurHeight:P,blurDataURL:v||"",objectFit:Y.objectFit})}")`:`url("${x}")`,J=i.includes(Y.objectFit)?"fill"===Y.objectFit?"100% 100%":"cover":Y.objectFit,V=W?{backgroundSize:J,backgroundPosition:Y.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:W}:{},X=function({config:e,src:t,unoptimized:r,width:s,quality:a,sizes:i,loader:n}){if(r)return{src:t,srcSet:void 0,sizes:void 0};let{widths:o,kind:l}=function({deviceSizes:e,allSizes:t},r,s){if(s){let r=/(^|\s)(1?\d?\d)vw/g,a=[];for(let e;e=r.exec(s);)a.push(parseInt(e[2]));if(a.length){let r=.01*Math.min(...a);return{widths:t.filter(t=>t>=e[0]*r),kind:"w"}}return{widths:t,kind:"w"}}return"number"!=typeof r?{widths:e,kind:"w"}:{widths:[...new Set([r,2*r].map(e=>t.find(t=>t>=e)||t[t.length-1]))],kind:"x"}}(e,s,i),c=o.length-1;return{sizes:i||"w"!==l?i:"100vw",srcSet:o.map((r,s)=>`${n({config:e,src:t,quality:a,width:r})} ${"w"===l?r:s+1}${l}`).join(", "),src:n({config:e,src:t,quality:a,width:o[c]})}}({config:k,src:e,unoptimized:r,width:q,quality:K,sizes:t,loader:D}),Q=H?"lazy":d;return{props:{...I,loading:Q,fetchPriority:_,width:q,height:B,decoding:E,className:u,style:{...Y,...V},sizes:X.sizes,srcSet:X.srcSet,src:y||X.src},meta:{unoptimized:r,preload:c||l,placeholder:x,fill:p}}}},98879,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return o}});let s=e.r(71645),a="undefined"==typeof window,i=a?()=>{}:s.useLayoutEffect,n=a?()=>{}:s.useEffect;function o(e){let{headManager:t,reduceComponentsToState:r}=e;function o(){if(t&&t.mountedInstances){let e=s.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(r(e))}}return a&&(t?.mountedInstances?.add(e.children),o()),i(()=>(t?.mountedInstances?.add(e.children),()=>{t?.mountedInstances?.delete(e.children)})),i(()=>(t&&(t._pendingUpdate=o),()=>{t&&(t._pendingUpdate=o)})),n(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},25633,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={default:function(){return p},defaultHead:function(){return u}};for(var a in s)Object.defineProperty(r,a,{enumerable:!0,get:s[a]});let i=e.r(55682),n=e.r(90809),o=e.r(43476),l=n._(e.r(71645)),c=i._(e.r(98879)),d=e.r(42732);function u(){return[(0,o.jsx)("meta",{charSet:"utf-8"},"charset"),(0,o.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")]}function h(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===l.default.Fragment?e.concat(l.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}e.r(33525);let m=["name","httpEquiv","charSet","itemProp"];function f(e){let t,r,s,a;return e.reduce(h,[]).reverse().concat(u().reverse()).filter((t=new Set,r=new Set,s=new Set,a={},e=>{let i=!0,n=!1;if(e.key&&"number"!=typeof e.key&&e.key.indexOf("$")>0){n=!0;let r=e.key.slice(e.key.indexOf("$")+1);t.has(r)?i=!1:t.add(r)}switch(e.type){case"title":case"base":r.has(e.type)?i=!1:r.add(e.type);break;case"meta":for(let t=0,r=m.length;t<r;t++){let r=m[t];if(e.props.hasOwnProperty(r))if("charSet"===r)s.has(r)?i=!1:s.add(r);else{let t=e.props[r],s=a[r]||new Set;("name"!==r||!n)&&s.has(t)?i=!1:(s.add(t),a[r]=s)}}}return i})).reverse().map((e,t)=>{let r=e.key||t;return l.default.cloneElement(e,{key:r})})}let p=function({children:e}){let t=(0,l.useContext)(d.HeadManagerContext);return(0,o.jsx)(c.default,{reduceComponentsToState:f,headManager:t,children:e})};("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},18556,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ImageConfigContext",{enumerable:!0,get:function(){return i}});let s=e.r(55682)._(e.r(71645)),a=e.r(87690),i=s.default.createContext(a.imageConfigDefault)},65856,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RouterContext",{enumerable:!0,get:function(){return s}});let s=e.r(55682)._(e.r(71645)).default.createContext(null)},70965,(e,t,r)=>{"use strict";function s(e,t){let r=e||75;return t?.qualities?.length?t.qualities.reduce((e,t)=>Math.abs(t-r)<Math.abs(e-r)?t:e,0):r}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"findClosestQuality",{enumerable:!0,get:function(){return s}})},1948,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return i}});let s=e.r(70965);function a({config:e,src:t,width:r,quality:a}){if(t.startsWith("/")&&t.includes("?")&&e.localPatterns?.length===1&&"**"===e.localPatterns[0].pathname&&""===e.localPatterns[0].search)throw Object.defineProperty(Error(`Image with src "${t}" is using a query string which is not configured in images.localPatterns.
Read more: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns`),"__NEXT_ERROR_CODE",{value:"E871",enumerable:!1,configurable:!0});let i=(0,s.findClosestQuality)(a,e);return`${e.path}?url=${encodeURIComponent(t)}&w=${r}&q=${i}${t.startsWith("/_next/static/media/"),""}`}a.__next_img_default=!0;let i=a},5500,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"Image",{enumerable:!0,get:function(){return x}});let s=e.r(55682),a=e.r(90809),i=e.r(43476),n=a._(e.r(71645)),o=s._(e.r(74080)),l=s._(e.r(25633)),c=e.r(8927),d=e.r(87690),u=e.r(18556);e.r(33525);let h=e.r(65856),m=s._(e.r(1948)),f=e.r(18581),p={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0};function g(e,t,r,s,a,i,n){let o=e?.src;e&&e["data-loaded-src"]!==o&&(e["data-loaded-src"]=o,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&a(!0),r?.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let s=!1,a=!1;r.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>s,isPropagationStopped:()=>a,persist:()=>{},preventDefault:()=>{s=!0,t.preventDefault()},stopPropagation:()=>{a=!0,t.stopPropagation()}})}s?.current&&s.current(e)}}))}function y(e){return n.use?{fetchPriority:e}:{fetchpriority:e}}"undefined"==typeof window&&(globalThis.__NEXT_IMAGE_IMPORTED=!0);let b=(0,n.forwardRef)(({src:e,srcSet:t,sizes:r,height:s,width:a,decoding:o,className:l,style:c,fetchPriority:d,placeholder:u,loading:h,unoptimized:m,fill:p,onLoadRef:b,onLoadingCompleteRef:w,setBlurComplete:x,setShowAltText:v,sizesInput:_,onLoad:E,onError:C,...j},N)=>{let O=(0,n.useCallback)(e=>{e&&(C&&(e.src=e.src),e.complete&&g(e,u,b,w,x,m,_))},[e,u,b,w,x,C,m,_]),A=(0,f.useMergedRef)(N,O);return(0,i.jsx)("img",{...j,...y(d),loading:h,width:a,height:s,decoding:o,"data-nimg":p?"fill":"1",className:l,style:c,sizes:r,srcSet:t,src:e,ref:A,onLoad:e=>{g(e.currentTarget,u,b,w,x,m,_)},onError:e=>{v(!0),"empty"!==u&&x(!0),C&&C(e)}})});function w({isAppRouter:e,imgAttributes:t}){let r={as:"image",imageSrcSet:t.srcSet,imageSizes:t.sizes,crossOrigin:t.crossOrigin,referrerPolicy:t.referrerPolicy,...y(t.fetchPriority)};return e&&o.default.preload?(o.default.preload(t.src,r),null):(0,i.jsx)(l.default,{children:(0,i.jsx)("link",{rel:"preload",href:t.srcSet?void 0:t.src,...r},"__nimg-"+t.src+t.srcSet+t.sizes)})}let x=(0,n.forwardRef)((e,t)=>{let r=(0,n.useContext)(h.RouterContext),s=(0,n.useContext)(u.ImageConfigContext),a=(0,n.useMemo)(()=>{let e=p||s||d.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),r=e.deviceSizes.sort((e,t)=>e-t),a=e.qualities?.sort((e,t)=>e-t);return{...e,allSizes:t,deviceSizes:r,qualities:a,localPatterns:"undefined"==typeof window?s?.localPatterns:e.localPatterns}},[s]),{onLoad:o,onLoadingComplete:l}=e,f=(0,n.useRef)(o);(0,n.useEffect)(()=>{f.current=o},[o]);let g=(0,n.useRef)(l);(0,n.useEffect)(()=>{g.current=l},[l]);let[y,x]=(0,n.useState)(!1),[v,_]=(0,n.useState)(!1),{props:E,meta:C}=(0,c.getImgProps)(e,{defaultLoader:m.default,imgConf:a,blurComplete:y,showAltText:v});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(b,{...E,unoptimized:C.unoptimized,placeholder:C.placeholder,fill:C.fill,onLoadRef:f,onLoadingCompleteRef:g,setBlurComplete:x,setShowAltText:_,sizesInput:e.sizes,ref:t}),C.preload?(0,i.jsx)(w,{isAppRouter:!r,imgAttributes:E}):null]})});("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},94909,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={default:function(){return d},getImageProps:function(){return c}};for(var a in s)Object.defineProperty(r,a,{enumerable:!0,get:s[a]});let i=e.r(55682),n=e.r(8927),o=e.r(5500),l=i._(e.r(1948));function c(e){let{props:t}=(0,n.getImgProps)(e,{defaultLoader:l.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let d=o.Image},57688,(e,t,r)=>{t.exports=e.r(94909)},87246,66654,e=>{"use strict";var t=e.i(43476);function r({className:e}){return(0,t.jsx)("div",{className:`animate-pulse bg-white/5 rounded-lg ${e}`})}function s(){return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"p-8 rounded-2xl glass border border-white/10 flex flex-col items-center gap-4",children:[(0,t.jsx)(r,{className:"h-20 w-32 rounded-xl"}),(0,t.jsx)(r,{className:"h-4 w-24"})]}),(0,t.jsxs)("div",{className:"p-6 rounded-2xl bg-white/5 border border-white/10 space-y-4",children:[(0,t.jsx)(r,{className:"h-6 w-40"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(r,{className:"h-4 w-full"}),(0,t.jsx)(r,{className:"h-4 w-full"}),(0,t.jsx)(r,{className:"h-4 w-3/4"})]})]})]})}function a(){return(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 w-full",children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"aspect-[3/4] bg-white/5 rounded-2xl animate-pulse"}),(0,t.jsxs)("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 space-y-3",children:[(0,t.jsx)(r,{className:"h-5 w-32"}),(0,t.jsx)(r,{className:"h-4 w-full"}),(0,t.jsx)(r,{className:"h-4 w-2/3"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col h-full space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(r,{className:"h-5 w-24"}),(0,t.jsx)(r,{className:"h-5 w-24"})]}),(0,t.jsx)(r,{className:"h-10 w-3/4"}),(0,t.jsx)(r,{className:"h-20 w-full"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(r,{className:"h-16 w-full"}),(0,t.jsx)(r,{className:"h-16 w-full"})]}),(0,t.jsxs)("div",{className:"mt-auto flex gap-4 pt-8",children:[(0,t.jsx)(r,{className:"h-12 flex-1"}),(0,t.jsx)(r,{className:"h-12 flex-[2]"})]})]})]})}e.s(["AddItemSkeleton",()=>a,"ShopAnalysisSkeleton",()=>s],87246);var i=e.i(62636);let n="gemini-3-pro-preview",o="gemini-2.5-flash",l="gemini-1.5-pro-latest",c="gemini-1.5-flash-latest";async function d(e,t,r,s){let a=new i.GoogleGenerativeAI(t),d=await h(e),u=r&&r.toLowerCase().includes("india")?"â‚¹":"$",p=s&&s.length>0?`

User's Current Wardrobe:
${s.map((e,t)=>`${t+1}. ${e.name||e.category} (${e.color||"color N/A"})`).join("\n")}

For complementary_items, ONLY suggest items from the above wardrobe list by their exact names.`:'\n\nUser has no wardrobe items yet. For complementary_items, suggest 5 general item types (e.g., "White sneakers", "Navy chinos") that would pair well.',g=`Analyze this clothing item for a personal stylist app. Return ONLY a valid JSON object (no markdown, no backticks) with these fields:
    - category: string (Top, Bottom, Outerwear, Shoes, Accessory, Dress, Bag, Other)
    - sub_category: string (e.g., T-Shirt, Jeans, Blazer, Sneakers)
    - primary_color: string (precise color name AND hex code, e.g., "Navy Blue #1A2B3C", "Charcoal Gray #36454F", "Crimson Red #DC143C")
    - style_tags: string[] (e.g., ["casual", "streetwear", "minimalist", "vintage"])
    - description: string (short, engaging description)
    - price_estimate: string (e.g., "${u}${u}", "${u}${u}${u}", "${u}") - use ${u} symbol
    - style_score: number (1-100, purely objective style rating based on versatility and trend)
    - style_reasoning: string (2-3 sentences explaining the style score and how this item fits into a wardrobe)
    - brand: string (brand name if visible, else empty)
    - styling_tips: string[] (3 short tips on how to style this item)
    - complementary_items: string[] (5 items that would pair well with this piece${s&&s.length>0?" - ONLY from the user's wardrobe list above":""})
    ${p}`,y=[n,o,l,c];for(let t=0;t<y.length;t++){let r=y[t],s=t===y.length-1;try{let t=a.getGenerativeModel({model:r}),s=await t.generateContent([g,{inlineData:{data:d,mimeType:e.type}}]),i=s.response.candidates?.[0]?.content?.parts?.[0]?.text||"";if(!i)throw Error("No text content in Gemini response");let n=m(i);return JSON.parse(n)}catch(e){if((e?.message?.includes("429")||e?.message?.includes("quota"))&&!s){console.warn(`Model ${r} quota exceeded, trying next model...`);continue}if(s)throw f(e);console.warn(`Model ${r} failed: ${e?.message}`);continue}}throw Error("All models failed")}async function u(e,t){let r=new i.GoogleGenerativeAI(t),s=await h(e),a=`Act as a world-class fashion stylist. Rate this item/outfit on a scale of 1-10.
        Return ONLY a valid JSON object (no markdown) with:
        - score: number (1-10)
        - critique: string (honest, constructive feedback, max 2 sentences)
        - alternatives: string[] (3 better alternative item names or styles)
        `,d=[n,o,l,c];for(let t=0;t<d.length;t++){let i=d[t],n=t===d.length-1;try{let t=r.getGenerativeModel({model:i}),n=await t.generateContent([a,{inlineData:{data:s,mimeType:e.type}}]),o=n.response.candidates?.[0]?.content?.parts?.[0]?.text||"";if(!o)throw Error("No text content in Gemini response");let l=m(o);return JSON.parse(l)}catch(e){if((e?.message?.includes("429")||e?.message?.includes("quota"))&&!n){console.warn(`Model ${i} quota exceeded, trying next model...`);continue}if(n)throw f(e);console.warn(`Model ${i} failed: ${e?.message}`);continue}}throw Error("All models failed")}async function h(e){return new Promise((t,r)=>{let s=new FileReader;s.onloadend=()=>{t(s.result.split(",")[1])},s.onerror=r,s.readAsDataURL(e)})}function m(e){return e.replace(/```json/g,"").replace(/```/g,"").trim()}function f(e){console.error("Gemini Error:",e);let t="Failed to analyze image. Please check your API key.";return e instanceof Error&&(e.message.includes("429")||e.message.includes("quota")?t="All Gemini models exhausted quota limits. Free tier has daily limits. Please wait or upgrade at https://ai.google.dev/pricing":e.message.includes("404")||e.message.includes("not found")?t="Gemini model unavailable. Please check your API key has access to the latest models.":(e.message.includes("API key")||e.message.includes("API_KEY"))&&(t="Invalid API Key. Please check your settings.")),Error(t)}e.s(["analyzeImageWithGemini",()=>d,"rateImageWithGemini",()=>u],66654)},69074,62636,e=>{"use strict";var t,r,s,a,i,n,o,l,c,d,u,h,m,f,p,g,y,b,w,x,v,_,E,C;let j=(0,e.i(75254).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);e.s(["Upload",()=>j],69074),(t=m||(m={})).STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object",(r=f||(f={})).LANGUAGE_UNSPECIFIED="language_unspecified",r.PYTHON="python",(s=p||(p={})).OUTCOME_UNSPECIFIED="outcome_unspecified",s.OUTCOME_OK="outcome_ok",s.OUTCOME_FAILED="outcome_failed",s.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded";let N=["user","model","function","system"];(a=g||(g={})).HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",a.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",a.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",a.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",a.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",a.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",(i=y||(y={})).HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",(n=b||(b={})).HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",(o=w||(w={})).BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",o.SAFETY="SAFETY",o.OTHER="OTHER",(l=x||(x={})).FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",l.STOP="STOP",l.MAX_TOKENS="MAX_TOKENS",l.SAFETY="SAFETY",l.RECITATION="RECITATION",l.LANGUAGE="LANGUAGE",l.BLOCKLIST="BLOCKLIST",l.PROHIBITED_CONTENT="PROHIBITED_CONTENT",l.SPII="SPII",l.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",l.OTHER="OTHER",(c=v||(v={})).TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",c.RETRIEVAL_QUERY="RETRIEVAL_QUERY",c.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",c.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",c.CLASSIFICATION="CLASSIFICATION",c.CLUSTERING="CLUSTERING",(d=_||(_={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",d.AUTO="AUTO",d.ANY="ANY",d.NONE="NONE",(u=E||(E={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",u.MODE_DYNAMIC="MODE_DYNAMIC";class O extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class A extends O{constructor(e,t){super(e),this.response=t}}class I extends O{constructor(e,t,r,s){super(e),this.status=t,this.statusText=r,this.errorDetails=s}}class S extends O{}class R extends O{}(h=C||(C={})).GENERATE_CONTENT="generateContent",h.STREAM_GENERATE_CONTENT="streamGenerateContent",h.COUNT_TOKENS="countTokens",h.EMBED_CONTENT="embedContent",h.BATCH_EMBED_CONTENTS="batchEmbedContents";class k{constructor(e,t,r,s,a){this.model=e,this.task=t,this.apiKey=r,this.stream=s,this.requestOptions=a}toString(){var e,t;let r=(null==(e=this.requestOptions)?void 0:e.apiVersion)||"v1beta",s=(null==(t=this.requestOptions)?void 0:t.baseUrl)||"https://generativelanguage.googleapis.com",a=`${s}/${r}/${this.model}:${this.task}`;return this.stream&&(a+="?alt=sse"),a}}async function T(e){var t,r;let s,a=new Headers;a.append("Content-Type","application/json"),a.append("x-goog-api-client",(r=e.requestOptions,s=[],(null==r?void 0:r.apiClient)&&s.push(r.apiClient),s.push("genai-js/0.24.1"),s.join(" "))),a.append("x-goog-api-key",e.apiKey);let i=null==(t=e.requestOptions)?void 0:t.customHeaders;if(i){if(!(i instanceof Headers))try{i=new Headers(i)}catch(e){throw new S(`unable to convert customHeaders value ${JSON.stringify(i)} to Headers: ${e.message}`)}for(let[e,t]of i.entries()){if("x-goog-api-key"===e)throw new S(`Cannot set reserved header name ${e}`);if("x-goog-api-client"===e)throw new S(`Header name ${e} can only be set using the apiClient field`);a.append(e,t)}}return a}async function P(e,t,r,s,a,i){let n=new k(e,t,r,s,i);return{url:n.toString(),fetchOptions:Object.assign(Object.assign({},function(e){let t={};if((null==e?void 0:e.signal)!==void 0||(null==e?void 0:e.timeout)>=0){let r=new AbortController;(null==e?void 0:e.timeout)>=0&&setTimeout(()=>r.abort(),e.timeout),(null==e?void 0:e.signal)&&e.signal.addEventListener("abort",()=>{r.abort()}),t.signal=r.signal}return t}(i)),{method:"POST",headers:await T(n),body:a})}}async function M(e,t,r,s,a,i={},n=fetch){let{url:o,fetchOptions:l}=await P(e,t,r,s,a,i);return U(o,l,n)}async function U(e,t,r=fetch){let s;try{s=await r(e,t)}catch(r){var a=r,i=e;let t=a;throw"AbortError"===t.name?(t=new R(`Request aborted when fetching ${i.toString()}: ${a.message}`)).stack=a.stack:a instanceof I||a instanceof S||((t=new O(`Error fetching from ${i.toString()}: ${a.message}`)).stack=a.stack),t}return s.ok||await $(s,e),s}async function $(e,t){let r,s="";try{let t=await e.json();s=t.error.message,t.error.details&&(s+=` ${JSON.stringify(t.error.details)}`,r=t.error.details)}catch(e){}throw new I(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${s}`,e.status,e.statusText,r)}function F(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),G(e.candidates[0]))throw new A(`${z(e)}`,e);return function(e){var t,r,s,a;let i=[];if(null==(r=null==(t=e.candidates)?void 0:t[0].content)?void 0:r.parts)for(let t of null==(a=null==(s=e.candidates)?void 0:s[0].content)?void 0:a.parts)t.text&&i.push(t.text),t.executableCode&&i.push("\n```"+t.executableCode.language+"\n"+t.executableCode.code+"\n```\n"),t.codeExecutionResult&&i.push("\n```\n"+t.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}(e)}if(e.promptFeedback)throw new A(`Text not available. ${z(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),G(e.candidates[0]))throw new A(`${z(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),L(e)[0]}if(e.promptFeedback)throw new A(`Function call not available. ${z(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),G(e.candidates[0]))throw new A(`${z(e)}`,e);return L(e)}if(e.promptFeedback)throw new A(`Function call not available. ${z(e)}`,e)},e}function L(e){var t,r,s,a;let i=[];if(null==(r=null==(t=e.candidates)?void 0:t[0].content)?void 0:r.parts)for(let t of null==(a=null==(s=e.candidates)?void 0:s[0].content)?void 0:a.parts)t.functionCall&&i.push(t.functionCall);return i.length>0?i:void 0}let D=[x.RECITATION,x.SAFETY,x.LANGUAGE];function G(e){return!!e.finishReason&&D.includes(e.finishReason)}function z(e){var t,r,s;let a="";if((!e.candidates||0===e.candidates.length)&&e.promptFeedback)a+="Response was blocked",(null==(t=e.promptFeedback)?void 0:t.blockReason)&&(a+=` due to ${e.promptFeedback.blockReason}`),(null==(r=e.promptFeedback)?void 0:r.blockReasonMessage)&&(a+=`: ${e.promptFeedback.blockReasonMessage}`);else if(null==(s=e.candidates)?void 0:s[0]){let t=e.candidates[0];G(t)&&(a+=`Candidate was blocked due to ${t.finishReason}`,t.finishMessage&&(a+=`: ${t.finishMessage}`))}return a}function q(e){return this instanceof q?(this.v=e,this):new q(e)}"function"==typeof SuppressedError&&SuppressedError;let B=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;async function H(e){let t=[],r=e.getReader();for(;;){let{done:e,value:s}=await r.read();if(e)return F(function(e){let t=e[e.length-1],r={promptFeedback:null==t?void 0:t.promptFeedback};for(let t of e){if(t.candidates){let e=0;for(let s of t.candidates)if(r.candidates||(r.candidates=[]),r.candidates[e]||(r.candidates[e]={index:e}),r.candidates[e].citationMetadata=s.citationMetadata,r.candidates[e].groundingMetadata=s.groundingMetadata,r.candidates[e].finishReason=s.finishReason,r.candidates[e].finishMessage=s.finishMessage,r.candidates[e].safetyRatings=s.safetyRatings,s.content&&s.content.parts){r.candidates[e].content||(r.candidates[e].content={role:s.content.role||"user",parts:[]});let t={};for(let a of s.content.parts)a.text&&(t.text=a.text),a.functionCall&&(t.functionCall=a.functionCall),a.executableCode&&(t.executableCode=a.executableCode),a.codeExecutionResult&&(t.codeExecutionResult=a.codeExecutionResult),0===Object.keys(t).length&&(t.text=""),r.candidates[e].content.parts.push(t)}e++}t.usageMetadata&&(r.usageMetadata=t.usageMetadata)}return r}(t));t.push(s)}}async function K(e,t,r,s){return function(e){let t,[r,s]=(t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})).getReader(),new ReadableStream({start(e){let r="";return function s(){return t.read().then(({value:t,done:a})=>{let i;if(a)return r.trim()?void e.error(new O("Failed to parse stream")):void e.close();let n=(r+=t).match(B);for(;n;){try{i=JSON.parse(n[1])}catch(t){e.error(new O(`Error parsing JSON response: "${n[1]}"`));return}e.enqueue(i),n=(r=r.substring(n[0].length)).match(B)}return s()}).catch(e=>{let t=e;throw t.stack=e.stack,t="AbortError"===t.name?new R("Request aborted when reading from the stream"):new O("Error reading from the stream")})}()}})).tee();return{stream:function(e){return function(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var s,a=r.apply(e,t||[]),i=[];return s={},n("next"),n("throw"),n("return"),s[Symbol.asyncIterator]=function(){return this},s;function n(e){a[e]&&(s[e]=function(t){return new Promise(function(r,s){i.push([e,t,r,s])>1||o(e,t)})})}function o(e,t){try{var r;(r=a[e](t)).value instanceof q?Promise.resolve(r.value.v).then(l,c):d(i[0][2],r)}catch(e){d(i[0][3],e)}}function l(e){o("next",e)}function c(e){o("throw",e)}function d(e,t){e(t),i.shift(),i.length&&o(i[0][0],i[0][1])}}(this,arguments,function*(){let t=e.getReader();for(;;){let{value:e,done:r}=yield q(t.read());if(r)break;yield yield q(F(e))}})}(r),response:H(s)}}(await M(t,C.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(r),s))}async function Y(e,t,r,s){let a=await M(t,C.GENERATE_CONTENT,e,!1,JSON.stringify(r),s);return{response:F(await a.json())}}function W(e){if(null!=e){if("string"==typeof e)return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)if(!e.role)return{role:"system",parts:e.parts};else return e}}function J(e){let t=[];if("string"==typeof e)t=[{text:e}];else for(let r of e)"string"==typeof r?t.push({text:r}):t.push(r);var r=t;let s={role:"user",parts:[]},a={role:"function",parts:[]},i=!1,n=!1;for(let e of r)"functionResponse"in e?(a.parts.push(e),n=!0):(s.parts.push(e),i=!0);if(i&&n)throw new O("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!i&&!n)throw new O("No content is provided for sending chat message.");return i?s:a}function V(e){let t;return t=e.contents?e:{contents:[J(e)]},e.systemInstruction&&(t.systemInstruction=W(e.systemInstruction)),t}let X=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],Q={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function Z(e){var t;if(void 0===e.candidates||0===e.candidates.length)return!1;let r=null==(t=e.candidates[0])?void 0:t.content;if(void 0===r||void 0===r.parts||0===r.parts.length)return!1;for(let e of r.parts)if(void 0===e||0===Object.keys(e).length||void 0!==e.text&&""===e.text)return!1;return!0}let ee="SILENT_ERROR";class et{constructor(e,t,r,s={}){this.model=t,this.params=r,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,(null==r?void 0:r.history)&&(!function(e){let t=!1;for(let r of e){let{role:e,parts:s}=r;if(!t&&"user"!==e)throw new O(`First content should be with role 'user', got ${e}`);if(!N.includes(e))throw new O(`Each item should include role field. Got ${e} but valid roles are: ${JSON.stringify(N)}`);if(!Array.isArray(s))throw new O("Content should have 'parts' property with an array of Parts");if(0===s.length)throw new O("Each Content should have at least one part");let a={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(let e of s)for(let t of X)t in e&&(a[t]+=1);let i=Q[e];for(let t of X)if(!i.includes(t)&&a[t]>0)throw new O(`Content with role '${e}' can't contain '${t}' part`);t=!0}}(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,t={}){var r,s,a,i,n,o;let l;await this._sendPromise;let c=J(e),d={safetySettings:null==(r=this.params)?void 0:r.safetySettings,generationConfig:null==(s=this.params)?void 0:s.generationConfig,tools:null==(a=this.params)?void 0:a.tools,toolConfig:null==(i=this.params)?void 0:i.toolConfig,systemInstruction:null==(n=this.params)?void 0:n.systemInstruction,cachedContent:null==(o=this.params)?void 0:o.cachedContent,contents:[...this._history,c]},u=Object.assign(Object.assign({},this._requestOptions),t);return this._sendPromise=this._sendPromise.then(()=>Y(this._apiKey,this.model,d,u)).then(e=>{var t;if(Z(e.response)){this._history.push(c);let r=Object.assign({parts:[],role:"model"},null==(t=e.response.candidates)?void 0:t[0].content);this._history.push(r)}else{let t=z(e.response);t&&console.warn(`sendMessage() was unsuccessful. ${t}. Inspect response object for details.`)}l=e}).catch(e=>{throw this._sendPromise=Promise.resolve(),e}),await this._sendPromise,l}async sendMessageStream(e,t={}){var r,s,a,i,n,o;await this._sendPromise;let l=J(e),c={safetySettings:null==(r=this.params)?void 0:r.safetySettings,generationConfig:null==(s=this.params)?void 0:s.generationConfig,tools:null==(a=this.params)?void 0:a.tools,toolConfig:null==(i=this.params)?void 0:i.toolConfig,systemInstruction:null==(n=this.params)?void 0:n.systemInstruction,cachedContent:null==(o=this.params)?void 0:o.cachedContent,contents:[...this._history,l]},d=Object.assign(Object.assign({},this._requestOptions),t),u=K(this._apiKey,this.model,c,d);return this._sendPromise=this._sendPromise.then(()=>u).catch(e=>{throw Error(ee)}).then(e=>e.response).then(e=>{if(Z(e)){this._history.push(l);let t=Object.assign({},e.candidates[0].content);t.role||(t.role="model"),this._history.push(t)}else{let t=z(e);t&&console.warn(`sendMessageStream() was unsuccessful. ${t}. Inspect response object for details.`)}}).catch(e=>{e.message!==ee&&console.error(e)}),u}}async function er(e,t,r,s){return(await M(t,C.COUNT_TOKENS,e,!1,JSON.stringify(r),s)).json()}async function es(e,t,r,s){return(await M(t,C.EMBED_CONTENT,e,!1,JSON.stringify(r),s)).json()}async function ea(e,t,r,s){let a=r.requests.map(e=>Object.assign(Object.assign({},e),{model:t}));return(await M(t,C.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:a}),s)).json()}class ei{constructor(e,t,r={}){this.apiKey=e,this._requestOptions=r,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=W(t.systemInstruction),this.cachedContent=t.cachedContent}async generateContent(e,t={}){var r;let s=V(e),a=Object.assign(Object.assign({},this._requestOptions),t);return Y(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null==(r=this.cachedContent)?void 0:r.name},s),a)}async generateContentStream(e,t={}){var r;let s=V(e),a=Object.assign(Object.assign({},this._requestOptions),t);return K(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null==(r=this.cachedContent)?void 0:r.name},s),a)}startChat(e){var t;return new et(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null==(t=this.cachedContent)?void 0:t.name},e),this._requestOptions)}async countTokens(e,t={}){let r=function(e,t){var r;let s={model:null==t?void 0:t.model,generationConfig:null==t?void 0:t.generationConfig,safetySettings:null==t?void 0:t.safetySettings,tools:null==t?void 0:t.tools,toolConfig:null==t?void 0:t.toolConfig,systemInstruction:null==t?void 0:t.systemInstruction,cachedContent:null==(r=null==t?void 0:t.cachedContent)?void 0:r.name,contents:[]},a=null!=e.generateContentRequest;if(e.contents){if(a)throw new S("CountTokensRequest must have one of contents or generateContentRequest, not both.");s.contents=e.contents}else if(a)s=Object.assign(Object.assign({},s),e.generateContentRequest);else{let t=J(e);s.contents=[t]}return{generateContentRequest:s}}(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),t);return er(this.apiKey,this.model,r,s)}async embedContent(e,t={}){let r="string"==typeof e||Array.isArray(e)?{content:J(e)}:e,s=Object.assign(Object.assign({},this._requestOptions),t);return es(this.apiKey,this.model,r,s)}async batchEmbedContents(e,t={}){let r=Object.assign(Object.assign({},this._requestOptions),t);return ea(this.apiKey,this.model,e,r)}}class en{constructor(e){this.apiKey=e}getGenerativeModel(e,t){if(!e.model)throw new O("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new ei(this.apiKey,e,t)}getGenerativeModelFromCachedContent(e,t,r){if(!e.name)throw new S("Cached content must contain a `name` field.");if(!e.model)throw new S("Cached content must contain a `model` field.");for(let r of["model","systemInstruction"])if((null==t?void 0:t[r])&&e[r]&&(null==t?void 0:t[r])!==e[r]){if("model"===r&&(t.model.startsWith("models/")?t.model.replace("models/",""):t.model)===(e.model.startsWith("models/")?e.model.replace("models/",""):e.model))continue;throw new S(`Different value for "${r}" specified in modelParams (${t[r]}) and cachedContent (${e[r]})`)}let s=Object.assign(Object.assign({},t),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new ei(this.apiKey,s,r)}}e.s(["GoogleGenerativeAI",()=>en],62636)},72520,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>t],72520)},6339,e=>{"use strict";var t=e.i(43476),r=e.i(46696),s=e.i(71645);let a={silhouette:"The overall outline or shape of a garment.",bespoke:"Clothing made to an individual buyer's specifications; custom-made.","bias cut":"Fabric cut at a 45-degree angle to allowing it to drape softly over the body's curves.",peplum:"A short, gathered or pleated strip of fabric attached at the waist of a woman's jacket, dress, or blouse.","empire waist":"A fitted bodice ending just below the bust, giving a high-waisted appearance.","drop waist":"A waistline that sits below the natural waist, often at the hips.","a-line":"A silhouette that is narrower at the top and flares gently wider toward the bottom.",chukka:"A specific variation of ankle-high boots usually made from suede or leather with open lacing.",loafer:"A slip-on shoe with no laces, often featuring a low heel and moccasin-like construction.",sneaker:"A shoe designed primarily for sports or physical exercise, but mostly used for everyday casual wear.",brogue:"A low-heeled shoe or boot characterized by sturdy leather uppers with decorative perforations (broguing).",espadrille:"A casual shoe with a canvas or cotton fabric upper and a flexible sole made of esparto rope.",oxford:"A classic dress shoe with closed lacing, where the shoelace eyelets tabs are attached under the vamp.",derby:"A boot or shoe with open lacing, meaning that the eyelets are sewn on top of the vamp.","chelsea boot":"A close-fitting, ankle-high boot with an elastic side panel.",mule:"A shoe that has no back or constraint around the foot's heel.",blazer:"A structured jacket resembling a suit jacket but cut more casually.",tunic:"A loose garment, typically sleeveless and reaching to the knees, as worn in ancient Greece and Rome.",cardigan:"A knitted sweater opening down the front, typically with buttons.","bomber jacket":"A short jacket gathered at the waist and cuffs by elasticated bands and typically having a zip front.","trench coat":"A loose-belted, double-breasted raincoat in a military style.",camisole:"A loose-fitting sleeveless undergarment or top for women, typically with thin straps.",culottes:"Women's knee-length trousers, cut with full legs to resemble a skirt.",chino:"Casual trousers made from chino cloth, a twill fabric, typically khaki-colored.",palazzo:"Long women's trousers cut with a loose, extremely wide leg that flares out from the waist.","pencil skirt":"A slim-fitting skirt with a straight, narrow cut.","sheath dress":"A fitted, straight-cut dress, often without a waist seam.",cashmere:"A soft, fine wool obtained from the cashmere goat.",bouclÃ©:"A yarn with a looped or curled ply, or the fabric made from this yarn.",brocade:"A rich fabric, usually silk, woven with a raised pattern, typically with gold or silver thread.",chambray:"A lightweight clothing fabric with colored warp and white filling yarns.",organza:"A thin, stiff, transparent fabric made of silk or a synthetic yarn.",taffeta:"A crisp, smooth, plain-woven fabric with a slight sheen.",tweed:"A rough-surfaced woolen cloth, typically of mixed flecked colors.","old money":"A style characterized by understated luxury, classic pieces, and high-quality materials without overt logos.","avant-garde":"Experimental, innovative, or unorthodox concepts in fashion.","haute couture":"Expensive, fashionable clothes produced by leading fashion houses.",minimalist:"A style focused on clean lines, simple geometric shapes, and a lack of decorative detail.",eclectic:"A style that derives ideas, style, or taste from a broad and diverse range of sources.",bohemian:"Unconventional and artistic style, often involving loose, flowing fabrics and colorful patterns.",preppy:"A classic, neat style inspired by the clothing of American preparatory schools.",streetwear:"Casual clothing of a style worn especially by members of various urban youth subcultures.",utilitarian:"Fashion that prioritizes function, practicality, and comfort.",monochrome:"An outfit consisting of pieces of one single color or shades of that color.","trompe-l'Å“il":"Visual illusion in art/fashion, used to trick the eye into perceiving a painted detail as a three-dimensional object.",appliquÃ©:"Ornamental needlework in which pieces of fabric are sewn or stuck onto a large piece of fabric to form a picture or pattern.",embroidery:"The art or process of forming decorative designs with hand or machine needlework.",pleating:"A type of fold formed by doubling fabric back upon itself and securing it in place.",ruching:"A gathering of fabric or ribbon to produce a ripple or ruffle effect.",atelier:"A workshop or studio, especially one used by an artist or fashion designer.","capsule wardrobe":"A collection of a few essential items of clothing that do not go out of fashion.","prÃªt-Ã -porter":"Designer clothes sold ready-to-wear rather than made to measure.",sartorial:"Relating to tailoring, clothes, or style of dress.",texture:"The perceived surface quality of a garment or fabric."};function i({text:e,className:r=""}){if(!e)return null;let s=function(e){if(!e)return[e];let t=Object.keys(a).sort((e,t)=>t.length-e.length),r=RegExp(`(${t.map(e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|")})`,"gi");return e.split(r)}(e);return(0,t.jsx)("span",{className:r,children:s.map((e,r)=>{let s=e.toLowerCase(),i=a[s];return i?(0,t.jsxs)("span",{className:"group relative inline-block cursor-help border-b border-dotted border-primary/50 hover:border-primary transition-colors",children:[(0,t.jsx)("span",{className:"text-primary/90 font-medium",children:e}),(0,t.jsxs)("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-64 p-3 bg-gray-900/95 backdrop-blur-xl border border-white/10 rounded-xl shadow-2xl text-xs text-start opacity-0 group-hover:opacity-100 transition-all duration-200 pointer-events-none z-50 transform group-hover:-translate-y-1",children:[(0,t.jsx)("span",{className:"block font-bold text-primary mb-1 capitalize border-b border-white/10 pb-1",children:s}),(0,t.jsx)("span",{className:"text-gray-300 leading-relaxed block",children:i}),(0,t.jsx)("span",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent border-t-gray-900/95"})]})]},r):(0,t.jsx)("span",{children:e},r)})})}var n=e.i(87246),o=e.i(69074),l=e.i(75254);let c=(0,l.default)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);var d=e.i(31278),u=e.i(63209),h=e.i(72520),m=e.i(25652);let f=(0,l.default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),p=(0,l.default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var g=e.i(18566),y=e.i(57688),b=e.i(33426),w=e.i(66654),x=e.i(7984),v=e.i(78416);function _(){let e,a,l,_,E=(0,g.useRouter)(),{profile:C}=(0,b.useProfile)(),[j,N]=(0,s.useState)("upload"),[O,A]=(0,s.useState)(!1),[I,S]=(0,s.useState)(0),[R,k]=(0,s.useState)([]),[T,P]=(0,s.useState)(""),[M,U]=(0,s.useState)(null),$=()=>{S(0);let e=setInterval(()=>{S(t=>t>=90?(clearInterval(e),90):t+10)},500);return e},F=async e=>{if(!e.target.files?.[0])return;A(!0);let t=$();U(null);let s=e.target.files[0];try{let e=C.gemini_api_key||localStorage.getItem("gemini_api_key");if(!e){r.toast.error("API Key Required",{description:"Please set your Gemini API key in your profile to use AI analysis.",duration:6e3,action:{label:"Go to Profile",onClick:()=>E.push("/profile")}}),clearInterval(t),A(!1);return}let a=await (0,w.analyzeImageWithGemini)(s,e,C.location,R);if(clearInterval(t),S(100),a.error)throw Error(a.message||a.error);a.image_url=URL.createObjectURL(s),a.primary_color&&!a.color&&(a.color=a.primary_color),U(a)}catch(e){console.error(e),r.toast.error("Analysis Failed",{description:e.message||"Please try again.",duration:5e3}),clearInterval(t)}finally{A(!1)}},L=async e=>{e.preventDefault(),A(!0);let t=$();U(null);try{let e,s={imageUrl:null,imageBase64:null,title:null,price:null,brand:null},a=!1;try{let e=await fetch(`https://authentiqc-worker.adwate.workers.dev/fetch-metadata?url=${encodeURIComponent(T)}`);if(e.ok){let t=await e.json();s.imageUrl=t.image||(t.images&&t.images.length>0?t.images[0]:null),s.title=t.title||null,s.price=t.price||null,s.brand=t.site_name||t.brand||null}else console.warn("[Add Item] Worker returned error status:",e.status),a=!0}catch(e){console.warn("[Add Item] Worker fetch failed:",e),a=!0}if(console.log("[Add Item] Worker response data:",s),!s.imageBase64&&!s.image&&!s.imageUrl||a){console.warn("[Add Item] No image found or worker failed, attempting fallback search...");try{console.log("[Add Item] Attempting fallback search with URL...");let e=await (0,v.getFirstSearchResultUrl)("",T,"");if(!e.imageUrl)try{let t=new URL(T),r=(t.pathname.split("/").filter(e=>e.length>2&&!["p","product","item","shop","en","in","html"].includes(e.toLowerCase())).pop()||"").replace(/[_]/g," ").replace(/-/g," ").replace(/\.html.*/,"").replace(/\d+/g,"").trim(),a=s.brand||t.hostname.replace("www.","").split(".")[0],i=`${a} ${r}`.trim();r.length>3&&(console.log("[Add Item] Attempting smart fallback search:",i),e=await (0,v.getFirstSearchResultUrl)(i,"",""))}catch(e){console.warn("Smart query generation failed:",e)}if(e.imageUrl)console.log("[Add Item] âœ… Fallback search found image:",e.imageUrl),s.imageUrl=e.imageUrl,s.title||(s.title=e.title),s.price||(s.price=e.price),s.brand||(s.brand=e.brand);else throw Error("Fallback search failed")}catch(e){console.error("[Add Item] Fallback failed:",e),clearInterval(t),A(!1),r.toast.error("Couldn't load product image",{description:"This site has strict security blocks. Please upload a screenshot instead.",duration:6e3}),N("upload");return}}try{if(s.imageBase64){let t=await fetch(s.imageBase64);e=await t.blob(),console.log("[Add Item] Using imageBase64")}else if(s.imageUrl||s.image){let t=s.imageUrl||s.image;console.log("[Add Item] Trying to fetch imageUrl:",t);let r=await fetch(t);e=await r.blob(),console.log("[Add Item] Successfully fetched imageUrl")}else throw Error("No image data available")}catch(e){console.error("[Add Item] Image fetch failed:",e),clearInterval(t),A(!1),r.toast.error("Couldn't load product image",{description:`Failed to fetch image: ${e.message}. Try uploading a screenshot.`,duration:6e3}),N("upload");return}let i=new File([e],"product.jpg",{type:e.type}),n=C.gemini_api_key||localStorage.getItem("gemini_api_key");if(!n)throw r.toast.error("API Key Required",{description:"Please set your Gemini API key in your profile.",duration:6e3,action:{label:"Go to Profile",onClick:()=>E.push("/profile")}}),Error("API Key required");let o=await (0,w.analyzeImageWithGemini)(i,n,C.location,R),l={...o,image_url:URL.createObjectURL(e),item_name:s.title||o.item_name,description:s.description||o.description,brand:s.brand||o.brand,price:s.price||o.price,color:o.primary_color||s.color};clearInterval(t),S(100),U(l)}catch(e){console.error(e),r.toast.error("Link Analysis Failed",{description:e.message||"Please check the URL or try uploading a photo.",duration:5e3}),clearInterval(t)}finally{A(!1)}},[D,G]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(async()=>{try{let{data:{user:e}}=await x.supabase.auth.getUser();if(!e)return;let{data:t,error:r}=await x.supabase.from("wardrobe_items").select("sub_category, category, primary_color").eq("user_id",e.id).limit(50);if(r){console.error("Failed to fetch wardrobe - Full error:",r),console.error("Error details:",{message:r.message,details:r.details,hint:r.hint,code:r.code});return}t&&k(t.map(e=>({name:e.sub_category||e.category,category:e.category,color:e.primary_color})))}catch(e){console.error("Failed to fetch wardrobe:",e)}})()},[]);let z=async()=>{if(M){G(!0);try{let{data:{user:e}}=await x.supabase.auth.getUser();if(!e)return void E.push("/auth/login");let t=M.image_url;if(M.image_url?.startsWith("blob:")){let r=await fetch(M.image_url).then(e=>e.blob()),s=`${e.id}/${Date.now()}.jpg`,{error:a}=await x.supabase.storage.from("wardrobe_items").upload(s,r);if(a)throw a;let{data:{publicUrl:i}}=x.supabase.storage.from("wardrobe_items").getPublicUrl(s);t=i}let{error:s}=await x.supabase.from("wardrobe_items").insert({user_id:e.id,image_url:t,category:M.category,sub_category:M.sub_category,brand:M.brand,primary_color:M.primary_color,price_estimate:M.price_estimate,description:M.description,style_tags:M.style_tags,style_score:M.style_score,ai_analysis:M});if(s)throw s;r.toast.success("Item added to wardrobe!"),E.push("/wardrobe")}catch(e){console.error("Save Error:",e),r.toast.error("Save Failed",{description:e.message||"Failed to save item. Please try again.",duration:5e3})}finally{G(!1)}}};return(0,t.jsxs)("div",{className:"p-6 md:p-8 max-w-4xl mx-auto",children:[(0,t.jsx)("h1",{className:"text-4xl font-serif font-bold mb-2",children:"Add New Item"}),(0,t.jsx)("p",{className:"text-gray-400 mb-8",children:"Upload a photo or paste a link to get a detailed Style DNA analysis."}),(0,t.jsxs)("div",{className:"flex gap-4 mb-8 bg-surface p-1 rounded-xl border border-white/5 max-w-md",children:[(0,t.jsxs)("button",{onClick:()=>N("upload"),className:`flex-1 py-3 flex items-center justify-center gap-2 rounded-lg transition-all font-medium ${"upload"===j?"bg-primary text-black shadow-lg":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[(0,t.jsx)(o.Upload,{size:18})," Upload Photo"]}),(0,t.jsxs)("button",{onClick:()=>N("link"),className:`flex-1 py-3 flex items-center justify-center gap-2 rounded-lg transition-all font-medium ${"link"===j?"bg-primary text-black shadow-lg":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[(0,t.jsx)(c,{size:18})," Paste Link"]})]}),(0,t.jsxs)("div",{className:`card glass p-8 min-h-[400px] flex flex-col items-center justify-center relative shadow-2xl overflow-hidden transition-all duration-500 ${M?"items-stretch justify-start":""}`,children:[O&&(0,t.jsxs)("div",{className:"w-full relative",children:[(0,t.jsxs)("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center p-8 text-center bg-black/50 backdrop-blur-sm rounded-xl",children:[(0,t.jsxs)("div",{className:"w-full max-w-sm mb-4",children:[(0,t.jsxs)("div",{className:"flex justify-between text-xs text-primary mb-2 font-mono uppercase tracking-widest",children:[(0,t.jsx)("span",{children:"Analyzing Style DNA"}),(0,t.jsxs)("span",{children:[I,"%"]})]}),(0,t.jsx)("div",{className:"h-1 bg-white/10 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-primary transition-all duration-300 ease-out shadow-[0_0_15px_#d4af37]",style:{width:`${I}%`}})})]}),(0,t.jsx)("h3",{className:"text-xl font-bold mb-2 text-white",children:"Gemini 3 Pro is analyzing..."}),(0,t.jsx)("p",{className:"text-gray-400 text-sm animate-pulse",children:"Identifying brand, SKU, and calculating style score."})]}),(0,t.jsx)(n.AddItemSkeleton,{})]}),D&&(0,t.jsxs)("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-md z-50 flex flex-col items-center justify-center p-8 text-center animate-fade-in",children:[(0,t.jsx)(d.Loader2,{size:48,className:"text-primary animate-spin mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-bold mb-2 text-white",children:"Saving to Wardrobe..."})]}),!M&&!O&&"upload"===j&&(0,t.jsx)("div",{className:"w-full text-center max-w-md animate-fade-in",children:(0,t.jsxs)("div",{className:"border-2 border-dashed border-white/20 rounded-3xl h-80 flex flex-col items-center justify-center cursor-pointer hover:border-primary/50 hover:bg-primary/5 transition-all group relative overflow-hidden",onClick:()=>document.getElementById("file-input")?.click(),children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-white/5 rounded-full flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:(0,t.jsx)(o.Upload,{size:32,className:"text-gray-400 group-hover:text-primary transition-colors"})}),(0,t.jsx)("h3",{className:"text-lg font-bold mb-2",children:"Drop your image here"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm max-w-xs",children:"Supports JPG, PNG, WEBP up to 5MB"}),(0,t.jsx)("input",{id:"file-input",type:"file",className:"hidden",accept:"image/*",onChange:F})]})}),!M&&!O&&"link"===j&&(0,t.jsxs)("form",{onSubmit:L,className:"w-full max-w-md space-y-6 animate-fade-in",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-white/5 rounded-2xl flex items-center justify-center mx-auto mb-4 border border-white/10",children:(0,t.jsx)(c,{size:32,className:"text-primary"})}),(0,t.jsx)("h3",{className:"text-xl font-bold",children:"Import from URL"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"url",placeholder:"https://store.com/product...",className:"w-full bg-black/50 border border-white/20 rounded-xl px-4 py-4 pr-12 text-white placeholder:text-gray-600 focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all",value:T,onChange:e=>P(e.target.value),required:!0}),(0,t.jsx)("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-600 pointer-events-none",children:(0,t.jsx)(c,{size:16})})]}),(0,t.jsxs)("button",{type:"submit",className:"btn btn-primary w-full py-4 text-base font-bold shadow-lg shadow-primary/20 hover:shadow-primary/40",disabled:!T||O,children:["Analyze Link ",(0,t.jsx)(h.ArrowRight,{size:18,className:"ml-2"})]})]}),M&&(0,t.jsxs)("div",{className:"w-full animate-fade-in grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"aspect-[3/4] bg-gray-900 rounded-2xl overflow-hidden border border-white/10 shadow-2xl relative group",children:[M.image_url?(0,t.jsx)(y.default,{src:M.image_url,alt:"Product",fill:!0,className:"object-cover"}):(0,t.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-600 bg-white/5",children:[(0,t.jsx)(u.AlertCircle,{size:32,className:"mb-2 opacity-50"}),(0,t.jsx)("span",{children:"No Image Available"})]}),(0,t.jsx)("div",{className:"absolute top-4 right-4 animate-in fade-in zoom-in duration-500 delay-300",children:(0,t.jsxs)("div",{className:"bg-black/70 backdrop-blur-md text-white px-4 py-2 rounded-full border border-white/10 shadow-xl flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xs font-mono uppercase text-gray-400",children:"Style Score"}),(0,t.jsx)("span",{className:`text-xl font-bold ${M.style_score>80?"text-green-400":M.style_score>50?"text-yellow-400":"text-red-400"}`,children:M.style_score||"?"})]})})]}),(0,t.jsxs)("div",{className:"bg-white/5 p-4 rounded-xl border border-white/10",children:[(0,t.jsxs)("h4",{className:"text-sm font-bold text-gray-300 mb-2 flex items-center gap-2",children:[(0,t.jsx)(m.TrendingUp,{size:16,className:"text-primary"})," Style Analysis"]}),(0,t.jsx)("p",{className:"text-sm text-gray-400 leading-relaxed",children:(0,t.jsx)(i,{text:M.style_reasoning||"Analyzing fit with your personal style..."})})]})]}),(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsxs)("div",{className:"flex-1 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("span",{className:"px-2 py-0.5 rounded text-[10px] font-bold bg-white/10 text-gray-300 uppercase tracking-widest border border-white/5",children:M.brand||"Unknown Brand"}),(0,t.jsx)("span",{className:"text-sm text-gray-400 font-mono",children:M.price||M.price_estimate||"Price Pending"})]}),(0,t.jsx)("h2",{className:"text-3xl font-serif font-bold leading-tight mb-4",children:M.item_name||M.sub_category||"Identified Item"}),(0,t.jsxs)("p",{className:"text-gray-300 leading-relaxed italic border-l-2 border-primary/30 pl-4 py-1",children:['"',(0,t.jsx)(i,{text:M.description}),'"']})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"bg-black/20 p-3 rounded-lg border border-white/5",children:[(0,t.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Category"}),(0,t.jsx)("div",{className:"font-medium text-sm",children:M.category})]}),(0,t.jsxs)("div",{className:"bg-black/20 p-3 rounded-lg border border-white/5",children:[(0,t.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Color"}),(0,t.jsx)("div",{className:"font-medium text-sm flex items-center gap-2",children:(l=(a=(e=M.color||M.primary_color||"#FFFFFF").match(/#[0-9A-Fa-f]{6}/))?a[0]:e.startsWith("#")?e:"#FFFFFF",_=e.replace(/#[0-9A-Fa-f]{6}/,"").trim()||e,(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"w-4 h-4 rounded-full border border-white/30 shadow-sm",style:{backgroundColor:l}}),_]}))})]})]}),(0,t.jsxs)("div",{className:"bg-white/5 p-4 rounded-xl border border-white/10 hover:border-primary/30 transition-colors group cursor-pointer",onClick:async()=>{let e=await (0,v.getFirstSearchResultUrl)(M.brand||"",M.item_name||M.sub_category||"",M.color||M.primary_color);window.open(e.url,"_blank")},children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,t.jsxs)("div",{className:"text-xs text-primary font-bold uppercase tracking-wider flex items-center gap-1",children:[(0,t.jsx)(f,{size:12})," Find on Google"]}),(0,t.jsx)(h.ArrowRight,{size:14,className:"text-gray-500 group-hover:text-primary transition-colors opacity-0 group-hover:opacity-100 transform -translate-x-2 group-hover:translate-x-0"})]}),(0,t.jsx)("div",{className:"text-sm font-medium hover:text-primary underline decoration-primary/30 underline-offset-4",children:"View Purchasing Options"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"text-xs text-gray-500 uppercase font-bold tracking-wider mb-2 block flex items-center gap-1",children:[(0,t.jsx)(p,{size:12})," Style Tags"]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[M.tags?.map((e,r)=>(0,t.jsxs)("span",{className:"px-3 py-1 bg-white/5 text-gray-300 border border-white/10 rounded-full text-xs hover:bg-white/10 transition-colors cursor-default",children:["#",e]},r)),M.style_tags?.map((e,r)=>(0,t.jsxs)("span",{className:"px-3 py-1 bg-white/5 text-gray-300 border border-white/10 rounded-full text-xs hover:bg-white/10 transition-colors cursor-default",children:["#",e]},`s-${r}`))]})]})]}),(0,t.jsxs)("div",{className:"pt-8 flex gap-4 mt-auto",children:[(0,t.jsx)("button",{onClick:()=>U(null),className:"btn btn-outline flex-1 py-4 text-sm",children:"Cancel"}),(0,t.jsx)("button",{onClick:z,className:"btn btn-primary flex-[2] py-4 text-sm group shadow-lg shadow-primary/20",children:"Add to Wardrobe"})]})]})]})]})]})}e.s(["default",()=>_],6339)}]);