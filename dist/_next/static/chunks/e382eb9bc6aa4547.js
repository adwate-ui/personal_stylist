(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,66606,e=>{"use strict";var a=e.i(43476),s=e.i(71645),r=e.i(18566),t=e.i(69074),l=e.i(63059),i=e.i(75254);let n=(0,i.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),o=(0,i.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var c=e.i(72520),d=e.i(59386),m=e.i(47780),h=e.i(63727),p=e.i(83086),x=e.i(84614),u=e.i(90519),g=e.i(31278),b=e.i(90597),y=e.i(33426),f=e.i(7984),j=e.i(27599),v=e.i(67034),N=e.i(62636),w=e.i(78416);async function k(e,a){let s,r,t,l=new N.GoogleGenerativeAI(a),i=(s=[],e.lifestyle.work&&s.push("corporate/professional settings"),e.lifestyle.casual&&s.push("casual/work-from-home environments"),e.lifestyle.event&&s.push("social events and evening occasions"),e.lifestyle.active&&s.push("active/athletic activities"),t=(r={budget:{tier:"High Street",range:"Rs. 1,500 - 8,000"},mid:{tier:"Contemporary",range:"Rs. 8,000 - 40,000"},luxury:{tier:"Designer",range:"Rs. 40,000 - 1,50,000"},high_luxury:{tier:"Couture",range:"Rs. 1,50,000+"}})[e.priceRange]||r.mid,`You are a world-class personal stylist with expertise in fashion trends, color theory, body proportions, and luxury brands. Analyze this client profile and create their personalized Style DNA.

CLIENT PROFILE:
- Name: ${e.name}
- Gender: ${e.gender}
- Age: ${e.age}
- Location: ${e.location}
- Body Shape: ${e.bodyShape}
- Height: ${e.height} cm, Weight: ${e.weight} kg
- Fit Preference: ${e.fitPreference}
- Skin Tone: ${e.skinTone}${e.skinToneUndertone?` (Undertone: ${e.skinToneUndertone})`:""}
- Hair Color: ${e.hairColor}
- Eye Color: ${e.eyeColor}
- Lifestyle Needs: ${s.join(", ")||"balanced mix"}
- Aesthetic Preferences: ${e.archetypes.join(", ")||"versatile"}
- Admired Brands: ${e.brands.join(", ")||"various"}
- Budget: ${t.tier} (${t.range} per item)

YOUR TASK:
Create a comprehensive Style DNA that feels personalized, professional, and actionable. Return ONLY valid JSON (no markdown, no backticks) with this exact structure:

{
  "archetype_name": "A unique 2-3 word style archetype name that captures their essence",
  "summary": "2-3 sentences describing their style identity and what makes them unique",
  "color_palette": {
    "neutrals": [
      { "hex": "#hexcode", "name": "Color Name" },
      { "hex": "#hexcode", "name": "Color Name" },
      { "hex": "#hexcode", "name": "Color Name" },
      { "hex": "#hexcode", "name": "Color Name" }
    ],
    "accents": [
      { "hex": "#hexcode", "name": "Color Name" },
      { "hex": "#hexcode", "name": "Color Name" },
      { "hex": "#hexcode", "name": "Color Name" }
    ],
    "avoid": [
      { "color": "#hexcode", "reason": "Why this color doesn't work for them" },
      { "color": "#hexcode", "reason": "Why this color doesn't work for them" }
    ],
    "rationale": "DETAILED explanation covering:\\n    1) Why these specific colors were chosen based on skin tone, hair, and eye color\\n    2) Specific product color recommendations (e.g., 'Navy blazer', 'Cream trousers', 'Burgundy accessories')\\n    3) How to combine these colors effectively\\n    4) Seasonal variations if applicable"
  },
  "must_have_staples": {
    "tops": {
      "quantity_recommendation": {
        "total": "Number based on lifestyle (e.g., '12-15 tops total')",
        "breakdown": "Breakdown by type (e.g., '5 shirts, 4 t-shirts, 3 polos')",
        "color_split": "Color distribution (e.g., '40% neutrals, 40% core colors, 20% accents')"
      },
      "shirts": [
        {
          "item": "Specific item description",
          "brand": "Specific OFFICIAL brand website or high-end retailer (NO eBay, Mercari, Poshmark, or reseller sites)",
          "why": "Why this item is essential for them",
          "color": "Recommended color from their palette with quantity (e.g., '2 white, 1 navy')"
        }
      ],
      "t_shirts": [],
      "polos": []
    },
    "bottoms": {
      "quantity_recommendation": {
        "total": "Number based on lifestyle",
        "breakdown": "Breakdown by type",
        "color_split": "Color distribution"
      },
      "jeans": [],
      "chinos": [],
      "trousers": []
    },
    "outerwear": {
    "belts": {
      "casual": [...],
      "formal": [...]
    },
    "jewelry": {
      "everyday": [...]
    }
  },
  "brand_recommendations": [
    {
      "name": "Brand Name (MUST be from ${t.tier} tier)",
      "tier": "${t.tier}",
      "why": "Why this brand aligns with their style and needs"
    }
  ],
  "styling_wisdom": [
    "Actionable styling tip 1",
    "Actionable styling tip 2",
    "Actionable styling tip 3"
  ]
}

IMPORTANT REQUIREMENTS:
1. All hex codes must be valid CSS colors (#RRGGBB format)
2. Color palette should be based on their skin tone (${e.skinTone}) and complement their hair (${e.hairColor}) and eyes (${e.eyeColor})
3. Must-have staples should include 10-15 items total across all categories
4. Each staple must specify a brand primarily from the ${t.tier} tier, but you may include the client's Admired Brands if they fit the style.
5. Brand recommendations should prioritize the client's Admired Brands (${e.brands.join(", ")}) if suitable; otherwise suggest brands in the ${t.tier} tier.
6. Ensure recommended brands are known to be accessible in ${e.location}.
7. Consider their body shape (${e.bodyShape}) and fit preference (${e.fitPreference}) in recommendations
8. Styling wisdom should be specific to their lifestyle needs
9. Return ONLY the JSON object, no other text${e.avatar_url?"\n\nIMPORTANT: The user has provided a photo. Use this to refine your recommendations based on their actual appearance, style, and body proportions visible in the image.":""}`),n=["gemini-3-pro-preview","gemini-2.5-pro","gemini-3-flash-preview","gemini-2.5-flash"];for(let a=0;a<n.length;a++){let s=n[a],r=a===n.length-1;console.log(`[Style DNA] Attempting model ${a+1}/${n.length}: ${s}`);try{let a,r=l.getGenerativeModel({model:s}),t=e.avatar_url?.trim();if(t)try{let e=await fetch(t);if(!e.ok)throw Error(`Avatar fetch failed: ${e.status}`);let s=await e.arrayBuffer(),l=v.Buffer.from(s).toString("base64");a=await r.generateContent([{text:i},{inlineData:{data:l,mimeType:"image/jpeg"}}])}catch(e){console.warn(`Could not load avatar from ${t}:`,e),a=await r.generateContent(i)}else a=await r.generateContent(i);console.log("[Style DNA] Full result object:",JSON.stringify({hasResponse:!!a.response,hasCandidates:!!a.response?.candidates,candidatesLength:a.response?.candidates?.length,firstCandidate:a.response?.candidates?.[0]?"exists":"missing"}));let n="";try{a.response?.candidates?.[0]?.content?.parts?.[0]?.text?(n=a.response.candidates[0].content.parts[0].text,console.log("[Style DNA] âœ… Extracted text via candidates array")):"function"==typeof a.response.text?(n=a.response.text(),console.log("[Style DNA] âœ… Extracted text via text() method")):a.response?.text&&(n=a.response.text,console.log("[Style DNA] âœ… Extracted text via text property"))}catch(e){throw console.error("[Style DNA] Text extraction error:",e),console.error("[Style DNA] Response structure:",JSON.stringify(a.response,null,2)),Error(`Failed to extract text from Gemini response: ${e?.message||"Unknown error"}`)}if(!n)throw console.error("[Style DNA] No text found in response. Full response:",JSON.stringify(a.response,null,2)),Error("No text content in Gemini response");let o=n.replace(/```json/g,"").replace(/```/g,"").trim(),c=JSON.parse(o);if(c.must_have_staples)for(let e in c.must_have_staples){let a=c.must_have_staples[e];if("object"!=typeof a||null===a)continue;let s=Object.keys(a);if(s.every(e=>!isNaN(parseInt(e))||"quantity_recommendation"===e)){console.log(`[Style DNA] âš ï¸ Detected direct item list for category ${e}, normalizing...`);let r=[];for(let e of s){if("quantity_recommendation"===e)continue;let s=a[e];"object"==typeof s&&null!==s&&r.push(s)}c.must_have_staples[e]={Essentials:r}}let r=c.must_have_staples[e];for(let s in r){let t=r[s];if(!Array.isArray(t))if("object"==typeof t&&null!==t&&t.item)t=[t],r[s]=t;else{console.warn(`[Style DNA] âš ï¸ Skipping ${e}/${s} - not an array and not a recognized item`),delete r[s];continue}let l=[];for(let e of t)try{let a=await (0,w.getFirstSearchResultUrl)(e.brand||"",e.item||"",e.color||"");l.push({...e,product_url:a.url,image_url:a.imageUrl})}catch(a){console.warn(`Failed to fetch product URL for ${e.brand} ${e.item}:`,a),l.push({...e,product_url:"#"})}a[s]=l}}let d=e=>{if(Array.isArray(e))return e;if("object"==typeof e&&null!==e){let a=Object.values(e);if(Object.keys(e).every(e=>!isNaN(parseInt(e)))||a.length>0&&"object"==typeof a[0])return a}return[]};return c.color_palette&&(c.color_palette.neutrals=d(c.color_palette.neutrals),c.color_palette.accents=d(c.color_palette.accents),c.color_palette.avoid=d(c.color_palette.avoid),c.color_palette.seasonal_variations&&(c.color_palette.seasonal_variations.spring_summer=d(c.color_palette.seasonal_variations.spring_summer),c.color_palette.seasonal_variations.fall_winter=d(c.color_palette.seasonal_variations.fall_winter))),c.brand_recommendations&&(c.brand_recommendations=d(c.brand_recommendations)),c.generated_by_model=s,console.log(`[Style DNA] âœ… Successfully generated with ${s}`),c}catch(e){if(console.error(`[Style DNA] âŒ Model ${s} failed:`,e.message),(e?.message?.includes("429")||e?.message?.includes("quota"))&&!r){console.warn(`[Style DNA] Quota exceeded for ${s}, trying next model...`);continue}if(r)throw console.error("[Style DNA] All models failed. Last error:",e),Error(e?.message?.includes("API key")?"Invalid Gemini API Key. Please check your settings.":"Failed to generate Style DNA. Please try again.");console.warn(`[Style DNA] Trying next model due to error in ${s}...`);continue}}throw Error("All models failed to generate Style DNA")}function S(){let e=(0,r.useRouter)(),i=(0,r.useSearchParams)().get("mode"),[v,N]=(0,s.useState)(""),{profile:w,saveProfile:S,loading:_}=(0,y.useProfile)(),[C,A]=(0,s.useState)("preferences"===i?2:1),[B,T]=(0,s.useState)(!1),[$,P]=(0,s.useState)(null),[R,D]=(0,s.useState)(!1),[M,z]=(0,s.useState)(""),[F,I]=(0,s.useState)([]),[E,L]=(0,s.useState)(!1),[O,G]=(0,s.useState)(""),[H,U]=(0,s.useState)(!1),[q,W]=(0,s.useState)(""),[J,K]=(0,s.useState)(""),[Y,V]=(0,s.useState)(!1),[Q,Z]=(0,s.useState)({shoulders:"",chest:"",waist:"",hips:""}),[X,ee]=(0,s.useState)({name:"",gender:"",age:"",location:"",gemini_api_key:"",height:"",weight:"",bodyShape:"",fitPreference:"regular",skinTone:"",skinToneUndertone:"",eyeColor:"",hairColor:"",lifestyle:{work:!1,casual:!1,event:!1,active:!1},archetypes:[],brands:[],priceRange:"",avatar_url:""}),ea=["Mumbai","Delhi","Bangalore","Hyderabad","Chennai","Kolkata","Pune","Ahmedabad","Jaipur","Surat","Lucknow","Kanpur","Nagpur","Indore","Gurgaon","Noida","New York","Los Angeles","Chicago","Houston","Phoenix","Philadelphia","San Antonio","San Diego","Dallas","San Jose","Austin","Jacksonville","San Francisco","Seattle","Denver","Washington DC","Boston","Portland","Las Vegas","Miami","Atlanta","Toronto","Montreal","Vancouver","Calgary","Edmonton","Mexico City","Guadalajara","London","Paris","Berlin","Madrid","Rome","Barcelona","Vienna","Amsterdam","Brussels","Copenhagen","Stockholm","Oslo","Helsinki","Dublin","Lisbon","Prague","Budapest","Warsaw","Athens","Zurich","Geneva","Munich","Hamburg","Milan","Naples","Turin","Manchester","Birmingham","Edinburgh","Glasgow","Tokyo","Shanghai","Beijing","Singapore","Hong Kong","Seoul","Bangkok","Kuala Lumpur","Manila","Jakarta","Ho Chi Minh City","Hanoi","Taipei","Dubai","Abu Dhabi","Riyadh","Tel Aviv","Istanbul","Ankara","Tehran","Baghdad","Sydney","Melbourne","Brisbane","Perth","Auckland","Wellington","Adelaide","SÃ£o Paulo","Rio de Janeiro","Buenos Aires","Lima","BogotÃ¡","Santiago","Caracas","BrasÃ­lia","Montevideo","Quito","Cairo","Lagos","Johannesburg","Cape Town","Nairobi","Casablanca","Accra","Addis Ababa","Dar es Salaam","Algiers","Khartoum","Tunis"],es={Hourglass:"/body_shape_hourglass_1766144787860.png",Rectangle:"/body_shape_rectangle_1766144804765.png",Pear:"/body_shape_pear_1766144822050.png","Inverted Triangle":"/body_shape_inverted_triangle_f_1766144838895.png",Apple:"/body_shape_apple_1766144855874.png",Triangle:"/body_shape_triangle_m_1766144882748.png",Oval:"/body_shape_oval_m_1766144932373.png",Trapezoid:"/body_shape_trapezoid_m_1766144949305.png"},er={"Old Money":"https://images.unsplash.com/photo-1617127365659-c47fa864d8bc?w=500&auto=format&fit=crop&q=80",Minimalist:"https://images.unsplash.com/photo-1434389677669-e08b4cac3105?w=500&auto=format&fit=crop&q=80","High Street":"https://images.unsplash.com/photo-1483985988355-763728e1935b?w=500&auto=format&fit=crop&q=80",Classic:"https://images.unsplash.com/photo-1594938298603-c8148c4dae35?w=500&auto=format&fit=crop&q=80",Bohemian:"https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?w=500&auto=format&fit=crop&q=80","Avant-Garde":"https://images.unsplash.com/photo-1509631179647-0177331693ae?w=500&auto=format&fit=crop&q=80","Ivy League":"https://images.unsplash.com/photo-1617137968427-85924c800a22?w=500&auto=format&fit=crop&q=80",Glamorous:"https://images.unsplash.com/photo-1539008835657-9e8e9680c956?w=500&auto=format&fit=crop&q=80"};(0,s.useEffect)(()=>{if(!_&&"preferences"!==i&&"regenerate"!==i&&w.styleDNA)return void e.push("/wardrobe")},[_,w,i,e]),(0,s.useEffect)(()=>{if("preferences"!==i&&"regenerate"!==i||_){let e=localStorage.getItem("onboarding_draft");if(e)try{let a=JSON.parse(e);ee(a),a.avatar_url&&N(a.avatar_url)}catch(e){console.error("Failed to parse saved onboarding data")}}else ee(e=>({...e,...w,brands:Array.isArray(w.brands)?w.brands:[],archetypes:Array.isArray(w.archetypes)?w.archetypes:[]})),w.avatar_url&&N(w.avatar_url),"regenerate"!==i||!w||B||$||(console.log("ðŸ”„ Regenerate mode detected - auto-generating Style DNA"),T(!0),setTimeout(()=>{et()},500))},[i,_,w]),(0,s.useEffect)(()=>{localStorage.setItem("onboarding_draft",JSON.stringify(X))},[X]);let et=async()=>{T(!0);try{let a=X.gemini_api_key||w.gemini_api_key||localStorage.getItem("gemini_api_key")||"";if(!a){alert("Please add your Gemini API key in Step 1 to generate Style DNA, or add it later in Settings."),T(!1);return}let s=await k(X,a);await S({...X,styleDNA:s}),localStorage.removeItem("onboarding_draft"),e.push("/style-dna")}catch(e){console.error("DNA Generation Error:",e),alert(e.message||"Failed to generate Style DNA. Please try again."),T(!1)}},el=async()=>{D(!0);try{await S({...X,styleDNA:$}),localStorage.removeItem("onboarding_draft"),e.push("/wardrobe")}catch(e){console.error("Profile Save Error:",e),alert("Failed to save profile. Please check your connection.")}finally{D(!1)}},ei=async e=>{if(e.target.files?.[0]){if(!j.isSupabaseConfigured)return void alert("Avatar upload is not available at this time. Please skip this step and continue with onboarding.");console.log("ðŸ–¼ï¸ Avatar upload started..."),T(!0);try{let a=e.target.files[0];console.log("ðŸ“ File selected:",a.name,a.size,"bytes");let s=a.name.split(".").pop(),r=`${Math.random().toString(36).substring(2)}.${s}`;console.log("â¬†ï¸ Uploading to Supabase:",r);let{error:t}=await f.supabase.storage.from("avatars").upload(r,a);if(t)throw console.error("âŒ Upload error:",t),t;console.log("âœ… Upload successful!");let{data:l}=f.supabase.storage.from("avatars").getPublicUrl(r),i=l.publicUrl;console.log("ðŸ”— Public URL:",i),console.log("ðŸ“ Setting avatarPreview:",i),N(i),ee(e=>{let a={...e,avatar_url:i.trim()};return console.log("ðŸ’¾ Updated formData:",a.avatar_url),a}),console.log("âœ¨ Avatar preview should now be visible")}catch(e){console.error("ðŸ’¥ Avatar upload error:",e),alert(`Error uploading avatar: ${e instanceof Error?e.message:"Unknown error"} `)}finally{T(!1)}}};return $?(0,a.jsx)("div",{className:"min-h-screen bg-background p-6 lg:p-12 overflow-y-auto pb-20",children:(0,a.jsxs)("div",{className:"w-full max-w-[1600px] mx-auto space-y-8 animate-fade-in",children:[(0,a.jsxs)("div",{className:"text-center space-y-4 pt-10",children:[(0,a.jsx)(p.Sparkles,{size:48,className:"text-primary mx-auto animate-pulse"}),(0,a.jsx)("h1",{className:"text-5xl font-serif font-bold",children:"Your Style DNA"}),(0,a.jsx)("p",{className:"text-xl text-primary font-mono tracking-widest uppercase",children:$.archetype_name}),(0,a.jsx)("p",{className:"text-gray-400 max-w-2xl mx-auto",children:$.summary}),$.generated_by_model&&(0,a.jsxs)("div",{className:"mt-4 inline-flex items-center gap-2 px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-sm",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Generated by:"}),(0,a.jsx)("span",{className:"text-primary font-medium",children:["gemini-3-pro-preview","gemini-2.5-pro","gemini-3-flash-preview","gemini-2.5-flash"].includes($.generated_by_model)?$.generated_by_model.replace(/-/g," "):$.generated_by_model}),(0,a.jsx)("a",{href:"/onboarding?mode=regenerate",className:"ml-2 text-xs px-3 py-1 bg-primary/10 hover:bg-primary/20 text-primary border border-primary/30 rounded-full transition-colors",children:"Regenerate â†»"})]})]}),$.style_pillars&&Array.isArray($.style_pillars)&&$.style_pillars.length>0&&(0,a.jsxs)("div",{className:"card glass p-8",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[(0,a.jsx)(b.Heart,{className:"text-primary"})," Style Pillars"]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:$.style_pillars.map((e,s)=>(0,a.jsxs)("div",{className:"bg-white/5 p-6 rounded-xl border border-white/10 text-center hover:border-primary/30 transition-all",children:[(0,a.jsx)("div",{className:"text-3xl mb-3",children:"âœ¨"}),(0,a.jsx)("div",{className:"font-semibold",children:e})]},s))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"card glass p-8",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[(0,a.jsx)(m.Palette,{className:"text-primary"})," Signature Palette"]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500 uppercase tracking-wider block mb-2",children:"Neutrals"}),(0,a.jsx)("div",{className:"flex gap-3",children:$.color_palette.neutrals.map((e,s)=>(0,a.jsx)("div",{className:"w-12 h-12 rounded-full border border-white/20 shadow-lg",style:{backgroundColor:e},title:e},s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500 uppercase tracking-wider block mb-2",children:"Accents"}),(0,a.jsx)("div",{className:"flex gap-3",children:$.color_palette.accents.map((e,s)=>(0,a.jsx)("div",{className:"w-12 h-12 rounded-full border border-white/20 shadow-lg",style:{backgroundColor:e},title:e},s))})]}),$.color_palette.rationale&&(0,a.jsxs)("div",{className:"pt-4 border-t border-white/10",children:[(0,a.jsx)("label",{className:"text-xs text-gray-500 uppercase tracking-wider block mb-2",children:"Why These Colors?"}),(0,a.jsx)("p",{className:"text-sm text-gray-300 italic",children:$.color_palette.rationale})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500 uppercase tracking-wider block mb-2",children:"Avoid"}),(0,a.jsx)("div",{className:"space-y-2",children:$.color_palette.avoid.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-3 bg-white/5 p-2 rounded-lg",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg border border-white/20 shadow-lg",style:{backgroundColor:e.color}}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white text-xl font-bold drop-shadow-lg",children:"Ã—"})})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-white",children:e.color}),(0,a.jsx)("div",{className:"text-xs text-gray-400 mt-0.5",children:e.reason})]})]},s))})]})]})]}),(0,a.jsxs)("div",{className:"card glass p-8 lg:col-span-1",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[(0,a.jsx)(u.Shirt,{className:"text-primary"})," Wardrobe Essentials"]}),(0,a.jsx)("div",{className:"space-y-6",children:Object.entries($.must_have_staples).map(([e,s])=>(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wide mb-3 border-b border-white/10 pb-2",children:e.replace(/_/g," ")}),"object"==typeof s&&null!==s?Object.entries(s).map(([e,s])=>(0,a.jsxs)("div",{className:"mb-6 last:mb-0",children:[(0,a.jsx)("h5",{className:"text-xs text-gray-500 uppercase tracking-wider mb-2",children:e.replace(/_/g," ")}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Array.isArray(s)&&s.map((e,s)=>{let r;return(0,a.jsxs)("div",{className:"bg-white/5 rounded-xl border border-white/5 hover:border-primary/30 transition-all group overflow-hidden",children:[(0,a.jsx)("a",{href:e.product_url||"#",target:"_blank",rel:"noopener noreferrer",className:"block relative overflow-hidden bg-white/10 aspect-square",children:(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-5xl",children:(r=e.item.toLowerCase()).includes("shirt")?"ðŸ‘•":r.includes("pant")||r.includes("jeans")||r.includes("trousers")?"ðŸ‘–":r.includes("shoe")||r.includes("boot")||r.includes("sneaker")?"ðŸ‘Ÿ":r.includes("jacket")||r.includes("coat")||r.includes("blazer")?"ðŸ§¥":r.includes("dress")?"ðŸ‘—":r.includes("bag")||r.includes("tote")?"ðŸ‘œ":r.includes("glasse")?"ðŸ•¶ï¸":r.includes("watch")?"âŒš":r.includes("hat")||r.includes("cap")?"ðŸ§¢":"ðŸ›ï¸"})}),(0,a.jsxs)("div",{className:"p-3",children:[(0,a.jsx)("div",{className:"font-bold text-sm mb-1 line-clamp-1",children:e.item}),e.brand&&(0,a.jsxs)("div",{className:"text-xs text-primary mb-1",children:["@ ",e.brand]}),e.color&&(0,a.jsxs)("div",{className:"text-xs text-gray-500 mb-1",children:["Color: ",e.color]}),e.why&&(0,a.jsx)("div",{className:"text-xs text-gray-400 line-clamp-2",children:e.why})]})]},s)})})]},e)):null]},e))})]}),(0,a.jsxs)("div",{className:"card glass p-8",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[(0,a.jsx)(h.Briefcase,{className:"text-primary"})," Recommended Brands"]}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:$.brand_recommendations.map((e,s)=>(0,a.jsxs)("div",{className:"bg-white/5 p-4 rounded-xl border border-white/5",children:[(0,a.jsx)("div",{className:"font-bold text-lg mb-1",children:e.name}),(0,a.jsx)("div",{className:"text-xs text-primary mb-2 uppercase tracking-wider",children:e.tier}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:e.why})]},s))})]})]}),(0,a.jsx)("div",{className:"flex justify-center pt-8 pb-12",children:(0,a.jsxs)("button",{onClick:el,className:"btn btn-primary px-12 py-4 text-lg shadow-xl shadow-primary/20 hover:scale-105 transition-transform",children:["Enter My Wardrobe ",(0,a.jsx)(c.ArrowRight,{className:"ml-2"})]})})]})}):(0,a.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 lg:p-12 relative overflow-hidden bg-background",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 w-full h-full opacity-20 pointer-events-none",style:{background:"radial-gradient(circle at 15% 50%, rgba(212,175,55,0.08), transparent 25%), radial-gradient(circle at 85% 30%, rgba(255,255,255,0.05), transparent 25%)"}}),(0,a.jsxs)("div",{className:"w-full max-w-2xl z-10",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm text-gray-500 mb-2",children:[(0,a.jsx)("span",{children:"Profile Completion"}),(0,a.jsxs)("span",{children:[Math.round(C/6*100),"%"]})]}),(0,a.jsx)("div",{className:"h-1 bg-white/10 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-primary transition-all duration-500 ease-out",style:{width:`${C/6*100}% `}})})]}),(0,a.jsxs)("div",{className:"card glass p-8 md:p-10 min-h-[500px] flex flex-col justify-between animate-fade-in relative",children:[(B||R)&&(0,a.jsxs)("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-md z-50 flex flex-col items-center justify-center text-center p-8 rounded-[var(--radius-lg)]",children:[(0,a.jsx)(g.Loader2,{size:48,className:"text-primary animate-spin mb-6"}),(0,a.jsx)("h2",{className:"text-3xl font-serif font-bold mb-2",children:B?"Decoding Your Style DNA":"Saving Your Profile"}),(0,a.jsx)("p",{className:"text-gray-400 max-w-md",children:B?"Analysing your biometrics, lifestyle, and preferences to build your unique style profile...":"Setting up your digital wardrobe..."})]}),(0,a.jsxs)("div",{className:"flex-1",children:[1===C&&"preferences"!==i&&(0,a.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 text-primary mb-2",children:[(0,a.jsx)(x.User,{size:24}),(0,a.jsx)("span",{className:"uppercase tracking-widest text-xs font-bold",children:"The Basics"})]}),(0,a.jsx)("h1",{className:"text-4xl font-serif font-bold",children:"Introduction"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Let's start with the essentials to address you properly and understand your environment."}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:"Full Name"}),(0,a.jsx)("input",{type:"text",placeholder:"Your Name",value:X.name,onChange:e=>ee({...X,name:e.target.value}),className:"w-full"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:"Gender Identity"}),(0,a.jsxs)("select",{value:X.gender,onChange:e=>ee({...X,gender:e.target.value}),className:"w-full",children:[(0,a.jsx)("option",{value:"",children:"Select..."}),(0,a.jsx)("option",{value:"female",children:"Female"}),(0,a.jsx)("option",{value:"male",children:"Male"}),(0,a.jsx)("option",{value:"non-binary",children:"Non-binary"}),(0,a.jsx)("option",{value:"other",children:"Prefer not to say"})]})]}),(0,a.jsxs)("div",{className:"space-y-2 relative",children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:"City"}),(0,a.jsx)("input",{type:"text",placeholder:"Start typing (e.g., Mumbai, Bangalore, Delhi)",value:X.location,onChange:e=>(e=>{if(ee({...X,location:e}),M&&z(""),e.length>=3){let a=ea.filter(a=>a.toLowerCase().includes(e.toLowerCase())).slice(0,15);I(a),L(a.length>0)}else L(!1),I([])})(e.target.value),onBlur:()=>{setTimeout(()=>{L(!1),(e=>{if(!e.trim())return z("City is required");let a=e.trim();return ea.some(e=>e.toLowerCase()===a.toLowerCase())?z(""):z("Please select a city from the suggestions")})(X.location)},200)},onFocus:()=>{X.location.length>=3&&F.length>0&&L(!0)},className:`w-full px-4 py-3 bg-white/5 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary transition-all ${M?"border-red-500 focus:ring-red-500":"border-white/10"} `,autoComplete:"off"}),E&&F.length>0&&(0,a.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-surface border border-white/20 rounded-lg shadow-2xl max-h-60 overflow-y-auto",children:[F.slice(0,10).map(e=>(0,a.jsx)("button",{type:"button",className:"w-full text-left px-4 py-2 hover:bg-primary/10 hover:text-primary transition-colors text-sm border-b border-white/5 last:border-0",onMouseDown:()=>{ee({...X,location:e}),L(!1),I([]),z("")},children:e},e)),F.length>10&&(0,a.jsxs)("div",{className:"px-4 py-2 text-xs text-gray-500 text-center",children:["...and ",F.length-10," more"]})]}),M&&(0,a.jsxs)("p",{className:"text-red-400 text-xs mt-1 flex items-center gap-1",children:[(0,a.jsx)("span",{children:"âš ï¸"}),M]}),!M&&X.location.length>0&&X.location.length<3&&(0,a.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:"Type at least 3 characters to see suggestions"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:"Age"}),(0,a.jsx)("input",{type:"number",placeholder:"25",value:X.age,onChange:e=>ee({...X,age:e.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary transition-all appearance-none"})]})]}),(0,a.jsxs)("div",{className:"mt-8 p-6 bg-gradient-to-br from-primary/10 to-primary/5 border border-primary/20 rounded-xl",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,a.jsx)(p.Sparkles,{className:"text-primary mt-1",size:24}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-bold text-lg",children:"AI-Powered Style DNA"}),(0,a.jsx)("p",{className:"text-sm text-gray-300",children:"Add your Gemini API key to unlock personalized style recommendations"})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:"Gemini API Key (Optional)"}),(0,a.jsx)("input",{type:"password",placeholder:"Enter your Gemini API key",value:X.gemini_api_key,onChange:e=>ee({...X,gemini_api_key:e.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary transition-all"}),(0,a.jsxs)("p",{className:"text-xs text-gray-400",children:["Don't have one? ",(0,a.jsx)("a",{href:"https://makersuite.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Get your free API key here â†’"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 italic",children:"You can also add this later from Settings"})]})]})]}),2===C&&(0,a.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 text-primary mb-2",children:[(0,a.jsx)(d.Ruler,{size:24}),(0,a.jsx)("span",{className:"uppercase tracking-widest text-xs font-bold",children:"Measurements"})]}),(0,a.jsx)("h1",{className:"text-4xl font-serif font-bold",children:"Body & Fit"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Help us find clothes that flatter your unique geometry."}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:"Height (cm)"}),(0,a.jsx)("input",{type:"number",placeholder:"175",value:X.height,onChange:e=>ee({...X,height:e.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary transition-all appearance-none"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:"Weight (kg)"}),(0,a.jsx)("input",{type:"number",placeholder:"70",value:X.weight,onChange:e=>ee({...X,weight:e.target.value}),className:"appearance-none"})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("label",{className:"text-base font-semibold",children:"Body Shape"}),(0,a.jsxs)("button",{type:"button",className:"text-xs text-primary hover:underline flex items-center gap-1",onClick:()=>V(!0),children:[(0,a.jsx)(d.Ruler,{size:14}),"Measurement guide"]})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:("male"===X.gender?[{name:"Triangle",desc:"Wider waist/hips",icon:"ðŸ”»"},{name:"Inverted Triangle",desc:"Broad shoulders",icon:"ðŸ”º"},{name:"Rectangle",desc:"Equal proportions",icon:"â¬œ"},{name:"Oval",desc:"Rounded center",icon:"â­•"},{name:"Trapezoid",desc:"Ideal V-shape",icon:"ðŸ”¶"}]:"female"===X.gender?[{name:"Hourglass",desc:"Defined waist",icon:"âŒ›"},{name:"Rectangle",desc:"Straight figure",icon:"â¬œ"},{name:"Pear",desc:"Wider hips",icon:"ðŸ"},{name:"Inverted Triangle",desc:"Broad shoulders",icon:"ðŸ”º"},{name:"Apple",desc:"Fuller middle",icon:"ðŸŽ"}]:[{name:"Balanced",desc:"Proportionate",icon:"âš–ï¸"},{name:"Top-Heavy",desc:"Broader upper",icon:"ðŸ”º"},{name:"Bottom-Heavy",desc:"Wider lower",icon:"ðŸ”»"},{name:"Straight",desc:"Even shape",icon:"â¬œ"},{name:"Rounded",desc:"Fuller frame",icon:"â­•"}]).map(e=>(0,a.jsxs)("button",{type:"button",className:`p-3 rounded-lg border text-left transition-all ${X.bodyShape===e.name?"border-primary bg-primary/10 ring-1 ring-primary/50":"border-white/10 hover:border-white/30 hover:bg-white/5"} `,onClick:()=>ee({...X,bodyShape:e.name}),children:[(0,a.jsx)("div",{className:"text-center mb-2",children:es[e.name]?(0,a.jsx)("div",{className:"w-20 h-20 mx-auto bg-gradient-to-br from-white/5 to-white/10 rounded-lg p-2 border border-white/10",children:(0,a.jsx)("img",{src:es[e.name],alt:e.name,className:"w-full h-full object-contain"})}):(0,a.jsx)("div",{className:"text-3xl mb-1",children:e.icon||"ðŸ‘¤"})}),(0,a.jsxs)("div",{className:"flex items-start justify-between mb-1",children:[(0,a.jsx)("span",{className:`font - semibold text-sm ${X.bodyShape===e.name?"text-primary":"text-white"} `,children:e.name}),X.bodyShape===e.name&&(0,a.jsx)(n,{size:16,className:"text-primary shrink-0"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:e.desc})]},e.name))}),!X.gender&&(0,a.jsxs)("p",{className:"text-xs text-yellow-400/80 mt-2 flex items-center gap-1",children:[(0,a.jsx)("span",{children:"âš ï¸"}),"Select gender above for specific body shapes"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{children:"Fit Preference"}),(0,a.jsx)("div",{className:"flex gap-4 mt-2 bg-surface p-1 rounded-xl border border-white/5",children:["tight","regular","loose"].map(e=>(0,a.jsx)("button",{className:`flex - 1 py-2 rounded-lg text-sm capitalize transition-all ${X.fitPreference===e?"bg-primary text-black shadow-lg":"text-gray-400 hover:text-white"} `,onClick:()=>ee({...X,fitPreference:e}),children:e},e))})]})]}),3===C&&(0,a.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 text-primary mb-2",children:[(0,a.jsx)(m.Palette,{size:24}),(0,a.jsx)("span",{className:"uppercase tracking-widest text-xs font-bold",children:"Color Analysis"})]}),(0,a.jsx)("h1",{className:"text-4xl font-serif font-bold",children:"Color Profile"}),(0,a.jsx)("p",{className:"text-gray-400",children:"We use this to determine your seasonal color palette."}),(0,a.jsxs)("div",{className:"space-y-6 pt-4",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("label",{className:"block text-base font-semibold",children:"Skin Tone & Undertone"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"1. Select your base skin tone:"}),(0,a.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-3",children:[{id:"very_fair",label:"Very Fair",color:"#fef5e7"},{id:"fair",label:"Fair",color:"#f8e1d0"},{id:"light",label:"Light",color:"#e8c8a9"},{id:"medium",label:"Medium",color:"#d4a574"},{id:"tan",label:"Tan",color:"#b8825f"},{id:"deep",label:"Deep",color:"#7a5347"}].map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>{W(e.id),J&&ee({...X,skinTone:`${e.id}_${J} `,skinToneUndertone:J})},className:`p-2 rounded-lg border text-center transition-all ${q===e.id?"border-primary ring-2 ring-primary/50":"border-white/10 hover:border-white/30"} `,children:[(0,a.jsx)("div",{className:"w-full h-12 rounded mb-1",style:{backgroundColor:e.color}}),(0,a.jsx)("span",{className:`text - xs font-medium ${q===e.id?"text-primary":"text-gray-300"} `,children:e.label})]},e.id))})]}),q&&(0,a.jsxs)("div",{className:"space-y-2 animate-fade-in",children:[(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"2. Select your undertone:"}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[{id:"cool",label:"Cool",desc:"Pink/blue tones",color:"#FFB6C1"},{id:"warm",label:"Warm",desc:"Golden tones",color:"#FFD700"},{id:"neutral",label:"Neutral",desc:"Balanced tones",color:"#D2B48C"},{id:"olive",label:"Olive",desc:"Greenish tones",color:"#90A955"}].map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>{K(e.id),ee({...X,skinTone:`${q}_${e.id} `,skinToneUndertone:e.id})},className:`p-3 rounded-lg border text-left transition-all ${J===e.id?"border-primary bg-primary/10":"border-white/10 hover:bg-white/5"} `,children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full border-2 border-white/20",style:{backgroundColor:e.color}}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:`font - semibold text-sm ${J===e.id?"text-primary":"text-white"} `,children:e.label}),J===e.id&&(0,a.jsx)(n,{size:14,className:"text-primary"})]})})]}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:e.desc})]},e.id))})]}),X.skinTone&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-primary bg-primary/10 p-3 rounded-lg",children:[(0,a.jsx)(n,{size:16}),(0,a.jsxs)("span",{children:["Selected: ",X.skinTone.replace("_"," - ")]})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-base font-semibold mb-3",children:"Hair Color"}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[{name:"Black",color:"#1a1a1a"},{name:"Dark Brown",color:"#3d2817"},{name:"Light Brown",color:"#6f4e37"},{name:"Blonde",color:"#e6c287"},{name:"Red",color:"#8b3103"},{name:"Auburn",color:"#a52a2a"},{name:"Grey",color:"#c0c0c0"}].map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>ee({...X,hairColor:e.name}),className:`flex flex-col items-center gap - 1 p - 2 rounded-lg border transition-all ${X.hairColor===e.name?"border-primary bg-primary/10":"border-white/10 hover:border-white/30"} `,children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full border-2 border-white/20",style:{backgroundColor:e.color}}),(0,a.jsx)("span",{className:"text-[10px] text-center leading-tight",children:e.name}),X.hairColor===e.name&&(0,a.jsx)(n,{size:12,className:"text-primary"})]},e.name))})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("label",{className:"block text-lg font-bold",children:"Style Archetypes (Select 1-3)"}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:[{name:"Brown",color:"#5C4033"},{name:"Hazel",color:"#8E7618"},{name:"Blue",color:"#5FA8D3"},{name:"Green",color:"#50C878"},{name:"Grey",color:"#A9A9A9"},{name:"Amber",color:"#FFBF00"}].map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>ee({...X,eyeColor:e.name}),className:`flex flex-col items-center gap - 1 p - 2 rounded-lg border transition-all ${X.eyeColor===e.name?"border-primary bg-primary/10":"border-white/10 hover:border-white/30"} `,children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full border-2 border-white/20 shadow-inner",style:{backgroundColor:e.color}}),(0,a.jsx)("span",{className:"text-xs",children:e.name}),X.eyeColor===e.name&&(0,a.jsx)(n,{size:12,className:"text-primary"})]},e.name))})]})]})]})]}),4===C&&(0,a.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 text-primary mb-2",children:[(0,a.jsx)(h.Briefcase,{size:24}),(0,a.jsx)("span",{className:"uppercase tracking-widest text-xs font-bold",children:"Lifestyle"})]}),(0,a.jsx)("h1",{className:"text-4xl font-serif font-bold",children:"Your Day-to-Day"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Select the environments that define your week."}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[{id:"work",label:"Corporate",img:"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=400&fit=crop"},{id:"casual",label:"Casual / WFH",img:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=400&fit=crop"},{id:"event",label:"Social / Evening",img:"https://images.unsplash.com/photo-1566737236500-c8ac43014a67?w=400&fit=crop"},{id:"active",label:"Active",img:"https://images.unsplash.com/photo-1517836357463-d25dfeac3438?w=400&fit=crop"},{id:"creative",label:"Creative",img:"https://images.unsplash.com/photo-1513364776144-60967b0f800f?w=400&fit=crop"},{id:"travel",label:"Travel",img:"https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?w=400&fit=crop"}].map(e=>(0,a.jsxs)("button",{onClick:()=>ee(a=>({...a,lifestyle:{...a.lifestyle,[e.id]:!a.lifestyle[e.id]}})),className:`rounded-xl border text-left transition-all h-40 flex flex-col justify-end relative overflow-hidden group ${X.lifestyle[e.id]?"border-primary ring-2 ring-primary/50":"border-white/10"} `,children:[(0,a.jsxs)("div",{className:"absolute inset-0",children:[(0,a.jsx)("img",{src:e.img,alt:e.label,className:"w-full h-full object-cover transition-transform group-hover:scale-110"}),(0,a.jsx)("div",{className:`absolute inset-0 bg-black/60 transition-opacity ${X.lifestyle[e.id]?"opacity-40":"opacity-60 group-hover:opacity-50"} `})]}),(0,a.jsx)("div",{className:"relative z-10 p-4",children:(0,a.jsx)("span",{className:`font-bold text-lg ${X.lifestyle[e.id]?"text-primary":"text-white"} `,children:e.label})})]},e.id))})]}),5===C&&(0,a.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 text-primary mb-2",children:[(0,a.jsx)(u.Shirt,{size:24}),(0,a.jsx)("span",{className:"uppercase tracking-widest text-xs font-bold",children:"Signature"})]}),(0,a.jsx)("h1",{className:"text-4xl font-serif font-bold",children:"Aesthetics & Investment"}),(0,a.jsxs)("div",{className:"bg-surface glass p-6 rounded-xl border border-white/5 mb-8",children:[(0,a.jsx)("label",{className:"block text-lg font-bold mb-4",children:"Typical Investment per Item"}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[{id:"budget",label:"High Street",range:"Rs. 1.5k - 8k"},{id:"mid",label:"Contemporary",range:"Rs. 8k - 40k"},{id:"luxury",label:"Designer",range:"Rs. 40k - 1.5L"},{id:"high_luxury",label:"Couture",range:"Rs. 1.5L+"}].map(e=>(0,a.jsxs)("button",{onClick:()=>ee({...X,priceRange:e.id}),className:`p-4 rounded-lg border text-left flex justify-between items-center ${X.priceRange===e.id?"border-primary bg-primary/10 text-primary":"border-white/10 hover:bg-white/5"} `,children:[(0,a.jsx)("span",{className:"font-medium",children:e.label}),(0,a.jsx)("span",{className:"text-sm opacity-70",children:e.range})]},e.id))})]}),X.priceRange&&(0,a.jsxs)("div",{className:"animate-fade-in mb-8",children:[(0,a.jsx)("label",{className:"block text-lg font-bold mb-3",children:"Brands you admire (Select or type)"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:("budget"===X.priceRange?["ZARA","H&M","Mango","Uniqlo","Massimo Dutti","COS","Forever 21","Gap","Old Navy","Primark","Pull&Bear","Bershka","Stradivarius","Topshop","ASOS"]:"mid"===X.priceRange?["Sandro","Reiss","Theory","Ted Baker","AllSaints","Maje","The Kooples","Club Monaco","Whistles","Cos","Ganni","Nanushka","Equipment","& Other Stories","Arket"]:"luxury"===X.priceRange?["Gucci","Prada","YSL","Burberry","Ralph Lauren","Valentino","Givenchy","Celine","Fendi","Bottega Veneta","Loewe","Alexander McQueen","Versace","Balenciaga","Saint Laurent"]:["Chanel","HermÃ¨s","Dior","Brunello Cucinelli","Loro Piana","Tom Ford","The Row","Armani PrivÃ©","Kiton","Brioni","Zegna","Stefano Ricci","Berluti","Isaia","Givenchy Haute Couture"]).map(e=>(0,a.jsx)("button",{onClick:()=>{let a=X.brands||[];ee({...X,brands:a.includes(e)?a.filter(a=>a!==e):[...a,e]})},className:`px-3 py-1 rounded-full text-sm border transition-colors ${X.brands?.includes(e)?"bg-primary text-black border-primary":"border-white/20 hover:border-white/40"} `,children:e},e))}),(0,a.jsx)("input",{type:"text",placeholder:"Other brands...",className:"w-full bg-transparent border-b border-white/20 py-2 focus:border-primary focus:outline-none",value:Array.isArray(X.brands)?X.brands.join(", "):"",onChange:e=>ee({...X,brands:e.target.value.split(",").map(e=>e.trim())})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Aesthetic Vision"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3 max-h-[400px] overflow-y-auto custom-scrollbar",children:[{name:"Old Money",desc:"Quiet luxury, heritage fabrics."},{name:"Minimalist",desc:"Clean lines, neutral palette."},{name:"High Street",desc:"Trend-driven, urban edge."},{name:"Classic",desc:"Timeless tailoring."},{name:"Bohemian",desc:"Free-spirited, artisanal."},{name:"Avant-Garde",desc:"Experimental, architectural."},{name:"Ivy League",desc:"Polished, collegiate."},{name:"Glamorous",desc:"Opulent materials, statement pieces."}].map(e=>(0,a.jsxs)("button",{onClick:()=>{var a;return a=e.name,void ee(e=>({...e,archetypes:e.archetypes.includes(a)?e.archetypes.filter(e=>e!==a):[...e.archetypes,a]}))},type:"button",className:`p-0 rounded-xl border text-left transition-all relative overflow-hidden group min - h-[140px] flex flex-col justify-end ${X.archetypes.includes(e.name)?"border-primary ring-2 ring-primary/50":"border-white/10 hover:border-white/30"} `,children:[(0,a.jsxs)("div",{className:"absolute inset-0 z-0",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-white/5"}),(0,a.jsx)("img",{src:er[e.name],alt:e.name,className:"w-full h-full object-cover opacity-60 group-hover:opacity-80 transition-opacity",onError:e=>{e.currentTarget.style.display="none"},loading:"lazy"}),(0,a.jsx)("div",{className:`absolute inset-0 bg - gradient - to - t from - black via - black / 50 to - transparent ${X.archetypes.includes(e.name)?"opacity-90":"opacity-100"} `})]}),(0,a.jsxs)("div",{className:"relative z-10 p-3",children:[(0,a.jsx)("div",{className:`font-bold text-lg leading - tight ${X.archetypes.includes(e.name)?"text-primary":"text-white"} `,children:e.name}),(0,a.jsx)("div",{className:"text-xs text-gray-300 mt-1 line-clamp-2",children:e.desc})]})]},e.name))})]})]}),6===C&&(0,a.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 text-primary mb-2",children:[(0,a.jsx)(t.Upload,{size:24}),(0,a.jsx)("span",{className:"uppercase tracking-widest text-xs font-bold",children:"One last thing"})]}),(0,a.jsx)("h1",{className:"text-4xl font-serif font-bold",children:"Visual Reference"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Upload a photo to give our AI the clearest picture of you. (Optional)"}),(0,a.jsxs)("div",{className:"border-2 border-dashed border-white/20 rounded-2xl h-64 flex flex-col items-center justify-center cursor-pointer hover:border-primary/50 transition-colors bg-white/5 relative group mt-8 overflow-hidden",onClick:()=>document.getElementById("avatar-upload")?.click(),children:[v||X.avatar_url?(0,a.jsxs)("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-black/50 group-hover:bg-black/30 transition-colors",children:[(0,a.jsx)("img",{src:v||X.avatar_url,alt:"Avatar Preview",className:"w-full h-full object-cover",onLoad:()=>console.log("âœ… Avatar loaded:",v||X.avatar_url),onError:e=>console.error("âŒ Avatar failed:",e.currentTarget.src)}),(0,a.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[(0,a.jsx)(n,{size:48,className:"text-primary mb-2 shadow-black drop-shadow-lg"}),(0,a.jsx)("span",{className:"text-white font-bold drop-shadow-md",children:"Photo Uploaded"}),(0,a.jsx)("span",{className:"text-xs text-gray-300 mt-2",children:"Click to change"})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-primary/5 opacity-0 group-hover:opacity-100 transition-opacity rounded-2xl"}),(0,a.jsx)(t.Upload,{size:48,className:"text-gray-500 mb-4 group-hover:text-primary transition-colors z-10"}),(0,a.jsx)("span",{className:"text-gray-400 z-10",children:"Click to upload photo"})]}),(0,a.jsx)("input",{id:"avatar-upload",type:"file",accept:"image/*",className:"hidden",onChange:ei})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-white/5",children:[C>1?(0,a.jsxs)("button",{onClick:()=>A(C-1),className:"text-gray-400 hover:text-white flex items-center gap-2 px-4 py-2 transition-colors",children:[(0,a.jsx)(o,{size:18})," Back"]}):(0,a.jsx)("div",{}),(0,a.jsx)("button",{onClick:()=>{C<6?A(C+1):et()},className:"btn btn-primary px-8",children:6===C?(0,a.jsxs)(a.Fragment,{children:["Analyze Profile ",(0,a.jsx)(p.Sparkles,{size:18,className:"ml-2"})]}):(0,a.jsxs)(a.Fragment,{children:["Continue ",(0,a.jsx)(l.ChevronRight,{size:18,className:"ml-2"})]})})]}),Y&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:()=>V(!1),children:(0,a.jsxs)("div",{className:"glass p-8 rounded-2xl max-w-2xl w-full border border-white/10",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold",children:"Measurement Guide"}),(0,a.jsx)("button",{onClick:()=>V(!1),className:"text-gray-400 hover:text-white",children:"âœ•"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-lg mb-3",children:"Enter Measurements (in cm)"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm mb-2",children:"Shoulders"}),(0,a.jsx)("input",{type:"number",value:Q.shoulders,onChange:e=>Z({...Q,shoulders:e.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 focus:border-primary focus:outline-none",placeholder:"e.g., 45"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm mb-2",children:"Chest/Bust"}),(0,a.jsx)("input",{type:"number",value:Q.chest,onChange:e=>Z({...Q,chest:e.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 focus:border-primary focus:outline-none",placeholder:"e.g., 95"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm mb-2",children:"Waist"}),(0,a.jsx)("input",{type:"number",value:Q.waist,onChange:e=>Z({...Q,waist:e.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 focus:border-primary focus:outline-none",placeholder:"e.g., 75"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm mb-2",children:"Hips"}),(0,a.jsx)("input",{type:"number",value:Q.hips,onChange:e=>Z({...Q,hips:e.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 focus:border-primary focus:outline-none",placeholder:"e.g., 100"})]}),(0,a.jsx)("button",{onClick:()=>(()=>{let{shoulders:e,chest:a,waist:s,hips:r}=Q;if(!e||!a||!s||!r)return void alert("Please enter all measurements");let t=parseFloat(e),l=parseFloat(a),i=parseFloat(s),n=parseFloat(r),o="";if("male"===X.gender){let e=t/n,a=i/n;o=e>1.05&&a<.9?"Inverted Triangle":e<.95&&a>.95?"Triangle":.05>Math.abs(e-1)&&.05>Math.abs(a-1)?"Rectangle":i>t&&i>n?"Oval":"Trapezoid"}else if("female"===X.gender){let e=l/n,a=i/n;o=.1>Math.abs(e-1)&&a<.75?"Hourglass":.1>Math.abs(e-1)&&a>.8?"Rectangle":e<.9?"Pear":e>1.1?"Inverted Triangle":a>.85?"Apple":"Rectangle"}ee({...X,bodyShape:o}),V(!1),alert(`Based on your measurements, your body shape is: ${o} `)})(),className:"btn btn-primary w-full",children:"Calculate Body Shape"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h4",{className:"font-semibold text-lg mb-3",children:"Reference Guide"}),(0,a.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 space-y-2 text-sm",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Shoulders:"})," Measure across back from shoulder to shoulder"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Chest/Bust:"})," Measure around fullest part"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Waist:"})," Measure at natural waistline"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Hips:"})," Measure around fullest part of hips"]})]}),X.gender&&(0,a.jsxs)("div",{className:"mt-4 p-3 bg-white/5 rounded-lg text-center",children:[(0,a.jsx)("p",{className:"text-xs mb-2 text-gray-400",children:"Body Shape Reference"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2 text-2xl",children:"male"===X.gender?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("span",{children:"ðŸ”»"}),(0,a.jsx)("span",{className:"text-[8px] text-gray-500 mt-1",children:"Triangle"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("span",{children:"ðŸ”º"}),(0,a.jsx)("span",{className:"text-[8px] text-gray-500 mt-1",children:"Inv-Tri"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("span",{children:"â¬œ"}),(0,a.jsx)("span",{className:"text-[8px] text-gray-500 mt-1",children:"Rectangle"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("span",{children:"â­•"}),(0,a.jsx)("span",{className:"text-[8px] text-gray-500 mt-1",children:"Oval"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("span",{children:"ðŸ”¶"}),(0,a.jsx)("span",{className:"text-[8px] text-gray-500 mt-1",children:"Trapezoid"})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("span",{children:"âŒ›"}),(0,a.jsx)("span",{className:"text-[8px] text-gray-500 mt-1",children:"Hourglass"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("span",{children:"â¬œ"}),(0,a.jsx)("span",{className:"text-[8px] text-gray-500 mt-1",children:"Rectangle"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("span",{children:"ðŸ"}),(0,a.jsx)("span",{className:"text-[8px] text-gray-500 mt-1",children:"Pear"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("span",{children:"ðŸ”º"}),(0,a.jsx)("span",{className:"text-[8px] text-gray-500 mt-1",children:"Inv-Tri"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("span",{children:"ðŸŽ"}),(0,a.jsx)("span",{className:"text-[8px] text-gray-500 mt-1",children:"Apple"})]})]})})]})]})]})]})})]})]})]})}function _(){return(0,a.jsx)(s.Suspense,{fallback:(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)(g.Loader2,{className:"w-8 h-8 animate-spin text-primary"})}),children:(0,a.jsx)(S,{})})}e.s(["default",()=>_],66606)}]);