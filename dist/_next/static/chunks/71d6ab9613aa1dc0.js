(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63209,e=>{"use strict";let r=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>r],63209)},78416,e=>{"use strict";let r={Zara:e=>`https://www.zara.com/in/en/search?searchTerm=${encodeURIComponent(e)}`,"H&M":e=>`https://www2.hm.com/en_in/search-results.html?q=${encodeURIComponent(e)}`,Uniqlo:e=>`https://www.uniqlo.com/in/en/search?q=${encodeURIComponent(e)}`,Nike:e=>`https://www.nike.com/in/w?q=${encodeURIComponent(e)}`,Adidas:e=>`https://www.adidas.co.in/search?q=${encodeURIComponent(e)}`,Mango:e=>`https://shop.mango.com/in/search?q=${encodeURIComponent(e)}`,"Massimo Dutti":e=>`https://www.massimodutti.com/in/search?searchTerm=${encodeURIComponent(e)}`,COS:e=>`https://www.cosstores.com/en_inr/search.html?q=${encodeURIComponent(e)}`,"Marks & Spencer":e=>`https://www.marksandspencer.in/search?q=${encodeURIComponent(e)}`,Gap:e=>`https://www.gap.in/search?query=${encodeURIComponent(e)}`,"Levi's":e=>`https://www.levi.in/search?q=${encodeURIComponent(e)}`,"Tommy Hilfiger":e=>`https://in.tommy.com/search?q=${encodeURIComponent(e)}`,"Ralph Lauren":e=>`https://www.ralphlauren.co.in/search?q=${encodeURIComponent(e)}`,"Calvin Klein":e=>`https://www.calvinklein.co.in/search?q=${encodeURIComponent(e)}`};async function t(e){if(e.link&&e.link.startsWith("http"))return{url:e.link};if(e.source_url&&e.source_url.startsWith("http"))return{url:e.source_url};let t=e.brand||"",a=e.name||e.item_name||e.sub_category||"",s=e.color||e.primary_color||"",l=[t];t&&a.toLowerCase().includes(t.toLowerCase()),l.push(a),s&&!a.toLowerCase().includes(s.toLowerCase())&&l.push(s);let o=l.filter(Boolean).join(" ").trim();if(!o)return{url:"#"};try{let e=await fetch("https://link-scraper.adwate.workers.dev/search-product",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:o,limit:1})});if(e.ok){let r=await e.json(),a=r.url?r:r.results?.[0]||r.items?.[0];if(a&&a.url&&a.url.startsWith("http"))return{url:a.url,imageUrl:a.imageUrl||a.image,title:a.title,price:a.price,brand:a.brand||t}}}catch(e){console.warn("Failed to fetch first link from worker, falling back to search query",e)}let i=Object.keys(r).find(e=>e.toLowerCase()===t.toLowerCase());return i&&r[i]?{url:r[i](o.replace(t,"").trim())}:{url:`https://duckduckgo.com/?q=!ducky+${encodeURIComponent(o+" buy online")}`}}e.s(["getProductLink",()=>t])},25652,e=>{"use strict";let r=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>r],25652)},90597,e=>{"use strict";let r=(0,e.i(75254).default)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);e.s(["Heart",()=>r],90597)},63727,e=>{"use strict";let r=(0,e.i(75254).default)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);e.s(["Briefcase",()=>r],63727)},47780,e=>{"use strict";let r=(0,e.i(75254).default)("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]);e.s(["Palette",()=>r],47780)},71018,e=>{"use strict";var r=e.i(43476),t=e.i(71645),a=e.i(18566),s=e.i(83086),l=e.i(90597),o=e.i(25652),i=e.i(63727),n=e.i(31278),c=e.i(63209),d=e.i(47780),m=e.i(33426),h=e.i(78416),x=e.i(7984),p=e.i(46696);function y(e){let r={"#000000":"Black","#FFFFFF":"White","#808080":"Gray","#FF0000":"Red","#00FF00":"Green","#0000FF":"Blue","#FFFF00":"Yellow","#FF00FF":"Magenta","#00FFFF":"Cyan","#FFA500":"Orange","#800080":"Purple","#FFC0CB":"Pink","#A52A2A":"Brown","#FFD700":"Gold","#C0C0C0":"Silver","#8B4513":"Saddle Brown","#2E8B57":"Sea Green","#4B0082":"Indigo","#FF6347":"Tomato","#40E0D0":"Turquoise","#EE82EE":"Violet","#F0E68C":"Khaki","#E6E6FA":"Lavender","#FAEBD7":"Antique White","#F5F5DC":"Beige","#DEB887":"Burlywood","#5F9EA0":"Cadet Blue","#7FFF00":"Chartreuse","#D2691E":"Chocolate","#FF7F50":"Coral","#6495ED":"Cornflower Blue","#DC143C":"Crimson","#00008B":"Dark Blue","#008B8B":"Dark Cyan","#B8860B":"Dark Goldenrod","#A9A9A9":"Dark Gray","#006400":"Dark Green","#BDB76B":"Dark Khaki","#8B008B":"Dark Magenta","#556B2F":"Dark Olive Green","#FF8C00":"Dark Orange","#9932CC":"Dark Orchid"},t=e.toUpperCase();if(r[t])return r[t];if(e.startsWith("#")&&7===e.length){let r=parseInt(e.slice(1,3),16),t=parseInt(e.slice(3,5),16),a=parseInt(e.slice(5,7),16),s=(r+t+a)/3,l=s<85,o=s>170,i=Math.max(r,t,a),n=Math.min(r,t,a);if((0===i?0:(i-n)/i)<.1)return l?"Charcoal":o?"Light Gray":"Gray";let c=l?"Dark ":o?"Light ":"";if(r>t&&r>a)return t>a?c+"Orange":c+"Red";if(t>r&&t>a)return a>r?c+"Teal":c+"Green";if(a>r&&a>t)return r>t?c+"Purple":c+"Blue"}return e}function u(){let e=(0,a.useRouter)(),{profile:u,loading:g}=(0,m.useProfile)(),[b,f]=(0,t.useState)(new Map),[w,j]=(0,t.useState)(new Set),N=u?.styleDNA;return((0,t.useEffect)(()=>{u&&N?.must_have_staples&&(async()=>{let e=N.must_have_staples,r=new Map;if(Array.isArray(e))for(let t of e){let e=`${t.brand||""}-${t.item}`;try{let a=await (0,h.getProductLink)({brand:t.brand||"",name:t.item,color:t.color||""});r.set(e,a)}catch(r){console.error(`Failed to fetch product data for ${e}:`,r)}}if("object"==typeof e&&null!==e){for(let[t,a]of Object.entries(e))if("object"==typeof a){for(let[e,t]of Object.entries(a))if(Array.isArray(t))for(let e of t){let t=`${e.brand||""}-${e.item}`;try{let a=await (0,h.getProductLink)({brand:e.brand||"",name:e.item,color:e.color||""});r.set(t,a)}catch(e){console.error(`Failed to fetch product data for ${t}:`,e)}}}}f(r)})()},[u,N]),g)?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)(n.Loader2,{size:48,className:"text-primary animate-spin"})}):N?(0,r.jsx)("div",{className:"min-h-screen bg-background p-6 lg:p-12 overflow-y-auto pb-20",children:(0,r.jsxs)("div",{className:"w-full max-w-[1600px] mx-auto space-y-8 animate-fade-in",children:[(0,r.jsxs)("div",{className:"text-center space-y-4 pt-10",children:[(0,r.jsx)(s.Sparkles,{size:48,className:"text-primary mx-auto animate-pulse"}),(0,r.jsx)("h1",{className:"text-5xl font-serif font-bold",children:"Your Style DNA"}),(0,r.jsx)("p",{className:"text-xl text-primary font-mono tracking-widest uppercase",children:N.archetype_name||"Personal Style Profile"}),(0,r.jsx)("p",{className:"text-gray-400 max-w-2xl mx-auto",children:N.summary||"Your unique style identity, crafted from your preferences and lifestyle."}),(0,r.jsxs)("div",{className:"mt-4 flex flex-wrap gap-3 justify-center",children:[N.generated_by_model&&(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-sm",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Generated by:"}),(0,r.jsxs)("span",{className:"text-primary font-medium",children:["gemini-3-pro-preview"===N.generated_by_model&&"Gemini 3 Pro Preview","gemini-2.5-pro"===N.generated_by_model&&"Gemini 2.5 Pro","gemini-3-flash-preview"===N.generated_by_model&&"Gemini 3 Flash Preview","gemini-2.5-flash"===N.generated_by_model&&"Gemini 2.5 Flash",!["gemini-3-pro-preview","gemini-2.5-pro","gemini-3-flash-preview","gemini-2.5-flash"].includes(N.generated_by_model)&&N.generated_by_model]})]}),(0,r.jsx)("a",{href:"/onboarding?mode=regenerate",className:"text-xs px-3 py-1.5 bg-primary/10 hover:bg-primary/20 text-primary border border-primary/30 rounded-full transition-colors inline-flex items-center gap-1.5",title:"Generate new Style DNA with existing profile data",children:"Regenerate â†»"}),(0,r.jsx)("button",{onClick:async()=>{if(confirm("This will clear your Style DNA and restart onboarding. Continue?"))try{let{data:{user:r}}=await x.supabase.auth.getUser();if(!r)return void p.toast.error("Please sign in to continue");let{error:t}=await x.supabase.from("profiles").update({style_dna:null}).eq("id",r.id);if(t)throw t;p.toast.success("Style DNA cleared"),e.push("/onboarding")}catch(e){console.error("Failed to reset onboarding:",e),p.toast.error("Failed to reset. Please try again.")}},className:"text-xs px-3 py-1.5 bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/30 rounded-full transition-colors inline-flex items-center gap-1.5",title:"Clear Style DNA and restart from scratch",children:"Redo Onboarding âŸ³"})]})]}),N.style_pillars&&Array.isArray(N.style_pillars)&&N.style_pillars.length>0&&(0,r.jsxs)("div",{className:"card glass p-8",children:[(0,r.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[(0,r.jsx)(l.Heart,{className:"text-primary"})," Style Pillars"]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:N.style_pillars.map((e,t)=>(0,r.jsxs)("div",{className:"bg-white/5 p-6 rounded-xl border border-white/10 text-center hover:border-primary/30 transition-all",children:[(0,r.jsx)("div",{className:"text-3xl mb-3",children:"âœ¨"}),(0,r.jsx)("div",{className:"font-semibold",children:e})]},t))})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[N.color_palette&&(0,r.jsxs)("div",{className:"card glass p-8",children:[(0,r.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[(0,r.jsx)(d.Palette,{className:"text-primary"})," Signature Palette"]}),(0,r.jsxs)("div",{className:"space-y-6 mb-6",children:[N.color_palette.neutrals&&Array.isArray(N.color_palette.neutrals)&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-400 block mb-3",children:"Your Neutrals"}),(0,r.jsx)("div",{className:"flex gap-3 flex-wrap",children:N.color_palette.neutrals.map((e,t)=>{let a="string"==typeof e?e:e.hex,s="object"==typeof e&&e.name?e.name:y(a);return(0,r.jsxs)("div",{className:"flex flex-col items-center gap-1 w-20",children:[(0,r.jsx)("div",{className:"w-16 h-16 rounded-lg border border-white/20 shadow-lg",style:{backgroundColor:a},title:`${s} (${a})`}),(0,r.jsx)("span",{className:"text-xs text-gray-300 font-medium text-center max-w-20 break-words",children:s}),(0,r.jsx)("span",{className:"text-[10px] text-gray-500 font-mono",children:a})]},t)})})]}),N.color_palette.accents&&Array.isArray(N.color_palette.accents)&&N.color_palette.accents.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-400 block mb-3",children:"Accent Colors"}),(0,r.jsx)("div",{className:"flex gap-3 flex-wrap",children:N.color_palette.accents.map((e,t)=>{let a="string"==typeof e?e:e.hex,s="object"==typeof e&&e.name?e.name:y(a);return(0,r.jsxs)("div",{className:"flex flex-col items-center gap-1 w-20",children:[(0,r.jsx)("div",{className:"w-16 h-16 rounded-lg border border-white/20 shadow-lg",style:{backgroundColor:a},title:`${s} (${a})`}),(0,r.jsx)("span",{className:"text-xs text-gray-300 font-medium text-center max-w-20 break-words",children:s}),(0,r.jsx)("span",{className:"text-[10px] text-gray-500 font-mono",children:a})]},t)})})]})]}),N.color_palette.avoid&&Array.isArray(N.color_palette.avoid)&&N.color_palette.avoid.length>0&&(0,r.jsxs)("div",{className:"mb-6 pt-6 border-t border-white/10",children:[(0,r.jsx)("label",{className:"text-sm text-gray-400 block mb-3",children:"Colors to Avoid"}),(0,r.jsx)("div",{className:"space-y-2",children:N.color_palette.avoid.map((e,t)=>{let a="string"==typeof e?e:e.color,s="object"==typeof e?e.reason:"";return(0,r.jsxs)("div",{className:"flex items-center gap-3 bg-white/5 p-2 rounded-lg",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-lg border border-white/20 shadow-lg",style:{backgroundColor:a}}),(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-white text-xl font-bold drop-shadow-lg",children:"Ã—"})})]}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-white",children:y(a)}),s&&(0,r.jsx)("div",{className:"text-xs text-gray-400 mt-0.5",children:s})]})]},t)})})]}),N.color_palette.seasonal_variations&&(0,r.jsxs)("div",{className:"mt-6 pt-6 border-t border-white/10",children:[(0,r.jsxs)("h4",{className:"text-sm font-semibold mb-4 flex items-center gap-2",children:[(0,r.jsx)("span",{children:"ðŸŒ¸"})," Seasonal Palette"]}),(0,r.jsxs)("div",{className:"space-y-4",children:[N.color_palette.seasonal_variations.spring_summer&&Array.isArray(N.color_palette.seasonal_variations.spring_summer)&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-xs text-gray-400 block mb-2",children:"Spring/Summer"}),(0,r.jsx)("div",{className:"flex gap-2",children:N.color_palette.seasonal_variations.spring_summer.map((e,t)=>(0,r.jsx)("div",{className:"w-10 h-10 rounded-lg border border-white/10",style:{backgroundColor:e},title:e},t))})]}),N.color_palette.seasonal_variations.fall_winter&&Array.isArray(N.color_palette.seasonal_variations.fall_winter)&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-xs text-gray-400 block mb-2",children:"Fall/Winter"}),(0,r.jsx)("div",{className:"flex gap-2",children:N.color_palette.seasonal_variations.fall_winter.map((e,t)=>(0,r.jsx)("div",{className:"w-10 h-10 rounded-lg border border-white/10",style:{backgroundColor:e},title:e},t))})]})]})]}),N.color_palette.color_theory&&(0,r.jsxs)("div",{className:"mt-6 pt-6 border-t border-white/10",children:[(0,r.jsx)("h4",{className:"text-sm font-semibold mb-4",children:"Color Science"}),(0,r.jsxs)("div",{className:"space-y-3 text-sm",children:[N.color_palette.color_theory.skin_undertone&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"Undertone"}),(0,r.jsx)("div",{className:"font-medium capitalize",children:N.color_palette.color_theory.skin_undertone})]}),N.color_palette.color_theory.best_metal&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-xs text-gray-400 block mb-1",children:"Best Metal"}),(0,r.jsxs)("div",{className:"font-medium",children:["gold"===N.color_palette.color_theory.best_metal&&"âœ¨ Gold","silver"===N.color_palette.color_theory.best_metal&&"ðŸ’Ž Silver","rose gold"===N.color_palette.color_theory.best_metal&&"ðŸŒ¹ Rose Gold"]})]})]}),N.color_palette.color_theory.complementary_colors&&Array.isArray(N.color_palette.color_theory.complementary_colors)&&(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("label",{className:"text-xs text-gray-400 block mb-2",children:"Complementary Colors"}),(0,r.jsx)("div",{className:"flex gap-2",children:N.color_palette.color_theory.complementary_colors.map((e,t)=>(0,r.jsx)("div",{className:"w-8 h-8 rounded-full border border-white/20",style:{backgroundColor:e}},t))})]})]})]}),(0,r.jsxs)("div",{className:"card glass p-8 lg:col-span-1",children:[(0,r.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[(0,r.jsx)(i.Briefcase,{className:"text-primary"})," Recommended Brands"]}),N.recommended_brands&&Array.isArray(N.recommended_brands)&&(0,r.jsxs)("div",{className:"space-y-4",children:[N.recommended_brands.map((e,t)=>{let a="string"==typeof e?e:e.name,s="object"==typeof e?e.reason:"";return(0,r.jsxs)("div",{className:"bg-white/5 p-4 rounded-xl border border-white/10 hover:border-primary/30 transition-all group",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,r.jsx)("h4",{className:"font-bold text-lg group-hover:text-primary transition-colors",children:a}),(0,r.jsx)("a",{href:`https://www.google.com/search?q=${encodeURIComponent(a+" fashion brand")}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-gray-500 hover:text-white transition-colors",children:"View â†—"})]}),s&&(0,r.jsx)("p",{className:"text-sm text-gray-400",children:s})]},t)}),0===N.recommended_brands.length&&(0,r.jsx)("p",{className:"text-gray-400 italic",children:"No specific brand recommendations generated yet."})]}),(!N.recommended_brands||0===N.recommended_brands.length)&&(0,r.jsxs)("div",{className:"text-center p-6 bg-white/5 rounded-xl border border-dashed border-white/20",children:[(0,r.jsx)("p",{className:"text-gray-400 mb-2",children:"Brands not found in your DNA."}),(0,r.jsx)("a",{href:"/onboarding?mode=regenerate",className:"text-primary text-sm hover:underline",children:"Regenerate Style DNA"})]})]}),(0,r.jsx)("div",{className:"space-y-8",children:N.styling_wisdom&&Array.isArray(N.styling_wisdom)&&N.styling_wisdom.length>0&&(0,r.jsxs)("div",{className:"card glass p-8",children:[(0,r.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[(0,r.jsx)(o.TrendingUp,{className:"text-primary"})," Pro Styling Tips"]}),(0,r.jsx)("div",{className:"space-y-4",children:N.styling_wisdom.map((e,t)=>(0,r.jsxs)("div",{className:"flex gap-4 bg-white/5 p-4 rounded-lg border border-white/10",children:[(0,r.jsx)("div",{className:"text-primary text-xl flex-shrink-0",children:"ðŸ’¡"}),(0,r.jsx)("div",{className:"text-sm text-gray-300",children:e})]},t))})]})})]})]})}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center p-6",children:(0,r.jsxs)("div",{className:"glass p-8 rounded-xl text-center max-w-md border border-yellow-500/30",children:[(0,r.jsx)(c.AlertCircle,{className:"mx-auto mb-4 text-yellow-400",size:48}),(0,r.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Style DNA Not Generated"}),(0,r.jsx)("p",{className:"text-gray-400 mb-6",children:"Your Style DNA hasn't been created yet. Complete your onboarding to generate your unique style profile."}),(0,r.jsx)("a",{href:"/onboarding",className:"btn btn-primary",children:"Complete Onboarding"})]})})}e.s(["default",()=>u])}]);