(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,6339,e=>{"use strict";var t,s,n,a,r,o,i,l,c,d,h,u,f,m,p,g,y,b,x,w,v,E,C,N,A=e.i(43476),O=e.i(46696),_=e.i(71645);let j={silhouette:"The overall outline or shape of a garment.",bespoke:"Clothing made to an individual buyer's specifications; custom-made.","bias cut":"Fabric cut at a 45-degree angle to allowing it to drape softly over the body's curves.",peplum:"A short, gathered or pleated strip of fabric attached at the waist of a woman's jacket, dress, or blouse.","empire waist":"A fitted bodice ending just below the bust, giving a high-waisted appearance.","drop waist":"A waistline that sits below the natural waist, often at the hips.","a-line":"A silhouette that is narrower at the top and flares gently wider toward the bottom.",chukka:"A specific variation of ankle-high boots usually made from suede or leather with open lacing.",loafer:"A slip-on shoe with no laces, often featuring a low heel and moccasin-like construction.",sneaker:"A shoe designed primarily for sports or physical exercise, but mostly used for everyday casual wear.",brogue:"A low-heeled shoe or boot characterized by sturdy leather uppers with decorative perforations (broguing).",espadrille:"A casual shoe with a canvas or cotton fabric upper and a flexible sole made of esparto rope.",oxford:"A classic dress shoe with closed lacing, where the shoelace eyelets tabs are attached under the vamp.",derby:"A boot or shoe with open lacing, meaning that the eyelets are sewn on top of the vamp.","chelsea boot":"A close-fitting, ankle-high boot with an elastic side panel.",mule:"A shoe that has no back or constraint around the foot's heel.",blazer:"A structured jacket resembling a suit jacket but cut more casually.",tunic:"A loose garment, typically sleeveless and reaching to the knees, as worn in ancient Greece and Rome.",cardigan:"A knitted sweater opening down the front, typically with buttons.","bomber jacket":"A short jacket gathered at the waist and cuffs by elasticated bands and typically having a zip front.","trench coat":"A loose-belted, double-breasted raincoat in a military style.",camisole:"A loose-fitting sleeveless undergarment or top for women, typically with thin straps.",culottes:"Women's knee-length trousers, cut with full legs to resemble a skirt.",chino:"Casual trousers made from chino cloth, a twill fabric, typically khaki-colored.",palazzo:"Long women's trousers cut with a loose, extremely wide leg that flares out from the waist.","pencil skirt":"A slim-fitting skirt with a straight, narrow cut.","sheath dress":"A fitted, straight-cut dress, often without a waist seam.",cashmere:"A soft, fine wool obtained from the cashmere goat.",bouclé:"A yarn with a looped or curled ply, or the fabric made from this yarn.",brocade:"A rich fabric, usually silk, woven with a raised pattern, typically with gold or silver thread.",chambray:"A lightweight clothing fabric with colored warp and white filling yarns.",organza:"A thin, stiff, transparent fabric made of silk or a synthetic yarn.",taffeta:"A crisp, smooth, plain-woven fabric with a slight sheen.",tweed:"A rough-surfaced woolen cloth, typically of mixed flecked colors.","old money":"A style characterized by understated luxury, classic pieces, and high-quality materials without overt logos.","avant-garde":"Experimental, innovative, or unorthodox concepts in fashion.","haute couture":"Expensive, fashionable clothes produced by leading fashion houses.",minimalist:"A style focused on clean lines, simple geometric shapes, and a lack of decorative detail.",eclectic:"A style that derives ideas, style, or taste from a broad and diverse range of sources.",bohemian:"Unconventional and artistic style, often involving loose, flowing fabrics and colorful patterns.",preppy:"A classic, neat style inspired by the clothing of American preparatory schools.",streetwear:"Casual clothing of a style worn especially by members of various urban youth subcultures.",utilitarian:"Fashion that prioritizes function, practicality, and comfort.",monochrome:"An outfit consisting of pieces of one single color or shades of that color.","trompe-l'œil":"Visual illusion in art/fashion, used to trick the eye into perceiving a painted detail as a three-dimensional object.",appliqué:"Ornamental needlework in which pieces of fabric are sewn or stuck onto a large piece of fabric to form a picture or pattern.",embroidery:"The art or process of forming decorative designs with hand or machine needlework.",pleating:"A type of fold formed by doubling fabric back upon itself and securing it in place.",ruching:"A gathering of fabric or ribbon to produce a ripple or ruffle effect.",atelier:"A workshop or studio, especially one used by an artist or fashion designer.","capsule wardrobe":"A collection of a few essential items of clothing that do not go out of fashion.","prêt-à-porter":"Designer clothes sold ready-to-wear rather than made to measure.",sartorial:"Relating to tailoring, clothes, or style of dress.",texture:"The perceived surface quality of a garment or fabric."};function I({text:e,className:t=""}){if(!e)return null;let s=function(e){if(!e)return[e];let t=Object.keys(j).sort((e,t)=>t.length-e.length),s=RegExp(`(${t.map(e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|")})`,"gi");return e.split(s)}(e);return(0,A.jsx)("span",{className:t,children:s.map((e,t)=>{let s=e.toLowerCase(),n=j[s];return n?(0,A.jsxs)("span",{className:"group relative inline-block cursor-help border-b border-dotted border-primary/50 hover:border-primary transition-colors",children:[(0,A.jsx)("span",{className:"text-primary/90 font-medium",children:e}),(0,A.jsxs)("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-64 p-3 bg-gray-900/95 backdrop-blur-xl border border-white/10 rounded-xl shadow-2xl text-xs text-start opacity-0 group-hover:opacity-100 transition-all duration-200 pointer-events-none z-50 transform group-hover:-translate-y-1",children:[(0,A.jsx)("span",{className:"block font-bold text-primary mb-1 capitalize border-b border-white/10 pb-1",children:s}),(0,A.jsx)("span",{className:"text-gray-300 leading-relaxed block",children:n}),(0,A.jsx)("span",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent border-t-gray-900/95"})]})]},t):(0,A.jsx)("span",{children:e},t)})})}var T=e.i(87246),S=e.i(69074),R=e.i(75254);let k=(0,R.default)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);var M=e.i(31278),P=e.i(63209),L=e.i(72520);let D=(0,R.default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),U=(0,R.default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),F=(0,R.default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var $=e.i(18566),G=e.i(33426);(t=f||(f={})).STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object",(s=m||(m={})).LANGUAGE_UNSPECIFIED="language_unspecified",s.PYTHON="python",(n=p||(p={})).OUTCOME_UNSPECIFIED="outcome_unspecified",n.OUTCOME_OK="outcome_ok",n.OUTCOME_FAILED="outcome_failed",n.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded";let H=["user","model","function","system"];(a=g||(g={})).HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",a.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",a.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",a.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",a.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",a.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",(r=y||(y={})).HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",r.BLOCK_NONE="BLOCK_NONE",(o=b||(b={})).HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",o.NEGLIGIBLE="NEGLIGIBLE",o.LOW="LOW",o.MEDIUM="MEDIUM",o.HIGH="HIGH",(i=x||(x={})).BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",(l=w||(w={})).FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",l.STOP="STOP",l.MAX_TOKENS="MAX_TOKENS",l.SAFETY="SAFETY",l.RECITATION="RECITATION",l.LANGUAGE="LANGUAGE",l.BLOCKLIST="BLOCKLIST",l.PROHIBITED_CONTENT="PROHIBITED_CONTENT",l.SPII="SPII",l.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",l.OTHER="OTHER",(c=v||(v={})).TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",c.RETRIEVAL_QUERY="RETRIEVAL_QUERY",c.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",c.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",c.CLASSIFICATION="CLASSIFICATION",c.CLUSTERING="CLUSTERING",(d=E||(E={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",d.AUTO="AUTO",d.ANY="ANY",d.NONE="NONE",(h=C||(C={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",h.MODE_DYNAMIC="MODE_DYNAMIC";class B extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class K extends B{constructor(e,t){super(e),this.response=t}}class Y extends B{constructor(e,t,s,n){super(e),this.status=t,this.statusText=s,this.errorDetails=n}}class q extends B{}class z extends B{}(u=N||(N={})).GENERATE_CONTENT="generateContent",u.STREAM_GENERATE_CONTENT="streamGenerateContent",u.COUNT_TOKENS="countTokens",u.EMBED_CONTENT="embedContent",u.BATCH_EMBED_CONTENTS="batchEmbedContents";class J{constructor(e,t,s,n,a){this.model=e,this.task=t,this.apiKey=s,this.stream=n,this.requestOptions=a}toString(){var e,t;let s=(null==(e=this.requestOptions)?void 0:e.apiVersion)||"v1beta",n=(null==(t=this.requestOptions)?void 0:t.baseUrl)||"https://generativelanguage.googleapis.com",a=`${n}/${s}/${this.model}:${this.task}`;return this.stream&&(a+="?alt=sse"),a}}async function V(e){var t,s;let n,a=new Headers;a.append("Content-Type","application/json"),a.append("x-goog-api-client",(s=e.requestOptions,n=[],(null==s?void 0:s.apiClient)&&n.push(s.apiClient),n.push("genai-js/0.24.1"),n.join(" "))),a.append("x-goog-api-key",e.apiKey);let r=null==(t=e.requestOptions)?void 0:t.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(e){throw new q(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${e.message}`)}for(let[e,t]of r.entries()){if("x-goog-api-key"===e)throw new q(`Cannot set reserved header name ${e}`);if("x-goog-api-client"===e)throw new q(`Header name ${e} can only be set using the apiClient field`);a.append(e,t)}}return a}async function W(e,t,s,n,a,r){let o=new J(e,t,s,n,r);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},function(e){let t={};if((null==e?void 0:e.signal)!==void 0||(null==e?void 0:e.timeout)>=0){let s=new AbortController;(null==e?void 0:e.timeout)>=0&&setTimeout(()=>s.abort(),e.timeout),(null==e?void 0:e.signal)&&e.signal.addEventListener("abort",()=>{s.abort()}),t.signal=s.signal}return t}(r)),{method:"POST",headers:await V(o),body:a})}}async function X(e,t,s,n,a,r={},o=fetch){let{url:i,fetchOptions:l}=await W(e,t,s,n,a,r);return Q(i,l,o)}async function Q(e,t,s=fetch){let n;try{n=await s(e,t)}catch(s){var a=s,r=e;let t=a;throw"AbortError"===t.name?(t=new z(`Request aborted when fetching ${r.toString()}: ${a.message}`)).stack=a.stack:a instanceof Y||a instanceof q||((t=new B(`Error fetching from ${r.toString()}: ${a.message}`)).stack=a.stack),t}return n.ok||await Z(n,e),n}async function Z(e,t){let s,n="";try{let t=await e.json();n=t.error.message,t.error.details&&(n+=` ${JSON.stringify(t.error.details)}`,s=t.error.details)}catch(e){}throw new Y(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${n}`,e.status,e.statusText,s)}function ee(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),en(e.candidates[0]))throw new K(`${ea(e)}`,e);return function(e){var t,s,n,a;let r=[];if(null==(s=null==(t=e.candidates)?void 0:t[0].content)?void 0:s.parts)for(let t of null==(a=null==(n=e.candidates)?void 0:n[0].content)?void 0:a.parts)t.text&&r.push(t.text),t.executableCode&&r.push("\n```"+t.executableCode.language+"\n"+t.executableCode.code+"\n```\n"),t.codeExecutionResult&&r.push("\n```\n"+t.codeExecutionResult.output+"\n```\n");return r.length>0?r.join(""):""}(e)}if(e.promptFeedback)throw new K(`Text not available. ${ea(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),en(e.candidates[0]))throw new K(`${ea(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),et(e)[0]}if(e.promptFeedback)throw new K(`Function call not available. ${ea(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),en(e.candidates[0]))throw new K(`${ea(e)}`,e);return et(e)}if(e.promptFeedback)throw new K(`Function call not available. ${ea(e)}`,e)},e}function et(e){var t,s,n,a;let r=[];if(null==(s=null==(t=e.candidates)?void 0:t[0].content)?void 0:s.parts)for(let t of null==(a=null==(n=e.candidates)?void 0:n[0].content)?void 0:a.parts)t.functionCall&&r.push(t.functionCall);return r.length>0?r:void 0}let es=[w.RECITATION,w.SAFETY,w.LANGUAGE];function en(e){return!!e.finishReason&&es.includes(e.finishReason)}function ea(e){var t,s,n;let a="";if((!e.candidates||0===e.candidates.length)&&e.promptFeedback)a+="Response was blocked",(null==(t=e.promptFeedback)?void 0:t.blockReason)&&(a+=` due to ${e.promptFeedback.blockReason}`),(null==(s=e.promptFeedback)?void 0:s.blockReasonMessage)&&(a+=`: ${e.promptFeedback.blockReasonMessage}`);else if(null==(n=e.candidates)?void 0:n[0]){let t=e.candidates[0];en(t)&&(a+=`Candidate was blocked due to ${t.finishReason}`,t.finishMessage&&(a+=`: ${t.finishMessage}`))}return a}function er(e){return this instanceof er?(this.v=e,this):new er(e)}"function"==typeof SuppressedError&&SuppressedError;let eo=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;async function ei(e){let t=[],s=e.getReader();for(;;){let{done:e,value:n}=await s.read();if(e)return ee(function(e){let t=e[e.length-1],s={promptFeedback:null==t?void 0:t.promptFeedback};for(let t of e){if(t.candidates){let e=0;for(let n of t.candidates)if(s.candidates||(s.candidates=[]),s.candidates[e]||(s.candidates[e]={index:e}),s.candidates[e].citationMetadata=n.citationMetadata,s.candidates[e].groundingMetadata=n.groundingMetadata,s.candidates[e].finishReason=n.finishReason,s.candidates[e].finishMessage=n.finishMessage,s.candidates[e].safetyRatings=n.safetyRatings,n.content&&n.content.parts){s.candidates[e].content||(s.candidates[e].content={role:n.content.role||"user",parts:[]});let t={};for(let a of n.content.parts)a.text&&(t.text=a.text),a.functionCall&&(t.functionCall=a.functionCall),a.executableCode&&(t.executableCode=a.executableCode),a.codeExecutionResult&&(t.codeExecutionResult=a.codeExecutionResult),0===Object.keys(t).length&&(t.text=""),s.candidates[e].content.parts.push(t)}e++}t.usageMetadata&&(s.usageMetadata=t.usageMetadata)}return s}(t));t.push(n)}}async function el(e,t,s,n){return function(e){let t,[s,n]=(t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})).getReader(),new ReadableStream({start(e){let s="";return function n(){return t.read().then(({value:t,done:a})=>{let r;if(a)return s.trim()?void e.error(new B("Failed to parse stream")):void e.close();let o=(s+=t).match(eo);for(;o;){try{r=JSON.parse(o[1])}catch(t){e.error(new B(`Error parsing JSON response: "${o[1]}"`));return}e.enqueue(r),o=(s=s.substring(o[0].length)).match(eo)}return n()}).catch(e=>{let t=e;throw t.stack=e.stack,t="AbortError"===t.name?new z("Request aborted when reading from the stream"):new B("Error reading from the stream")})}()}})).tee();return{stream:function(e){return function(e,t,s){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,a=s.apply(e,t||[]),r=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){a[e]&&(n[e]=function(t){return new Promise(function(s,n){r.push([e,t,s,n])>1||i(e,t)})})}function i(e,t){try{var s;(s=a[e](t)).value instanceof er?Promise.resolve(s.value.v).then(l,c):d(r[0][2],s)}catch(e){d(r[0][3],e)}}function l(e){i("next",e)}function c(e){i("throw",e)}function d(e,t){e(t),r.shift(),r.length&&i(r[0][0],r[0][1])}}(this,arguments,function*(){let t=e.getReader();for(;;){let{value:e,done:s}=yield er(t.read());if(s)break;yield yield er(ee(e))}})}(s),response:ei(n)}}(await X(t,N.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(s),n))}async function ec(e,t,s,n){let a=await X(t,N.GENERATE_CONTENT,e,!1,JSON.stringify(s),n);return{response:ee(await a.json())}}function ed(e){if(null!=e){if("string"==typeof e)return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)if(!e.role)return{role:"system",parts:e.parts};else return e}}function eh(e){let t=[];if("string"==typeof e)t=[{text:e}];else for(let s of e)"string"==typeof s?t.push({text:s}):t.push(s);var s=t;let n={role:"user",parts:[]},a={role:"function",parts:[]},r=!1,o=!1;for(let e of s)"functionResponse"in e?(a.parts.push(e),o=!0):(n.parts.push(e),r=!0);if(r&&o)throw new B("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!o)throw new B("No content is provided for sending chat message.");return r?n:a}function eu(e){let t;return t=e.contents?e:{contents:[eh(e)]},e.systemInstruction&&(t.systemInstruction=ed(e.systemInstruction)),t}let ef=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],em={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function ep(e){var t;if(void 0===e.candidates||0===e.candidates.length)return!1;let s=null==(t=e.candidates[0])?void 0:t.content;if(void 0===s||void 0===s.parts||0===s.parts.length)return!1;for(let e of s.parts)if(void 0===e||0===Object.keys(e).length||void 0!==e.text&&""===e.text)return!1;return!0}let eg="SILENT_ERROR";class ey{constructor(e,t,s,n={}){this.model=t,this.params=s,this._requestOptions=n,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,(null==s?void 0:s.history)&&(!function(e){let t=!1;for(let s of e){let{role:e,parts:n}=s;if(!t&&"user"!==e)throw new B(`First content should be with role 'user', got ${e}`);if(!H.includes(e))throw new B(`Each item should include role field. Got ${e} but valid roles are: ${JSON.stringify(H)}`);if(!Array.isArray(n))throw new B("Content should have 'parts' property with an array of Parts");if(0===n.length)throw new B("Each Content should have at least one part");let a={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(let e of n)for(let t of ef)t in e&&(a[t]+=1);let r=em[e];for(let t of ef)if(!r.includes(t)&&a[t]>0)throw new B(`Content with role '${e}' can't contain '${t}' part`);t=!0}}(s.history),this._history=s.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,t={}){var s,n,a,r,o,i;let l;await this._sendPromise;let c=eh(e),d={safetySettings:null==(s=this.params)?void 0:s.safetySettings,generationConfig:null==(n=this.params)?void 0:n.generationConfig,tools:null==(a=this.params)?void 0:a.tools,toolConfig:null==(r=this.params)?void 0:r.toolConfig,systemInstruction:null==(o=this.params)?void 0:o.systemInstruction,cachedContent:null==(i=this.params)?void 0:i.cachedContent,contents:[...this._history,c]},h=Object.assign(Object.assign({},this._requestOptions),t);return this._sendPromise=this._sendPromise.then(()=>ec(this._apiKey,this.model,d,h)).then(e=>{var t;if(ep(e.response)){this._history.push(c);let s=Object.assign({parts:[],role:"model"},null==(t=e.response.candidates)?void 0:t[0].content);this._history.push(s)}else{let t=ea(e.response);t&&console.warn(`sendMessage() was unsuccessful. ${t}. Inspect response object for details.`)}l=e}).catch(e=>{throw this._sendPromise=Promise.resolve(),e}),await this._sendPromise,l}async sendMessageStream(e,t={}){var s,n,a,r,o,i;await this._sendPromise;let l=eh(e),c={safetySettings:null==(s=this.params)?void 0:s.safetySettings,generationConfig:null==(n=this.params)?void 0:n.generationConfig,tools:null==(a=this.params)?void 0:a.tools,toolConfig:null==(r=this.params)?void 0:r.toolConfig,systemInstruction:null==(o=this.params)?void 0:o.systemInstruction,cachedContent:null==(i=this.params)?void 0:i.cachedContent,contents:[...this._history,l]},d=Object.assign(Object.assign({},this._requestOptions),t),h=el(this._apiKey,this.model,c,d);return this._sendPromise=this._sendPromise.then(()=>h).catch(e=>{throw Error(eg)}).then(e=>e.response).then(e=>{if(ep(e)){this._history.push(l);let t=Object.assign({},e.candidates[0].content);t.role||(t.role="model"),this._history.push(t)}else{let t=ea(e);t&&console.warn(`sendMessageStream() was unsuccessful. ${t}. Inspect response object for details.`)}}).catch(e=>{e.message!==eg&&console.error(e)}),h}}async function eb(e,t,s,n){return(await X(t,N.COUNT_TOKENS,e,!1,JSON.stringify(s),n)).json()}async function ex(e,t,s,n){return(await X(t,N.EMBED_CONTENT,e,!1,JSON.stringify(s),n)).json()}async function ew(e,t,s,n){let a=s.requests.map(e=>Object.assign(Object.assign({},e),{model:t}));return(await X(t,N.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:a}),n)).json()}class ev{constructor(e,t,s={}){this.apiKey=e,this._requestOptions=s,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=ed(t.systemInstruction),this.cachedContent=t.cachedContent}async generateContent(e,t={}){var s;let n=eu(e),a=Object.assign(Object.assign({},this._requestOptions),t);return ec(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null==(s=this.cachedContent)?void 0:s.name},n),a)}async generateContentStream(e,t={}){var s;let n=eu(e),a=Object.assign(Object.assign({},this._requestOptions),t);return el(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null==(s=this.cachedContent)?void 0:s.name},n),a)}startChat(e){var t;return new ey(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null==(t=this.cachedContent)?void 0:t.name},e),this._requestOptions)}async countTokens(e,t={}){let s=function(e,t){var s;let n={model:null==t?void 0:t.model,generationConfig:null==t?void 0:t.generationConfig,safetySettings:null==t?void 0:t.safetySettings,tools:null==t?void 0:t.tools,toolConfig:null==t?void 0:t.toolConfig,systemInstruction:null==t?void 0:t.systemInstruction,cachedContent:null==(s=null==t?void 0:t.cachedContent)?void 0:s.name,contents:[]},a=null!=e.generateContentRequest;if(e.contents){if(a)throw new q("CountTokensRequest must have one of contents or generateContentRequest, not both.");n.contents=e.contents}else if(a)n=Object.assign(Object.assign({},n),e.generateContentRequest);else{let t=eh(e);n.contents=[t]}return{generateContentRequest:n}}(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),n=Object.assign(Object.assign({},this._requestOptions),t);return eb(this.apiKey,this.model,s,n)}async embedContent(e,t={}){let s="string"==typeof e||Array.isArray(e)?{content:eh(e)}:e,n=Object.assign(Object.assign({},this._requestOptions),t);return ex(this.apiKey,this.model,s,n)}async batchEmbedContents(e,t={}){let s=Object.assign(Object.assign({},this._requestOptions),t);return ew(this.apiKey,this.model,e,s)}}class eE{constructor(e){this.apiKey=e}getGenerativeModel(e,t){if(!e.model)throw new B("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new ev(this.apiKey,e,t)}getGenerativeModelFromCachedContent(e,t,s){if(!e.name)throw new q("Cached content must contain a `name` field.");if(!e.model)throw new q("Cached content must contain a `model` field.");for(let s of["model","systemInstruction"])if((null==t?void 0:t[s])&&e[s]&&(null==t?void 0:t[s])!==e[s]){if("model"===s&&(t.model.startsWith("models/")?t.model.replace("models/",""):t.model)===(e.model.startsWith("models/")?e.model.replace("models/",""):e.model))continue;throw new q(`Different value for "${s}" specified in modelParams (${t[s]}) and cachedContent (${e[s]})`)}let n=Object.assign(Object.assign({},t),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new ev(this.apiKey,n,s)}}async function eC(e,t){try{let s=new eE(t).getGenerativeModel({model:"gemini-1.5-flash"}),n=await new Promise((t,s)=>{let n=new FileReader;n.onloadend=()=>{let e=n.result.split(",")[1];t(e)},n.onerror=s,n.readAsDataURL(e)}),a=`Analyze this clothing item for a personal stylist app. Return ONLY a valid JSON object (no markdown, no backticks) with these fields:
    - category: string (Top, Bottom, Outerwear, Shoes, Accessory, Dress, Bag, Other)
    - sub_category: string (e.g., T-Shirt, Jeans, Blazer, Sneakers)
    - primary_color: string (generic color name)
    - style_tags: string[] (e.g., ["casual", "streetwear", "minimalist", "vintage"])
    - description: string (short, engaging description)
    - price_estimate: string (e.g., "$$", "$$$", "$")
    - style_score: number (1-100, purely objective style rating based on versatility and trend)
    `,r=await s.generateContent([a,{inlineData:{data:n,mimeType:e.type}}]),o=(await r.response).text().replace(/```json/g,"").replace(/```/g,"").trim();return JSON.parse(o)}catch(e){throw console.error("Gemini Analysis Error:",e),Error("Failed to analyze image. Please checks your API key.")}}function eN(){let e=(0,$.useRouter)(),{profile:t}=(0,G.useProfile)(),[s,n]=(0,_.useState)("upload"),[a,r]=(0,_.useState)(!1),[o,i]=(0,_.useState)(0),[l,c]=(0,_.useState)(""),[d,h]=(0,_.useState)(null),u=()=>{i(0);let e=setInterval(()=>{i(t=>t>=90?(clearInterval(e),90):t+10)},500);return e},f=async t=>{if(!t.target.files?.[0])return;r(!0);let s=u();h(null);let n=t.target.files[0];try{let t=localStorage.getItem("gemini_api_key");if(!t){if(confirm("Gemini API Key missing. Go to Profile to set it?"))e.push("/profile");else throw Error("API Key required for AI analysis.");clearInterval(s);return}let a=await eC(n,t);if(clearInterval(s),i(100),a.error)throw Error(a.message||a.error);a.image_url=URL.createObjectURL(n),h(a)}catch(e){console.error(e),O.toast.error("Analysis Failed",{description:e.message||"Please try again.",duration:5e3}),clearInterval(s)}finally{r(!1)}},m=async e=>{e.preventDefault(),r(!0);let s=u();h(null);try{let e=await fetch("/api/wardrobe/link",{method:"POST",body:JSON.stringify({url:l,style_profile:t}),headers:{"Content-Type":"application/json"}}),n=await e.json();if(clearInterval(s),i(100),n.error)throw Error(n.message||n.error);h(n)}catch(e){console.error(e),O.toast.error("Link Analysis Failed",{description:e.message||"Please try again.",duration:5e3}),clearInterval(s)}finally{r(!1)}},[p,g]=(0,_.useState)(!1),y=async()=>{if(d){g(!0);try{let t=await fetch("/api/wardrobe/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...d})}),s=await t.json();if(401===t.status)return void e.push("/auth/login");if(!t.ok)throw Error(s.message||s.error||"Failed");O.toast.success("Item added to wardrobe!"),e.push("/wardrobe")}catch(e){console.error("Save Error:",e),O.toast.error("Save Failed",{description:e.message||"Failed to save item. Please try again.",duration:5e3})}finally{g(!1)}}};return(0,A.jsxs)("div",{className:"p-6 md:p-8 max-w-4xl mx-auto",children:[(0,A.jsx)("h1",{className:"text-4xl font-serif font-bold mb-2",children:"Add New Item"}),(0,A.jsx)("p",{className:"text-gray-400 mb-8",children:"Upload a photo or paste a link to get a detailed Style DNA analysis."}),(0,A.jsxs)("div",{className:"flex gap-4 mb-8 bg-surface p-1 rounded-xl border border-white/5 max-w-md",children:[(0,A.jsxs)("button",{onClick:()=>n("upload"),className:`flex-1 py-3 flex items-center justify-center gap-2 rounded-lg transition-all font-medium ${"upload"===s?"bg-primary text-black shadow-lg":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[(0,A.jsx)(S.Upload,{size:18})," Upload Photo"]}),(0,A.jsxs)("button",{onClick:()=>n("link"),className:`flex-1 py-3 flex items-center justify-center gap-2 rounded-lg transition-all font-medium ${"link"===s?"bg-primary text-black shadow-lg":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[(0,A.jsx)(k,{size:18})," Paste Link"]})]}),(0,A.jsxs)("div",{className:`card glass p-8 min-h-[400px] flex flex-col items-center justify-center relative shadow-2xl overflow-hidden transition-all duration-500 ${d?"items-stretch justify-start":""}`,children:[a&&(0,A.jsxs)("div",{className:"w-full relative",children:[(0,A.jsxs)("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center p-8 text-center bg-black/50 backdrop-blur-sm rounded-xl",children:[(0,A.jsxs)("div",{className:"w-full max-w-sm mb-4",children:[(0,A.jsxs)("div",{className:"flex justify-between text-xs text-primary mb-2 font-mono uppercase tracking-widest",children:[(0,A.jsx)("span",{children:"Analyzing Style DNA"}),(0,A.jsxs)("span",{children:[o,"%"]})]}),(0,A.jsx)("div",{className:"h-1 bg-white/10 rounded-full overflow-hidden",children:(0,A.jsx)("div",{className:"h-full bg-primary transition-all duration-300 ease-out shadow-[0_0_15px_#d4af37]",style:{width:`${o}%`}})})]}),(0,A.jsx)("h3",{className:"text-xl font-bold mb-2 text-white",children:"Gemini 3 Pro is analyzing..."}),(0,A.jsx)("p",{className:"text-gray-400 text-sm animate-pulse",children:"Identifying brand, SKU, and calculating style score."})]}),(0,A.jsx)(T.AddItemSkeleton,{})]}),p&&(0,A.jsxs)("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-md z-50 flex flex-col items-center justify-center p-8 text-center animate-fade-in",children:[(0,A.jsx)(M.Loader2,{size:48,className:"text-primary animate-spin mb-4"}),(0,A.jsx)("h3",{className:"text-xl font-bold mb-2 text-white",children:"Saving to Wardrobe..."})]}),!d&&!a&&"upload"===s&&(0,A.jsx)("div",{className:"w-full text-center max-w-md animate-fade-in",children:(0,A.jsxs)("div",{className:"border-2 border-dashed border-white/20 rounded-3xl h-80 flex flex-col items-center justify-center cursor-pointer hover:border-primary/50 hover:bg-primary/5 transition-all group relative overflow-hidden",onClick:()=>document.getElementById("file-input")?.click(),children:[(0,A.jsx)("div",{className:"w-20 h-20 bg-white/5 rounded-full flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:(0,A.jsx)(S.Upload,{size:32,className:"text-gray-400 group-hover:text-primary transition-colors"})}),(0,A.jsx)("h3",{className:"text-lg font-bold mb-2",children:"Drop your image here"}),(0,A.jsx)("p",{className:"text-gray-400 text-sm max-w-xs",children:"Supports JPG, PNG, WEBP up to 5MB"}),(0,A.jsx)("input",{id:"file-input",type:"file",className:"hidden",accept:"image/*",onChange:f})]})}),!d&&!a&&"link"===s&&(0,A.jsxs)("form",{onSubmit:m,className:"w-full max-w-md space-y-6 animate-fade-in",children:[(0,A.jsxs)("div",{className:"text-center mb-8",children:[(0,A.jsx)("div",{className:"w-16 h-16 bg-white/5 rounded-2xl flex items-center justify-center mx-auto mb-4 border border-white/10",children:(0,A.jsx)(k,{size:32,className:"text-primary"})}),(0,A.jsx)("h3",{className:"text-xl font-bold",children:"Import from URL"}),(0,A.jsx)("p",{className:"text-gray-400 text-sm",children:"Paste a product link from Zara, H&M, Farfetch, etc."})]}),(0,A.jsxs)("div",{className:"relative",children:[(0,A.jsx)("input",{type:"url",placeholder:"https://store.com/product...",className:"w-full bg-black/50 border border-white/20 rounded-xl px-4 py-4 pr-12 text-white placeholder:text-gray-600 focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all",value:l,onChange:e=>c(e.target.value),required:!0}),(0,A.jsx)("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-600 pointer-events-none",children:(0,A.jsx)(k,{size:16})})]}),(0,A.jsxs)("button",{type:"submit",className:"btn btn-primary w-full py-4 text-base font-bold shadow-lg shadow-primary/20 hover:shadow-primary/40",disabled:!l||a,children:["Analyze Link ",(0,A.jsx)(L.ArrowRight,{size:18,className:"ml-2"})]})]}),d&&(0,A.jsxs)("div",{className:"w-full animate-fade-in grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,A.jsxs)("div",{className:"space-y-6",children:[(0,A.jsxs)("div",{className:"aspect-[3/4] bg-gray-900 rounded-2xl overflow-hidden border border-white/10 shadow-2xl relative group",children:[d.image_url?(0,A.jsx)("img",{src:d.image_url,alt:"Product",className:"w-full h-full object-cover"}):(0,A.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-600 bg-white/5",children:[(0,A.jsx)(P.AlertCircle,{size:32,className:"mb-2 opacity-50"}),(0,A.jsx)("span",{children:"No Image Available"})]}),(0,A.jsx)("div",{className:"absolute top-4 right-4 animate-in fade-in zoom-in duration-500 delay-300",children:(0,A.jsxs)("div",{className:"bg-black/70 backdrop-blur-md text-white px-4 py-2 rounded-full border border-white/10 shadow-xl flex items-center gap-2",children:[(0,A.jsx)("span",{className:"text-xs font-mono uppercase text-gray-400",children:"Style Score"}),(0,A.jsx)("span",{className:`text-xl font-bold ${d.style_score>80?"text-green-400":d.style_score>50?"text-yellow-400":"text-red-400"}`,children:d.style_score||"?"})]})})]}),(0,A.jsxs)("div",{className:"bg-white/5 p-4 rounded-xl border border-white/10",children:[(0,A.jsxs)("h4",{className:"text-sm font-bold text-gray-300 mb-2 flex items-center gap-2",children:[(0,A.jsx)(D,{size:16,className:"text-primary"})," Style Analysis"]}),(0,A.jsx)("p",{className:"text-sm text-gray-400 leading-relaxed",children:(0,A.jsx)(I,{text:d.style_reasoning||"Analyzing fit with your personal style..."})})]})]}),(0,A.jsxs)("div",{className:"flex flex-col h-full",children:[(0,A.jsxs)("div",{className:"flex-1 space-y-6",children:[(0,A.jsxs)("div",{children:[(0,A.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,A.jsx)("span",{className:"px-2 py-0.5 rounded text-[10px] font-bold bg-white/10 text-gray-300 uppercase tracking-widest border border-white/5",children:d.brand||"Unknown Brand"}),(0,A.jsx)("span",{className:"text-sm text-gray-400 font-mono",children:d.price||d.price_estimate||"Price Pending"})]}),(0,A.jsx)("h2",{className:"text-3xl font-serif font-bold leading-tight mb-4",children:d.item_name||d.sub_category||"Identified Item"}),(0,A.jsxs)("p",{className:"text-gray-300 leading-relaxed italic border-l-2 border-primary/30 pl-4 py-1",children:['"',(0,A.jsx)(I,{text:d.description}),'"']})]}),(0,A.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,A.jsxs)("div",{className:"bg-black/20 p-3 rounded-lg border border-white/5",children:[(0,A.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Category"}),(0,A.jsx)("div",{className:"font-medium text-sm",children:d.category})]}),(0,A.jsxs)("div",{className:"bg-black/20 p-3 rounded-lg border border-white/5",children:[(0,A.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Color"}),(0,A.jsxs)("div",{className:"font-medium text-sm flex items-center gap-2",children:[(0,A.jsx)("span",{className:"w-3 h-3 rounded-full bg-current border border-white/20",style:{color:d.color?.toLowerCase()}}),d.color]})]})]}),(0,A.jsxs)("div",{className:"bg-white/5 p-4 rounded-xl border border-white/10 hover:border-primary/30 transition-colors group",children:[(0,A.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,A.jsxs)("div",{className:"text-xs text-primary font-bold uppercase tracking-wider flex items-center gap-1",children:[(0,A.jsx)(U,{size:12})," Find on Google"]}),(0,A.jsx)(L.ArrowRight,{size:14,className:"text-gray-500 group-hover:text-primary transition-colors opacity-0 group-hover:opacity-100 transform -translate-x-2 group-hover:translate-x-0"})]}),(0,A.jsx)("a",{href:`https://www.google.com/search?q=${encodeURIComponent((d.brand||"")+" "+(d.item_name||d.sub_category))}&tbm=shop`,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium hover:text-primary underline decoration-primary/30 underline-offset-4",children:"View Purchasing Options"})]}),(0,A.jsxs)("div",{children:[(0,A.jsxs)("label",{className:"text-xs text-gray-500 uppercase font-bold tracking-wider mb-2 block flex items-center gap-1",children:[(0,A.jsx)(F,{size:12})," Style Tags"]}),(0,A.jsxs)("div",{className:"flex flex-wrap gap-2",children:[d.tags?.map((e,t)=>(0,A.jsxs)("span",{className:"px-3 py-1 bg-white/5 text-gray-300 border border-white/10 rounded-full text-xs hover:bg-white/10 transition-colors cursor-default",children:["#",e]},t)),d.style_tags?.map((e,t)=>(0,A.jsxs)("span",{className:"px-3 py-1 bg-white/5 text-gray-300 border border-white/10 rounded-full text-xs hover:bg-white/10 transition-colors cursor-default",children:["#",e]},`s-${t}`))]})]})]}),(0,A.jsxs)("div",{className:"pt-8 flex gap-4 mt-auto",children:[(0,A.jsx)("button",{onClick:()=>h(null),className:"btn btn-outline flex-1 py-4 text-sm",children:"Cancel"}),(0,A.jsx)("button",{onClick:y,className:"btn btn-primary flex-[2] py-4 text-sm group shadow-lg shadow-primary/20",children:"Add to Wardrobe"})]})]})]})]})]})}e.s(["default",()=>eN],6339)}]);