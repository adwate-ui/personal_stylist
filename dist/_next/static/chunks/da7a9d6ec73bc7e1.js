(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63209,e=>{"use strict";let s=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>s],63209)},31278,e=>{"use strict";let s=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>s],31278)},6936,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(22016),r=e.i(46696),i=e.i(75254);let l=(0,i.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var d=e.i(83086),c=e.i(31278),n=e.i(63209);let o=(0,i.default)("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),x=(0,i.default)("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]),h=(0,i.default)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);var m=e.i(7984);let p=()=>(0,s.jsx)(s.Fragment,{children:[...Array(8)].map((e,t)=>(0,s.jsxs)("div",{className:"card relative animate-pulse",children:[(0,s.jsx)("div",{className:"aspect-[3/4] bg-gray-800/50 rounded-t-xl"}),(0,s.jsx)("div",{className:"p-4 space-y-3",children:(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("div",{className:"h-6 w-24 bg-gray-800/50 rounded"}),(0,s.jsx)("div",{className:"h-5 w-12 bg-gray-800/50 rounded"})]})})]},t))}),u={Shirts:["shirt","blouse","top","polo"],Suits:["suit","blazer","sport coat"],Trousers:["trouser","pant","slacks","chino"],Jeans:["jean","denim"],Jackets:["jacket","coat","outerwear","parka","bomber"],Coats:["coat","overcoat","trench"],Shoes:["shoe","sneaker","boot","loafer","oxford","heel","flat","sandal"],Accessories:["accessory","pocket square","scarf","hat","cap","glove"],Ties:["tie","bow tie","necktie"],Belts:["belt"],Watches:["watch","timepiece"],Socks:["sock","hosiery"],Dresses:["dress","gown"],Skirts:["skirt"],Activewear:["activewear","sportswear","athletic","gym","workout"]};function g(){let[e,i]=(0,t.useState)([]),[g,b]=(0,t.useState)(!0),[y,j]=(0,t.useState)(null),[f,w]=(0,t.useState)(1),[N,v]=(0,t.useState)(!1),[k,S]=(0,t.useState)(!1),[z,_]=(0,t.useState)("grid"),[C,A]=(0,t.useState)(!0),[M,$]=(0,t.useState)("4x4"),T=async(e=1,s=!1)=>{s?S(!0):(b(!0),j(null));try{let{data:{user:t}}=await m.supabase.auth.getUser();if(!t){if(s)return void v(!1);i([]),b(!1);return}let a=(e-1)*20,l=a+20-1,{data:d,error:c,count:n}=await m.supabase.from("wardrobe_items").select("*",{count:"exact"}).eq("user_id",t.id).order("created_at",{ascending:!1}).range(a,l);if(c)throw Error(c.message);let o=d||[];s?i(e=>[...e,...o]):(i(o),o.length>0&&r.toast.success("Wardrobe updated")),v((n||0)>l+1),w(e)}catch(e){console.error(e),s?r.toast.error("Failed to load more items",{description:e.message}):j(e.message||"Failed to load wardrobe items")}finally{b(!1),S(!1)}};(0,t.useEffect)(()=>{T()},[]);let q=e.reduce((e,s)=>{let t=C?((e,s)=>{let t=`${e||""} ${s||""}`.toLowerCase();for(let e of["Watches","Socks","Ties","Belts","Suits","Jeans","Trousers","Shirts","Dresses","Skirts","Coats","Jackets","Shoes","Accessories","Activewear"]){let s=u[e];if(s&&s.some(e=>t.includes(e)))return e}return"Other"})(s.category,s.sub_category):"All Items";return e[t]||(e[t]=[]),e[t].push(s),e},{}),L=Object.keys(q).sort();return(0,s.jsxs)("div",{className:"min-h-screen p-8 pb-20",children:[(0,s.jsxs)("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-4xl font-bold mb-2 font-serif",children:"My Wardrobe"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Digitize and organize your style."})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"flex bg-white/5 rounded-lg p-1 border border-white/10",children:(0,s.jsxs)("button",{onClick:()=>A(!C),className:`p-2 rounded-md transition-all flex items-center gap-2 text-sm ${C?"bg-primary text-black shadow-lg":"text-gray-400 hover:text-white"}`,title:"Group by Category",children:[(0,s.jsx)(h,{size:18}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Groups"})]})}),(0,s.jsxs)("div",{className:"flex bg-white/5 rounded-lg p-1 border border-white/10",children:[(0,s.jsx)("button",{onClick:()=>_("grid"),className:`p-2 rounded-md transition-all ${"grid"===z?"bg-white/10 text-white":"text-gray-400 hover:text-white"}`,children:(0,s.jsx)(o,{size:18})}),(0,s.jsx)("button",{onClick:()=>_("list"),className:`p-2 rounded-md transition-all ${"list"===z?"bg-white/10 text-white":"text-gray-400 hover:text-white"}`,children:(0,s.jsx)(x,{size:18})})]}),"grid"===z&&(0,s.jsxs)("div",{className:"flex bg-white/5 rounded-lg p-1 border border-white/10",children:[(0,s.jsx)("button",{onClick:()=>$("4x4"),className:`px-3 py-2 rounded-md transition-all text-xs font-medium ${"4x4"===M?"bg-white/10 text-white":"text-gray-400 hover:text-white"}`,children:"4×4"}),(0,s.jsx)("button",{onClick:()=>$("5x5"),className:`px-3 py-2 rounded-md transition-all text-xs font-medium ${"5x5"===M?"bg-white/10 text-white":"text-gray-400 hover:text-white"}`,children:"5×5"}),(0,s.jsx)("button",{onClick:()=>$("6x6"),className:`px-3 py-2 rounded-md transition-all text-xs font-medium ${"6x6"===M?"bg-white/10 text-white":"text-gray-400 hover:text-white"}`,children:"6×6"})]}),(0,s.jsxs)(a.default,{href:"/add-item",className:"btn btn-primary",children:[(0,s.jsx)(l,{size:20,className:"mr-2"})," ",(0,s.jsx)("span",{className:"hidden sm:inline",children:"Add Item"})]})]})]}),y?(0,s.jsxs)("div",{className:"glass p-8 rounded-xl text-center max-w-md mx-auto mt-20 border border-red-500/30",children:[(0,s.jsx)(n.AlertCircle,{className:"mx-auto mb-4 text-red-400",size:48}),(0,s.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Unavailable"}),(0,s.jsx)("p",{className:"text-gray-400 mb-6",children:y}),(0,s.jsx)("button",{onClick:()=>T(),className:"btn bg-red-500/20 hover:bg-red-500/30 text-red-200 border-none",children:"Try Again"})]}):(0,s.jsxs)(s.Fragment,{children:[0!==e.length||g?(0,s.jsxs)("div",{className:"space-y-12",children:[L.map(e=>(0,s.jsxs)("div",{className:"animate-fade-in",children:[C&&(0,s.jsxs)("h2",{className:"text-2xl font-serif font-bold mb-6 border-b border-white/10 pb-2 flex items-center gap-2",children:[e," ",(0,s.jsx)("span",{className:"text-xs font-sans font-normal text-gray-500 bg-white/5 px-2 py-1 rounded-full",children:q[e].length})]}),(0,s.jsx)("div",{className:"grid"===z?`grid-gallery-${M}`:"space-y-4",children:q[e].map(e=>"grid"===z?(0,s.jsxs)("div",{className:"card group relative",children:[(0,s.jsx)("div",{className:"aspect-[3/4] overflow-hidden bg-gray-800",children:(0,s.jsx)("img",{src:e.image_url||"/placeholder-garment.jpg",alt:e.name||e.sub_category,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"})}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,s.jsx)("h3",{className:"font-bold text-lg capitalize truncate pr-2",children:e.name||e.sub_category||e.category}),e.style_score&&(0,s.jsxs)("span",{className:"bg-white/10 text-xs px-2 py-1 rounded whitespace-nowrap",children:[e.style_score,"/10"]})]}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mb-3 line-clamp-2",children:e.description||e.ai_analysis?.description||"No description available"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e.brand&&(0,s.jsx)("span",{className:"text-xs border border-white/20 px-2 py-1 rounded-full capitalize bg-white/5",children:e.brand}),e.season&&(0,s.jsx)("span",{className:"text-xs border border-white/20 px-2 py-1 rounded-full capitalize",children:e.season})]})]}),(0,s.jsxs)("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center p-6 text-center backdrop-blur-sm pointer-events-none",children:[(0,s.jsx)(d.Sparkles,{size:24,className:"text-[#d4af37] mb-2"}),(0,s.jsx)("p",{className:"text-sm font-medium",children:e.ai_analysis?.styling_tips?.[0]||e.critique||"View details for styling tips"})]})]},e.id):(0,s.jsxs)("div",{className:"card p-4 flex gap-6 items-center hover:bg-white/5 transition-colors group",children:[(0,s.jsx)("div",{className:"w-24 h-32 shrink-0 bg-gray-800 rounded-lg overflow-hidden",children:(0,s.jsx)("img",{src:e.image_url||"/placeholder-garment.jpg",alt:e.name,className:"w-full h-full object-cover"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,s.jsx)("h3",{className:"font-bold text-xl capitalize truncate",children:e.name||e.sub_category||e.category}),e.style_score&&(0,s.jsxs)("span",{className:`text-sm font-bold px-3 py-1 rounded-full ${e.style_score>80?"bg-green-500/20 text-green-400":"bg-white/10"}`,children:[e.style_score,"/10"]})]}),(0,s.jsx)("p",{className:"text-sm text-gray-400 mb-3 line-clamp-1",children:e.description||e.ai_analysis?.description}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e.brand&&(0,s.jsx)("span",{className:"badge badge-outline",children:e.brand}),e.category&&(0,s.jsx)("span",{className:"badge badge-outline",children:e.category}),e.color&&(0,s.jsx)("span",{className:"badge badge-outline",children:e.color})]})]})]},e.id))})]},e)),g&&(0,s.jsx)(p,{})]}):(0,s.jsxs)("div",{className:"text-center py-20 opacity-30",children:[(0,s.jsx)(d.Sparkles,{size:64,className:"mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-xl",children:"Your wardrobe is empty. Start adding items!"})]}),N&&!g&&(0,s.jsx)("div",{className:"flex justify-center mt-12",children:(0,s.jsx)("button",{onClick:()=>{T(f+1,!0)},disabled:k,className:"btn btn-secondary min-w-[150px]",children:k?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Loader2,{className:"animate-spin mr-2",size:18}),"Loading..."]}):"Load More"})})]})]})}e.s(["default",()=>g],6936)}]);