{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/X2/Side%20projects/personal_stylist/src/lib/supabase-config.ts"],"sourcesContent":["/**\r\n * Shared Supabase configuration utilities\r\n */\r\n\r\n// Fallback values for build time when environment variables are not available\r\nexport const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL || 'https://placeholder.supabase.co';\r\nexport const supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || 'placeholder-anon-key';\r\n\r\n// Check if configuration is valid\r\nexport const isSupabaseConfigured = \r\n  Boolean(process.env.NEXT_PUBLIC_SUPABASE_URL) && \r\n  Boolean(process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY) &&\r\n  !supabaseUrl.includes('placeholder');\r\n\r\n// Check if we're in a browser environment\r\nexport const isBrowser = typeof window !== 'undefined';\r\n"],"names":[],"mappings":"AAAA;;CAEC,GAED,8EAA8E;;;;;;;;;;;AACvE,MAAM,cAAc,gFAAwC;AAC5D,MAAM,cAAc,wPAA6C;AAGjE,MAAM,uBACX,yFACA,iQACA,CAAC,YAAY,QAAQ,CAAC;AAGjB,MAAM,YAAY,kDAAkB"}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/X2/Side%20projects/personal_stylist/src/lib/supabase.ts"],"sourcesContent":["import { createBrowserClient } from '@supabase/ssr';\r\nimport { supabaseUrl, supabaseKey, isSupabaseConfigured, isBrowser } from './supabase-config';\r\n\r\n// Only warn in browser if Supabase is not configured (indicating a deployment issue)\r\n// Suppress warning during build process to avoid confusion\r\nif (!isSupabaseConfigured && isBrowser) {\r\n  console.warn('⚠️ Supabase is not configured. Authentication and database features will not work. Please set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY environment variables.');\r\n}\r\n\r\n// Create a proxy that throws helpful errors when not configured\r\nconst createSafeClient = () => {\r\n  const client = createBrowserClient(supabaseUrl, supabaseKey);\r\n  \r\n  // If running in browser with placeholder values, wrap the client\r\n  if (isBrowser && !isSupabaseConfigured) {\r\n    return new Proxy(client, {\r\n      get(target, prop) {\r\n        // Allow certain properties to be accessed for compatibility\r\n        if (prop === 'auth' || prop === 'from' || prop === 'storage') {\r\n          const originalValue = target[prop as keyof typeof target];\r\n          if (typeof originalValue === 'object' && originalValue !== null) {\r\n            return new Proxy(originalValue, {\r\n              get(authTarget, authProp) {\r\n                // Throw error on actual API calls\r\n                const value = authTarget[authProp as keyof typeof authTarget];\r\n                if (typeof value === 'function') {\r\n                  return function() {\r\n                    throw new Error(\r\n                      'Supabase is not configured. Please set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY environment variables.'\r\n                    );\r\n                  };\r\n                }\r\n                return value;\r\n              }\r\n            });\r\n          }\r\n          return originalValue;\r\n        }\r\n        return target[prop as keyof typeof target];\r\n      }\r\n    });\r\n  }\r\n  \r\n  return client;\r\n};\r\n\r\nexport const supabase = createSafeClient();\r\nexport { isSupabaseConfigured };\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAEA,qFAAqF;AACrF,2DAA2D;AAC3D,IAAI,CAAC,wJAAoB,IAAI,6IAAS,EAAE;IACtC,QAAQ,IAAI,CAAC;AACf;AAEA,gEAAgE;AAChE,MAAM,mBAAmB;IACvB,MAAM,SAAS,IAAA,iMAAmB,EAAC,+IAAW,EAAE,+IAAW;IAE3D,iEAAiE;IACjE,IAAI,6IAAS,IAAI,CAAC,wJAAoB,EAAE;QACtC,OAAO,IAAI,MAAM,QAAQ;YACvB,KAAI,MAAM,EAAE,IAAI;gBACd,4DAA4D;gBAC5D,IAAI,SAAS,UAAU,SAAS,UAAU,SAAS,WAAW;oBAC5D,MAAM,gBAAgB,MAAM,CAAC,KAA4B;oBACzD,IAAI,OAAO,kBAAkB,YAAY,kBAAkB,MAAM;wBAC/D,OAAO,IAAI,MAAM,eAAe;4BAC9B,KAAI,UAAU,EAAE,QAAQ;gCACtB,kCAAkC;gCAClC,MAAM,QAAQ,UAAU,CAAC,SAAoC;gCAC7D,IAAI,OAAO,UAAU,YAAY;oCAC/B,OAAO;wCACL,MAAM,IAAI,MACR;oCAEJ;gCACF;gCACA,OAAO;4BACT;wBACF;oBACF;oBACA,OAAO;gBACT;gBACA,OAAO,MAAM,CAAC,KAA4B;YAC5C;QACF;IACF;IAEA,OAAO;AACT;AAEO,MAAM,WAAW"}},
    {"offset": {"line": 101, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/X2/Side%20projects/personal_stylist/src/hooks/useProfile.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { supabase, isSupabaseConfigured } from '../lib/supabase';\r\nimport { User } from '@supabase/supabase-js';\r\nimport { ProfileData } from '@/types/profile';\r\n\r\n// Default empty profile\r\nconst DEFAULT_PROFILE = {\r\n    name: \"\",\r\n    avatar_url: \"\",\r\n    gender: \"\",\r\n    age: \"\",\r\n    location: \"New York, NY\",\r\n    height: \"\",\r\n    weight: \"\",\r\n    bodyShape: \"\",\r\n    fitPreference: \"regular\",\r\n    skinTone: \"\",\r\n    eyeColor: \"\",\r\n    hairColor: \"\",\r\n    lifestyle: {\r\n        work: false,\r\n        casual: false,\r\n        event: false,\r\n        active: false\r\n    },\r\n    archetypes: [] as string[],\r\n    brands: [] as string[],\r\n    priceRange: \"\",\r\n    styleReport: null as any,\r\n    styleDNA: null as any\r\n};\r\n\r\nexport function useProfile() {\r\n    const [profile, setProfile] = useState(DEFAULT_PROFILE);\r\n    const [loading, setLoading] = useState(true);\r\n    const [user, setUser] = useState<User | null>(null);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    const loadProfileFromStorage = () => {\r\n        const saved = localStorage.getItem('stylist_profile');\r\n        if (saved) {\r\n            try {\r\n                setProfile({ ...DEFAULT_PROFILE, ...JSON.parse(saved) });\r\n            } catch (e) {\r\n                console.error(\"Failed to parse profile\", e);\r\n            }\r\n        }\r\n    };\r\n\r\n    const profileToDatabase = (profileData: typeof DEFAULT_PROFILE) => {\r\n        return {\r\n            full_name: profileData.name,\r\n            avatar_url: profileData.avatar_url,\r\n            gender: profileData.gender,\r\n            age: profileData.age ? parseInt(profileData.age) : null,\r\n            location: profileData.location,\r\n            height_cm: profileData.height ? parseInt(profileData.height) : null,\r\n            weight_kg: profileData.weight ? parseInt(profileData.weight) : null,\r\n            body_shape: profileData.bodyShape,\r\n            fit_preference: profileData.fitPreference,\r\n            skin_tone: profileData.skinTone,\r\n            eye_color: profileData.eyeColor,\r\n            hair_color: profileData.hairColor,\r\n            lifestyle: profileData.lifestyle,\r\n            archetypes: profileData.archetypes,\r\n            brands: profileData.brands,\r\n            price_range: profileData.priceRange,\r\n            style_dna: profileData.styleDNA,\r\n            style_report: profileData.styleReport\r\n        };\r\n    };\r\n\r\n    const databaseToProfile = (dbProfile: any) => {\r\n        return {\r\n            ...DEFAULT_PROFILE,\r\n            name: dbProfile.full_name || \"\",\r\n            avatar_url: dbProfile.avatar_url || \"\",\r\n            gender: dbProfile.gender || \"\",\r\n            age: dbProfile.age?.toString() || \"\",\r\n            location: dbProfile.location || \"\",\r\n            height: dbProfile.height_cm?.toString() || \"\",\r\n            weight: dbProfile.weight_kg?.toString() || \"\",\r\n            bodyShape: dbProfile.body_shape || \"\",\r\n            fitPreference: dbProfile.fit_preference || \"regular\",\r\n            skinTone: dbProfile.skin_tone || \"\",\r\n            eyeColor: dbProfile.eye_color || \"\",\r\n            hairColor: dbProfile.hair_color || \"\",\r\n            lifestyle: dbProfile.lifestyle || DEFAULT_PROFILE.lifestyle,\r\n            archetypes: dbProfile.archetypes || [],\r\n            brands: dbProfile.brands || [],\r\n            priceRange: dbProfile.price_range || \"\",\r\n            styleDNA: dbProfile.style_dna || null,\r\n            styleReport: dbProfile.style_report || null\r\n        };\r\n    };\r\n\r\n    const getUser = async () => {\r\n        if (!isSupabaseConfigured) {\r\n            return null;\r\n        }\r\n        try {\r\n            const { data, error } = await supabase.auth.getUser();\r\n            if (error) {\r\n                console.error(\"Error fetching user:\", error);\r\n                return null;\r\n            }\r\n            return data.user;\r\n        } catch (e) {\r\n            console.error(\"Unexpected error fetching user:\", e);\r\n            return null;\r\n        }\r\n    };\r\n\r\n    // Load from localStorage on mount and sync with Supabase\r\n    useEffect(() => {\r\n        const init = async () => {\r\n            try {\r\n                // Check if Supabase is configured before attempting to use it\r\n                if (!isSupabaseConfigured) {\r\n                    // Fallback to localStorage when Supabase is not configured\r\n                    loadProfileFromStorage();\r\n                    setLoading(false);\r\n                    return;\r\n                }\r\n\r\n                const { data: { user } } = await supabase.auth.getUser();\r\n                setUser(user);\r\n\r\n                if (user) {\r\n                    let loadedFromApi = false;\r\n\r\n                    // Direct Supabase Fetch (Static Deployment Optimization)\r\n                    const { data: dbProfile, error: dbError } = await supabase\r\n                        .from('profiles')\r\n                        .select('*')\r\n                        .eq('id', user.id)\r\n                        .single();\r\n\r\n                    if (dbError && dbError.code !== 'PGRST116') { // PGRST116 is 'Row not found'\r\n                        console.error(\"Error fetching profile from DB:\", dbError);\r\n                    } else if (dbProfile) {\r\n                        const loadedProfile = databaseToProfile(dbProfile);\r\n                        setProfile(loadedProfile);\r\n                        localStorage.setItem('stylist_profile', JSON.stringify(loadedProfile));\r\n                    } else {\r\n                        // Profile doesn't exist in DB, fallback to localStorage\r\n                        loadProfileFromStorage();\r\n                    }\r\n\r\n\r\n                } else {\r\n                    // Not authenticated, use localStorage\r\n                    loadProfileFromStorage();\r\n                }\r\n            } catch (err: any) {\r\n                console.error(\"Error initializing profile:\", err);\r\n                setError(err.message);\r\n                // Fallback to localStorage on error\r\n                loadProfileFromStorage();\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        init();\r\n    }, []);\r\n\r\n    const saveProfile = async (newProfile: Partial<typeof DEFAULT_PROFILE>) => {\r\n        // 1. Update local state\r\n        const updated = { ...profile, ...newProfile };\r\n        setProfile(updated);\r\n\r\n        // 2. Sync to localStorage\r\n        localStorage.setItem('stylist_profile', JSON.stringify(updated));\r\n\r\n        // 3. Sync to API / Supabase (only if configured)\r\n        if (!isSupabaseConfigured) {\r\n            return; // Only use localStorage when Supabase is not configured\r\n        }\r\n\r\n        const { data: { user } } = await supabase.auth.getUser();\r\n        if (!user) return; // Fallback to localStorage only\r\n\r\n        // Direct Supabase Save (Static Deployment Optimization)\r\n        const toSave = profileToDatabase(updated);\r\n        const dataWithId = { ...toSave, id: user.id };\r\n\r\n        try {\r\n            const { error } = await supabase\r\n                .from('profiles')\r\n                .upsert(dataWithId, { onConflict: 'id' });\r\n\r\n            if (error) {\r\n                console.error(\"Error saving profile to Supabase:\", error);\r\n                setError(error.message);\r\n            } else {\r\n                setError(null);\r\n            }\r\n        } catch (err: any) {\r\n            console.error(\"Exception saving profile:\", err);\r\n            setError(err.message);\r\n        }\r\n\r\n\r\n    };\r\n\r\n    const clearProfile = async () => {\r\n        // Clear localStorage\r\n        localStorage.removeItem('stylist_profile');\r\n\r\n        // Reset local state\r\n        setProfile(DEFAULT_PROFILE);\r\n\r\n        // Optional: Clear from Supabase (only if configured)\r\n        if (isSupabaseConfigured) {\r\n            const { data: { user } } = await supabase.auth.getUser();\r\n            if (user) {\r\n                try {\r\n                    await supabase.from('profiles').delete().eq('id', user.id);\r\n                } catch (err) {\r\n                    // Silent fail\r\n                    console.error(\"Error deleting profile from Supabase\", err);\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    return { profile, saveProfile, clearProfile, loading, user, error, getUser };\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 326, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/X2/Side%20projects/personal_stylist/src/components/Navigation.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport { Shirt, PlusCircle, Settings, LogOut, Sparkles, Dna } from \"lucide-react\";\r\nimport { useProfile } from \"@/hooks/useProfile\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { supabase, isSupabaseConfigured } from \"@/lib/supabase\";\r\n\r\nexport default function Navigation() {\r\n    const pathname = usePathname();\r\n    const router = useRouter();\r\n    const { profile, loading, clearProfile } = useProfile();\r\n\r\n    // Hide navigation on landing page, onboarding, and auth pages\r\n    const isHidden = pathname === \"/\" || pathname?.startsWith(\"/onboarding\") || pathname?.startsWith(\"/auth\");\r\n\r\n    if (isHidden) return null;\r\n\r\n    const navItems = [\r\n        { name: \"Wardrobe\", href: \"/wardrobe\", icon: Shirt },\r\n        { name: \"Add Item\", href: \"/add-item\", icon: PlusCircle },\r\n        { name: \"Style DNA\", href: \"/style-dna\", icon: Dna },\r\n        { name: \"Preferences\", href: \"/preferences\", icon: Settings },\r\n    ];\r\n\r\n    const handleSignOut = async () => {\r\n        if (confirm(\"Are you sure you want to sign out?\")) {\r\n            if (isSupabaseConfigured) {\r\n                await supabase.auth.signOut();\r\n            }\r\n            clearProfile();\r\n            router.push(\"/\");\r\n            router.refresh(); // Refresh to update middleware state\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {/* Desktop Sidebar */}\r\n            <aside className=\"hidden md:flex flex-col w-64 bg-black/40 backdrop-blur-xl border-r border-white/10 h-screen fixed left-0 top-0 p-6 z-50\">\r\n                <div className=\"flex items-center gap-2 mb-10 px-2 text-primary\">\r\n                    <Sparkles size={24} />\r\n                    <span className=\"font-serif text-xl font-bold tracking-tight\">Gemini Stylist</span>\r\n                </div>\r\n\r\n                <nav className=\"flex-1 space-y-2\">\r\n                    {navItems.map((item) => {\r\n                        const isActive = pathname === item.href;\r\n                        return (\r\n                            <Link\r\n                                key={item.href}\r\n                                href={item.href}\r\n                                className={`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group ${isActive\r\n                                    ? \"bg-primary text-black font-medium shadow-[0_0_15px_rgba(212,175,55,0.3)]\"\r\n                                    : \"text-gray-400 hover:bg-white/5 hover:text-white\"\r\n                                    }`}\r\n                            >\r\n                                <item.icon size={20} className={isActive ? \"text-black\" : \"group-hover:text-primary transition-colors\"} />\r\n                                <span>{item.name}</span>\r\n                            </Link>\r\n                        );\r\n                    })}\r\n                </nav>\r\n\r\n                {/* User Profile Section */}\r\n                {!isHidden && (\r\n                    <div className=\"mb-4 p-4 bg-white/5 backdrop-blur border border-white/10 rounded-xl mx-2\">\r\n                        {loading ? (\r\n                            <div className=\"flex flex-col items-center animate-pulse\">\r\n                                <div className=\"w-12 h-12 bg-gray-700/50 rounded-full mb-3\" />\r\n                                <div className=\"h-4 w-20 bg-gray-700/50 rounded\" />\r\n                            </div>\r\n                        ) : (\r\n                            <Link href=\"/preferences\" className=\"flex flex-col items-center group cursor-pointer hover:bg-white/5 transition-colors rounded-lg p-2 -m-2\">\r\n                                {profile.avatar_url ? (\r\n                                    <img\r\n                                        src={profile.avatar_url}\r\n                                        alt={profile.name || \"User\"}\r\n                                        className=\"w-12 h-12 rounded-full border-2 border-primary/30 shadow-lg shadow-primary/10 object-cover mb-3\"\r\n                                    />\r\n                                ) : (\r\n                                    <div className=\"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center border-2 border-primary/30 shadow-lg shadow-primary/10 mb-3\">\r\n                                        <span className=\"text-primary font-bold text-xl\">\r\n                                            {profile.name\r\n                                                ? profile.name.split(\" \").map(n => n[0]).join(\"\").substring(0, 2).toUpperCase()\r\n                                                : \"U\"}\r\n                                        </span>\r\n                                    </div>\r\n                                )}\r\n                                <span className=\"text-gray-300 text-sm font-medium truncate max-w-[180px] group-hover:text-white transition-colors\">\r\n                                    {profile.name || \"User\"}\r\n                                </span>\r\n                            </Link>\r\n                        )}\r\n                    </div>\r\n                )}\r\n\r\n                <div className=\"pt-6 border-t border-white/10\">\r\n                    <button\r\n                        onClick={handleSignOut}\r\n                        className=\"flex items-center gap-3 px-4 py-3 text-gray-500 hover:text-white transition-colors w-full rounded-xl hover:bg-white/5\"\r\n                    >\r\n                        <LogOut size={20} />\r\n                        <span>Sign Out</span>\r\n                    </button>\r\n                </div>\r\n            </aside>\r\n\r\n            {/* Mobile Bottom Bar */}\r\n            <nav className=\"md:hidden fixed bottom-0 left-0 w-full bg-[#0a0a0a]/90 backdrop-blur-xl border-t border-white/10 p-4 z-50 flex justify-around items-center pb-8 safe-area-pb\">\r\n                {navItems.map((item) => {\r\n                    const isActive = pathname === item.href;\r\n                    return (\r\n                        <Link\r\n                            key={item.href}\r\n                            href={item.href}\r\n                            className={`flex flex-col items-center gap-1 p-2 rounded-lg transition-colors ${isActive ? \"text-primary\" : \"text-gray-500 hover:text-white\"\r\n                                }`}\r\n                        >\r\n                            <item.icon size={24} strokeWidth={isActive ? 2.5 : 2} />\r\n                            <span className=\"text-[10px] font-medium\">{item.name}</span>\r\n                        </Link>\r\n                    );\r\n                })}\r\n            </nav>\r\n        </>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 603, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/X2/Side%20projects/personal_stylist/src/components/ToastProvider.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Toaster } from \"sonner\";\r\n\r\n\r\nexport default function ToastProvider() {\r\n    return (\r\n        <Toaster\r\n            position=\"bottom-right\"\r\n            toastOptions={{\r\n                style: {\r\n                    background: \"rgba(255, 255, 255, 0.8)\",\r\n                    backdropFilter: \"blur(10px)\",\r\n                    border: \"1px solid rgba(212, 175, 55, 0.3)\",\r\n                    color: \"#1a1a1a\",\r\n                },\r\n                className: \"glass\",\r\n                duration: 4000,\r\n            }}\r\n        />\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAKe,SAAS;IACpB,qBACI,8OAAC,mJAAO;QACJ,UAAS;QACT,cAAc;YACV,OAAO;gBACH,YAAY;gBACZ,gBAAgB;gBAChB,QAAQ;gBACR,OAAO;YACX;YACA,WAAW;YACX,UAAU;QACd;;;;;;AAGZ"}},
    {"offset": {"line": 635, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/X2/Side%20projects/personal_stylist/src/components/LayoutContent.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { usePathname } from \"next/navigation\";\r\nimport Navigation from \"@/components/Navigation\";\r\nimport ToastProvider from \"@/components/ToastProvider\";\r\n\r\nexport default function LayoutContent({\r\n  children,\r\n}: Readonly<{\r\n  children: React.ReactNode;\r\n}>) {\r\n  const pathname = usePathname();\r\n  const isLanding = pathname === \"/\" || pathname?.startsWith(\"/onboarding\") || pathname?.startsWith(\"/auth\");\r\n  \r\n  return (\r\n    <>\r\n      <Navigation />\r\n      <main className={`min-h-screen transition-all duration-300 ${isLanding ? \"\" : \"md:pl-64\"}`}>\r\n        {children}\r\n      </main>\r\n      <ToastProvider />\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS,cAAc,EACpC,QAAQ,EAGR;IACA,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,YAAY,aAAa,OAAO,UAAU,WAAW,kBAAkB,UAAU,WAAW;IAElG,qBACE;;0BACE,8OAAC,2IAAU;;;;;0BACX,8OAAC;gBAAK,WAAW,CAAC,yCAAyC,EAAE,YAAY,KAAK,YAAY;0BACvF;;;;;;0BAEH,8OAAC,8IAAa;;;;;;;AAGpB"}}]
}